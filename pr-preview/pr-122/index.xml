<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>SSPHub</title>
<link>https://ssphub.netlify.app/</link>
<atom:link href="https://ssphub.netlify.app/index.xml" rel="self" type="application/rss+xml"/>
<description>Blog du rÃ©seau des data scientists de la statistique publique</description>
<generator>quarto-1.8.26</generator>
<lastBuildDate>Wed, 10 Dec 2025 00:00:00 GMT</lastBuildDate>
<item>
  <title>Qui pour financer lâ€™open source?</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_21/</link>
  <description><![CDATA[ 





<section id="bienvenue-Ã -la-vingt-et-uniÃ¨me-infolettre" class="level1">
<h1>Bienvenue Ã  la <strong>vingt et uniÃ¨me infolettre</strong> !</h1>
<p>DÃ©but dÃ©cembre, câ€™est le deuxiÃ¨me moment dur de lâ€™annÃ©e aprÃ¨s juin. En septembre, on se dit quâ€™on fera tout cela dâ€™ici NoÃ«l, large. Et puis on se rÃ©veille, câ€™est dÃ©jÃ  dÃ©but dÃ©cembre, la to-do est loin dâ€™Ãªtre finie et la prÃ©paration des fÃªtes de fin dâ€™annÃ©e arrive Ã  grand pas.</p>
<p>Allez, courage, <strong>dernier sprint</strong> de 2025 !</p>
</section>
<section id="linfographie" class="level1">
<h1>Lâ€™infographie</h1>
<p>Ce mois-ci, dÃ©couvrez un outil pour visualiser les <strong>panaches de pollution aux particules fines (PM2.5)</strong> Ã©mis par 9&nbsp;500 sites les plus polluants dans plus de 2&nbsp;500 zones urbaines. <a href="https://climatetrace.org"><strong>ClimateTRACE</strong></a> reconstitue une journÃ©e type de pollution par ces sites Ã  partir des conditions mÃ©tÃ©orologiques rÃ©elles.</p>
<p>Spoiler : la pollution de la centrale Ã©lectrique dâ€™Ivry sâ€™envole jusque trÃ¨s trÃ¨s loin â€¦</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_21/climatetrace.png" class="img-fluid figure-img" width="800"></p>
<figcaption>source: <a href="https://climatetrace.org/air-pollution">ClimateTRACE</a></figcaption>
</figure>
</div>
</section>
<section id="actus-du-rÃ©seau" class="level1">
<h1>Actus du rÃ©seau</h1>
<section id="la-troisiÃ¨me-journÃ©e-du-rÃ©seau-a-eu-lieu-le-1er-dÃ©cembre" class="level2">
<h2 class="anchored" data-anchor-id="la-troisiÃ¨me-journÃ©e-du-rÃ©seau-a-eu-lieu-le-1er-dÃ©cembre">La troisiÃ¨me journÃ©e du rÃ©seau a eu lieu le 1<sup>er</sup> dÃ©cembre</h2>
<p>Le 1<sup>er</sup> dÃ©cembre 2025, le rÃ©seau a organisÃ© sa troisiÃ¨me journÃ©e annuelle. Avec quatre prÃ©sentations, deux interventions extÃ©rieures et un atelier de partage, cette Ã©dition a rÃ©uni une soixantaine de participants en prÃ©sentiel et distanciel pour des Ã©changes riches et constructifs. Merci Ã  tous les participants pour votre participation active !</p>
<section id="les-prÃ©sentations" class="level3">
<h3 class="anchored" data-anchor-id="les-prÃ©sentations">Les prÃ©sentations</h3>
<ol type="1">
<li><strong>Offre LLM du SSPCloud</strong> : Lâ€™Insee (DIIT) a prÃ©sentÃ© les <a href="https://llm.lab.sspcloud.fr/">nouvelles fonctionnalitÃ©s</a> basÃ©es sur les modÃ¨les de langage (LLM) disponibles sur le SSPCloud, intÃ©grant de maniÃ¨re plus poussÃ©e des fonctionnalitÃ©s de complÃ©tion de code et dâ€™analyses de donnÃ©es.</li>
<li><strong>Extraction des compÃ©tences dans <a href="https://dares.travail-emploi.gouv.fr/enquete-source/job-offers-collection-and-analysis-system">JOCAS</a></strong> : La DARES et lâ€™Insee (DEE) ont partagÃ© une version test de leur projet dâ€™extraction des compÃ©tences numÃ©riques dans les offres dâ€™emploi, combinant reconnaissance dâ€™entitÃ©s nommÃ©es et classification par LLM. Ce projet vise Ã  amÃ©liorer lâ€™analyse des mÃ©tiers et des parcours professionnels.</li>
<li><strong>Automatisation des infos rapides justice</strong> : Le SSER (SSM Justice) a prÃ©sentÃ© son package R <code>chartegraphique.sser</code>, conÃ§u pour automatiser la production des <a href="https://www.justice.gouv.fr/documentation/etudes-et-statistiques?categories%5B%5D=394&amp;items_per_page=10">infos rapides justice</a>. Les dÃ©tails techniques sont disponibles sur le site des <a href="https://journees-methodologie-statistique.insee.net/automatisation-de-la-production-des-infos-rapides-justice-a-la-charte-graphique-du-sser-au-format-pdf-a-laide-dun-outil-combinant-rmarkdown-et-pagedown/">JournÃ©es de MÃ©thodologie Statistique (JMS)</a>.</li>
<li><strong>Package de classification textuelle</strong> : Lâ€™Insee (SSPLab) a prÃ©sentÃ© <a href="https://pypi.org/project/torchtextclassifiers/">torchTextClassifiers</a>, un package Python de classification textuelle, Ã©tendant fastText et reposant sur PyTorch. Ce package permet dâ€™entraÃ®ner des modÃ¨les maisons Ã  taille rÃ©duite en gardant le contrÃ´le de leur architecture.</li>
</ol>
</section>
<section id="atelier-collaboratif" class="level3">
<h3 class="anchored" data-anchor-id="atelier-collaboratif">Atelier collaboratif</h3>
<p>Un atelier dâ€™Ã©change entre les participants a permis de partager nos pratiques quotidiennes dâ€™utilisation des outils dâ€™IA pour les data scientists et statisticiens :</p>
<ol type="1">
<li>Quels sont nos cas dâ€™usage?</li>
<li>Quels outils privilÃ©gier, et quels sont leurs avantages et limites ?</li>
</ol>
<p>Nos Ã©changes, riches et nombreux, ont permis de partager des retours dâ€™expÃ©rience concrets et nos bonnes (et moins bonnes) pratiques.</p>
</section>
<section id="invitÃ©s" class="level3">
<h3 class="anchored" data-anchor-id="invitÃ©s">InvitÃ©s</h3>
<ol type="1">
<li>La <strong>Dinum</strong> a prÃ©sentÃ© les derniÃ¨res Ã©volutions de <a href="https://www.data.gouv.fr/">data.gouv.fr</a>, dont <code>data.pass</code>.</li>
<li>Lâ€™<strong>INA</strong> a prÃ©sentÃ© <a href="https://data.ina.fr/">data.ina</a>, un portail pour construire des indicateurs de suivi des mÃ©dias.</li>
</ol>
<p>Les prÃ©sentations et le replay de la journÃ©e sont disponibles sur la <a href="../../talk/2025-12-01-network-day/index.html">page de lâ€™Ã©vÃ©nement</a>.</p>
</section>
</section>
<section id="prochain-Ã©vÃ©nement-prÃ©sentation-de-cartographia---13-janvier-2026---format-mixte-montrouge-et-en-ligne" class="level2">
<h2 class="anchored" data-anchor-id="prochain-Ã©vÃ©nement-prÃ©sentation-de-cartographia---13-janvier-2026---format-mixte-montrouge-et-en-ligne">Prochain Ã©vÃ©nement : prÃ©sentation de Cartographia - ğŸ“… 13 janvier 2026 - format mixte (Montrouge et en ligne)</h2>
<p>Le prochain Ã©vÃ©nement du rÃ©seau sera le <strong>13 janvier 2026</strong>. <a href="https://bsky.app/profile/fbahoken.bsky.social">FranÃ§oise Bahoken</a> et <a href="https://bsky.app/profile/neocarto.bsky.social">Nicolas Lambert</a> viendront nous parler de leur livre <a href="https://neocarto.hypotheses.org/22669"><strong>Cartographia</strong></a> et des questions de cartographie passionnantes quâ€™ils y abordent.</p>
<p>Nicolas Lambert Ã©tait dÃ©jÃ  intervenu pour prÃ©senter <a href="https://observablehq.com/">Observable</a>, une librairie JavaScript trÃ¨s pratique pour faire des dataviz.</p>
</section>
</section>
<section id="actualitÃ©s" class="level1">
<h1>ActualitÃ©s</h1>
<p>Une foule dâ€™article a Ã©tÃ© publiÃ©e derniÃ¨rement sur lâ€™importance de lâ€™open-source, son inter-dÃ©pendance avec les solutions payantes, le coÃ»t cachÃ© de sa maintenance et enfin lâ€™impact sur la souverainetÃ© numÃ©rique. Et, bizarrement, il y a moins dâ€™articles sur lâ€™IA ce mois-ci ğŸ¤·â€â™€ï¸.</p>
<section id="open-source-et-souverainetÃ©" class="level2">
<h2 class="anchored" data-anchor-id="open-source-et-souverainetÃ©">Open-source et souverainetÃ©</h2>
<section id="lopen-source-dÃ©pend-du-travail-gratuit-dinconnus" class="level3">
<h3 class="anchored" data-anchor-id="lopen-source-dÃ©pend-du-travail-gratuit-dinconnus">Lâ€™open source dÃ©pend du travail gratuit dâ€™inconnus</h3>
<ul>
<li>De rÃ©cents incidents ont rappelÃ© que <strong>notre monde numÃ©rique est trÃ¨s interdÃ©pendant</strong> de solutions parfois lointaines. Un bug dans un logiciel critique, open-source ou payant, se rÃ©percute ainsi rapidement Ã  Ã©chelle mondiale. Cloudflare a par exemple connu une <a href="https://blog.cloudflare.com/18-november-2025-outage/">panne le 18 novembre 2025</a><sup>1</sup>, mettant KO de nombreux sites, y compris <a href="https://downdetector.fr/">downdetector</a> qui signale les pannes. La panne Ã©tait due Ã  une mise en production (ratÃ©e du coup).</li>
</ul>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.explainxkcd.com/wiki/images/d/d7/dependency.png" class="img-fluid figure-img" width="333"></p>
<figcaption>En 2020, par <a href="https://www.explainxkcd.com/wiki/index.php/2347:_Dependency">XKCD</a></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_21/xkcd_2025.jpg" class="img-fluid figure-img" width="350"></p>
<figcaption>En 2025, par <a href="https://bsky.app/profile/flipperpa.bsky.social/post/3m63xgtlh4k2d">Timothy A.</a></figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>La dÃ©pendance numÃ©rique en images</p>
</div>
</div>
</div>
<ul>
<li>Au delÃ  de la simple inter-dÃ©pendance Ã  des logiciels payant, le code open-source est souvent <strong>maintenu gratuitement par des inconnus</strong>, comme les secours en mer ou les pompiers volontaires qui sont assurÃ©s en partie par des bÃ©nÃ©voles.</li>
</ul>
<p>Un <a href="https://thenewstack.io/ffmpeg-to-google-fund-us-or-stop-sending-bugs/">dÃ©bat</a> est ainsi apparu aprÃ¨s que FFmpeg, un framework open-source vidÃ©o largement utilisÃ© (notamment par Chrome, Firefox ou YouTube), sâ€™est retrouvÃ© submergÃ© de demande de correction de bugs, trouvÃ©s par lâ€™IA de Google. Or dans lâ€™open source, les bugs sont rÃ©parÃ©s par des mainteneurs, tous bÃ©nÃ©voles, et qui ne peuvent plus suivre le rythme. Certaines personnes appellent ainsi Google, et plus largement les entreprises qui bÃ©nÃ©ficient de lâ€™open-source et gÃ©nÃ¨rent des revenus <del>supÃ©rieurs aux PIB de certains pays du monde</del>, Ã  financer directement la maintenance des outils quâ€™ils utilisent mÃªme si ce nâ€™est pas quâ€™une question de financement.</p>
<ul>
<li>Lâ€™open source veut des sous, des sous, des sous, oui mais combien ? On parle Ã©tonnamment de sommes plutÃ´t faibles : Ã  titre de comparaison, la fondation qui gÃ¨re <strong>Python</strong> a un budget annuel de 5 millions de dollars. On lâ€™apprend notamment dans ce <a href="https://pyfound.blogspot.com/2025/10/NSF-funding-statement.html">billet de blog</a> oÃ¹ la fondation explique pourquoi elle a refusÃ© un financement de 1,5 million de dollars du gouvernement amÃ©ricain aprÃ¨s lâ€™avoir demandÃ© (si vous nâ€™avez pas le temps: câ€™est parce que le financement venait avec lâ€™engagement de ne pas faire de promotion sur les thÃ¨mes de la diversitÃ©, de lâ€™Ã©quitÃ© et de lâ€™inclusion).</li>
</ul>
</section>
<section id="des-alternatives-existent" class="level3">
<h3 class="anchored" data-anchor-id="des-alternatives-existent">Des alternatives existent</h3>
<ul>
<li><strong>Blois</strong> : La ville a choisi de prendre la fin des mises Ã  jour de Windows 10 comme une opportunitÃ© et de basculer vers <a href="https://www.blois.fr/info/2025/11/numeriquelibre-primtux">PrimTux</a>, une distribution Linux Ã©ducative.</li>
<li><strong>Cour internationale de justice (ICC)</strong> : En 2025, la Cour internationale de justice (qui dÃ©pend de lâ€™ONU) a Ã©tÃ© ciblÃ©e par des sanctions amÃ©ricaines. Les versions divergent ensuite : Microsoft a-t-il volontairement coupÃ© lâ€™accÃ¨s du prÃ©sident de la Cour Ã  ses mails avant de le rÃ©tablir ou cela Ã©tait-il juste un incident? Toujours est-il que la Cour internationale de justice a annoncÃ© en octobre 2025 son intention de basculer vers <strong>des solutions europÃ©ennes</strong>, comme rapportÃ© par le <a href="https://www.handelsblatt.com/technik/it-internet/software-strafgerichtshof-ersetzt-microsoft-durch-deutsche-loesung/100166382.html">Handelsblatt (auf Deutsch ğŸ‡©ğŸ‡ª)</a>.</li>
</ul>
</section>
</section>
<section id="ia-ia-ia" class="level2">
<h2 class="anchored" data-anchor-id="ia-ia-ia">IA, IA, IA</h2>
<section id="les-modÃ¨les-de-langage-seraient-inversibles" class="level3">
<h3 class="anchored" data-anchor-id="les-modÃ¨les-de-langage-seraient-inversibles">Les modÃ¨les de langage seraient inversibles</h3>
<p>Une Ã©tude rÃ©cente (<a href="https://arxiv.org/abs/2510.15511">Nikolaou et al., 2025</a>) montre que les modÃ¨les de language sont <strong>injectifs</strong><sup>2</sup> : chaque entrÃ©e est mappÃ©e Ã  une reprÃ©sentation interne unique. Le papier propose par ailleurs un algorithme, <strong>SipIt</strong>, capable de reconstruire le prompt original avec 100% de rÃ©ussite et rapidement.</p>
</section>
</section>
<section id="very-big-data-isnt-dead" class="level2">
<h2 class="anchored" data-anchor-id="very-big-data-isnt-dead">Very big data isnâ€™t dead</h2>
<ul>
<li>Du mal Ã  faire tourner des tables de 2 Go ? Imaginez le CERN, oÃ¹ le laboratoire du LHCb gÃ©nÃ¨re <strong>25 millions de collisions de protons par seconde</strong>, soit la paille de 4 To de donnÃ©es par seconde. Comment faire ? Comme expliquÃ© dans <a href="https://lhcb-outreach.web.cern.ch/filtering-data-in-real-time/">ce post</a>, ils ont mis en place lâ€™infrastructure pour filtrer les donnÃ©es et ne garder que 10 Go de donnÃ©es gÃ©nÃ©rÃ©es par seconde. Câ€™est un peu la citation de Einstein :</li>
</ul>
<blockquote class="blockquote">
<p>Do not worry about your difficulties in mathematics; I can assure you that mine are still greater.</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://lhcb-outreach.web.cern.ch/wp-content/uploads/2022/08/Run3_Trigger_LHCb-1024x560.png" class="img-fluid figure-img"></p>
<figcaption>Filtering data in real time, <a href="https://lhcb-outreach.web.cern.ch/filtering-data-in-real-time/">LHCb</a></figcaption>
</figure>
</div>
</section>
<section id="ressources-et-fun" class="level2">
<h2 class="anchored" data-anchor-id="ressources-et-fun">Ressources et fun</h2>
<section id="nouveaux-outils" class="level3">
<h3 class="anchored" data-anchor-id="nouveaux-outils">Nouveaux outils</h3>
<ul>
<li><strong>R</strong> : <a href="https://r-consortium.org/posts/jarl-just-another-r-linter/">Jarl</a>, un nouveau linter pour R, conÃ§u pour Ãªtre simple et efficace.</li>
<li><a href="https://murmure.al1x-ai.com/"><strong>Murmure</strong></a> : Un outil dâ€™IA open-source pour gÃ©nÃ©rer des rÃ©sumÃ©s et des analyses de texte hors ligne et en local, dÃ©veloppÃ© par <a href="https://www.al1x-ai.com/"><code>Al1X-AI</code></a>.</li>
</ul>
</section>
<section id="ressources-et-formation" class="level3">
<h3 class="anchored" data-anchor-id="ressources-et-formation">Ressources et formation</h3>
<ul>
<li><strong>IA</strong> : <a href="https://mikexcohen.substack.com/p/gender-bias-in-large-language-models">Gender Bias in Large Language Models</a> explique de maniÃ¨re trÃ¨s pÃ©dagogique le fonctionnement des LLM</li>
<li><strong>Python</strong> : <a href="https://blog.genesmindsmachines.com/p/python-is-not-a-great-language-for">Python is Not a Great Language for Data Science</a> : comment dÃ©marrer en Python, et une comparaison (subjective) entre Python et R</li>
<li><strong>Docker</strong> : <a href="https://muhammadraza.me/2024/building-container-runtime-python/">Voici un tuto</a> pour (un peu) dÃ©mystifier les conteneurs et en construire un avec Python.</li>
</ul>
</section>
<section id="fun" class="level3">
<h3 class="anchored" data-anchor-id="fun">Fun</h3>
<ul>
<li><a href="https://adventofcode.com/"><strong>Advent of Code</strong></a> : Un calendrier de lâ€™avent pour dÃ©veloppeurs (au niveau certain).</li>
<li><strong>GenZ vs Boomers</strong> : Si vous ne savez pas si vous Ãªtes cÃ´tÃ© boomer ou genZ, allez faire un tour sur <a href="https://github.com/hadley/genzplyr">genzplyr</a> et <a href="https://bradlindblad.github.io/boomerplyr/">boomerplyr</a> : vous comprendrez vite quâ€™il y a lâ€™un des deux packages que vous ne comprenez pas. Je sais de quel cÃ´tÃ© je suis ğŸ‘´.</li>
</ul>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Ils ont mÃªme eu la bonne idÃ©e dâ€™avoir une deuxiÃ¨me panne, plus rapidement rÃ©glÃ©e, le jour de rÃ©daction de cette infolettre ğŸ™ƒ.â†©ï¸</p></li>
<li id="fn2"><p>vieux rappel de maths : injectif veut dire Ã  peu prÃ¨s que si deux objects transformÃ©s sont les mÃªmes, câ€™est quâ€™Ã  les objets avant transformation sont les mÃªmes.â†©ï¸</p></li>
</ol>
</section></div> ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_21/</guid>
  <pubDate>Wed, 10 Dec 2025 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_21/newsletter_21.png" medium="image" type="image/png"/>
</item>
<item>
  <title>De belles cartographies, des packages R et lâ€™importance des donnÃ©es dâ€™entraÃ®nement pour lâ€™IA</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_20/</link>
  <description><![CDATA[ 





<p>Bienvenue Ã  la <strong>vingtiÃ¨me infolettre</strong> ! Il est temps de se mettre au dÃ©fi de respecter ce qui a Ã©tÃ© dit il y a quelques semaines : une newsletter par mois ga-ran-tie je vous ai dit. Bon, Ã  lâ€™Ã©poque, je ne savais pas quâ€™un mois Ã§a voulait dire 4 semaines et que 4, câ€™est pas beaucoup ğŸ™ƒ. Allez, on y va !</p>
<p>Bonne lecture ğŸ“” !</p>
<section id="linfographie" class="level1">
<h1>Lâ€™infographie</h1>
<p>Beaucoup dâ€™infographies ce mois-ci, le choix a Ã©tÃ© dur. Pour une fois, partons sur une vidÃ©o rÃ©alisÃ©e par <a href="https://www.fabianlang.net/schweizer-bergwelten/">Fabian Lang</a> : le trajet dâ€™un gypaÃ¨te barbu suivi par GPS en 3D dans les Alpes suisses. La vraie infographie, en format vidÃ©o, est disponible <a href="https://www.linkedin.com/posts/fbnlng_vulture-beardedvulture-cartography-activity-7274787245021188097-L9vj">ici</a>. Attention, vertige.</p>
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_20/2025_10_gypaete.png" class="img-fluid"></p>
</section>
<section id="actus-du-rÃ©seau" class="level1">
<h1>Actus du rÃ©seau</h1>
<section id="la-troisiÃ¨me-journÃ©e-du-rÃ©seau-1-dÃ©cembre---la-trÃ©so-malakoff" class="level2">
<h2 class="anchored" data-anchor-id="la-troisiÃ¨me-journÃ©e-du-rÃ©seau-1-dÃ©cembre---la-trÃ©so-malakoff">La troisiÃ¨me journÃ©e du rÃ©seau ğŸ“… 1 dÃ©cembre - La TrÃ©so (Malakoff)</h2>
<p>Les <strong>inscriptions</strong> pour la troisiÃ¨me journÃ©e du rÃ©seau le 1<sup>er</sup> dÃ©cembre 2025 sont <a href="https://www.eventbrite.com/e/billets-3e-journee-du-reseau-des-data-scientists-1664052518879?aff=oddtdtcreator">ouvertes</a>. Si vous souhaitez prÃ©senter un sujet, nâ€™hÃ©sitez pas Ã  me contacter !</p>
</section>
<section id="prÃ©sentation-de-cartographia---13-janvier-2026---format-mixte-montrouge-et-en-ligne" class="level2">
<h2 class="anchored" data-anchor-id="prÃ©sentation-de-cartographia---13-janvier-2026---format-mixte-montrouge-et-en-ligne">PrÃ©sentation de Cartographia - ğŸ“… 13 janvier 2026 - format mixte (Montrouge et en ligne)</h2>
<p><a href="https://bsky.app/profile/fbahoken.bsky.social">FranÃ§oise Bahoken</a> et <a href="https://bsky.app/profile/neocarto.bsky.social">Nicolas Lambert</a> vont venir nous parler de leur livre <a href="https://neocarto.hypotheses.org/22669">Cartographia</a> et des questions de cartographie (!) passionnantes quâ€™ils y abordent. Cela se passera <strong>le 13 janvier 2026</strong> en dÃ©but dâ€™aprÃ¨s-midi, en format mixte : prÃ©sentiel (Ã  la DG de lâ€™Insee) et Ã  distance. Nicolas Lambert Ã©tait dÃ©jÃ  intervenu pour nous prÃ©senter Observable, une librairie Javascript trÃ¨s pratique pour faire des dataviz (<a href="../../talk/presentation-dobservable-par-nicolas-lambert/index.html">ici</a>, pour rappel). Si cela vous intÃ©resse, rÃ©servez donc votre dÃ©but dâ€™aprÃ¨s-midi !</p>
</section>
</section>
<section id="actualitÃ©s" class="level1">
<h1>ActualitÃ©s</h1>
<p>Ce mois-ci, place aux belles images et Ã  la cartographie. Lâ€™IA reste omniprÃ©sente : les institutions cherchent Ã  favoriser la rÃ©utilisation de leurs donnÃ©es, certains contournent les LLM avec des consignes Ã©crites Â« en blanc sur blanc Â», et les donnÃ©es dâ€™entraÃ®nement sont au centre de lâ€™attention.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous voyez dâ€™autres sujets dâ€™actualitÃ© intÃ©ressants ? Nâ€™hÃ©sitez pas Ã  les partager sur le <a href="https://tchap.gouv.fr/#/room/#ssphub:agent.finances.tchap.gouv.fr">groupe Tchap ğŸ’¬</a> directement !</p>
</div>
</div>
<section id="datavisualisation" class="level2">
<h2 class="anchored" data-anchor-id="datavisualisation">Datavisualisation</h2>
<ul>
<li>Une <a href="https://neocarto.hypotheses.org/21980">belle carte</a> de <strong>migration simulÃ©e au niveau infra-national</strong> en zone endÃ©mique paludÃ©enne africaine. FranÃ§oise Bahoken, son autrice, sera notre invitÃ©e dÃ©but 2026.<br>
</li>
<li>Pour les passionnÃ©s dâ€™espace, voici une <a href="https://atlasof.space/"><strong>carte en 3D et dynamique</strong></a> du systÃ¨me solaire, comprenant les planÃ¨tes mais aussi les astÃ©roÃ¯des! Vous pouvez jouer avec le temps pour savoir oÃ¹ sera la Terre quand vous aurez 30/40/50/60/70 ans (spoiler alert : câ€™est cyclique), et vÃ©rifier aussi quâ€™aucun astÃ©roÃ¯de ne passe sur la Terre dâ€™ici lÃ .</li>
<li>Pour les autres candidats Ã  lâ€™infographie du mois :
<ul>
<li>pour voir lâ€™ensemble des <strong>livres publiÃ©s</strong> en une seule carte interactive, cela donne <a href="https://phiresky.github.io/isbn-visualization/?">cela</a>.</li>
<li>la cheffe de lâ€™infographie dâ€™Epsiloon (magazine de sciences) a publiÃ© les Ã©tapes <a href="https://www.figma.com/proto/C8xDR9mlWX8kBV0crJr1IK/Les-infographies-d-Epsiloon?page-id=3102%3A2581&amp;node-id=3102-2979&amp;viewport=1040%2C640%2C0.18&amp;t=h0dF40xsTRgqYfJi-8&amp;scaling=scale-down-width&amp;content-scaling=fixed&amp;starting-point-node-id=3102%3A2583&amp;hide-ui=1">avant / aprÃ¨s</a> de ses infographies. Je vous recommande celle sur les <strong>habitudes de sommeil par pays</strong>.</li>
</ul></li>
<li>Enfin, un petit jeu Ã  la SUTOM en version graphique : un <a href="https://chartle.cc/"><strong>graphique par jour</strong></a>, devinez le pays !</li>
</ul>
</section>
<section id="cartographie" class="level2">
<h2 class="anchored" data-anchor-id="cartographie">Cartographie</h2>
<ul>
<li>Des chercheurs de lâ€™UniversitÃ© de Charles (en TchÃ©quie) et de Freiburg ont publiÃ© une (trÃ¨s belle) <strong>taxonomie des bÃ¢timents urbains</strong>, disponible en ligne. Tout est <a href="https://urbantaxonomy.org">ici</a> et vous pouvez explorer le bÃ¢ti urbain de six pays dâ€™Europe centrale et de lâ€™est.<br>
</li>
<li>Lâ€™IGN a publiÃ© <a href="https://www.ign.fr/publications-de-l-ign/institut/kiosque/publications/atlas_anthropocene/2025/Atlas-2025-risque-inondation.pdf">une cartographie</a> trÃ¨s dÃ©taillÃ©e des <strong>risques dâ€™inondation et de submersion</strong> sur tout le territoire national, notamment grÃ¢ce aux images LIDAR. Par exemple, vous habitez Ã  Saint-Maur-des-FossÃ©s? Vous pouvez y voir la simulation dâ€™une inondation majeure chez vous.<br>
</li>
<li>Utiliser lâ€™<strong>IA pour faire des fonds de carte</strong> Ã  partir dâ€™image satellite ? Cela semble bien fonctionner dâ€™aprÃ¨s ce <a href="https://www.linkedin.com/posts/davidoesch_map-generation-geospatial-activity-7379129420801875968-yNzj">post</a>.</li>
<li>A partir des donnÃ©es dâ€™utilisateurs de Facebook, des <a href="https://www.pnas.org/doi/10.1073/pnas.2409418122">chercheurs</a> ont bÃ¢ti des <strong>indicateurs mensuels de flux migratoires</strong> couvrant 181 pays.</li>
<li>AprÃ¨s la prÃ©visualisation de donnÃ©es Parquet en ligne, cette fois <a href="https://developmentseed.org/stac-map/">ce site</a> permet de <strong>visualiser trÃ¨s facilement des fichiers de donnÃ©es gÃ©ographiques</strong> types STAC (dont Geoparquet). Explications sur la plomberie <a href="https://developmentseed.org/blog/2025-09-02-stacmap/">ici</a>.</li>
<li>La communautÃ© Apache Sedona publie <a href="https://sedona.apache.org/latest/blog/2025/09/24/introducing-sedonadb-a-single-node-analytical-database-engine-with-geospatial-as-a-first-class-citizen/"><strong>SedonaDB</strong></a>, un moteur de base de donnÃ©es analytique open source et pensÃ© nativement aussi pour des donnÃ©es spatiales.</li>
</ul>
</section>
<section id="le-reste-cest-le-r" class="level2">
<h2 class="anchored" data-anchor-id="le-reste-cest-le-r">Le reste câ€™est le R</h2>
<ul>
<li>Le <a href="https://vincentarelbundock.github.io/tinytable/">package R tinytable</a>, permet de faire des <strong>tableaux de qualitÃ©</strong> en de multiples formats. Lâ€™ambition de ce package est dâ€™Ãªtre simple, lÃ©ger (0 dÃ©pendance Ã  des packages externes), flexible et de diffÃ©rencier les donnÃ©es de lâ€™affichage.</li>
<li>Le <a href="https://r-consortium.org/all-projects/2025-group-1.html#reviving-redoc">package R redoc</a> devrait Ãªtre mis Ã  jour. Il permet notamment de <strong>faire le lien entre Quarto, et la suite Office</strong>, par exemple si vous gÃ©nÃ©rez des documents qui seront relus par des personnes utilisant Word comme outil de travail ğŸ˜‰.<br>
</li>
<li>En machine learning, quels sont les problÃ¨mes posÃ©s par des <strong>classes dâ€™apprentissage de tailles trÃ¨s diffÃ©rentes</strong> ? Selon cet <a href="https://datascience.stackexchange.com/questions/134389/is-class-imbalance-really-a-problem-in-machine-learning">article</a>, il sâ€™agit surtout 1/ dâ€™avoir des mÃ©triques de performance adÃ©quates, 2/ dâ€™avoir un nombre absolu dâ€™observations dans la classe minoritaire suffisant (et non une part dans le total) et enfin 3/ de faire attention Ã  la fongibilitÃ© entre classes.</li>
</ul>
</section>
<section id="ia" class="level2">
<h2 class="anchored" data-anchor-id="ia">IA</h2>
<ul>
<li>Quâ€™est-ce que les <strong>paramÃ¨tres des modÃ¨les publiÃ©s</strong> disent des donnÃ©es dâ€™entraÃ®nement sous-jacentes, confidentielles ? Des chercheurs sont <a href="https://fi-le.net/oss/">allÃ©s fouiller</a> ce que cache GPT-5.</li>
<li>Du cÃ´tÃ© de <strong>lâ€™entraÃ®nement des modÃ¨les</strong>, la gamme des donnÃ©es disponibles sâ€™enrichit pour que ses donnÃ©es soient mieux reprises par lâ€™IA. Câ€™est un nouvel Ã©pisode de la course Ã  ne pas finir page 15 des rÃ©sultats Google ou page 259 des blogs Myspace.
<ul>
<li><strong>Wikidata</strong>, qui stocke les donnÃ©es structurÃ©es de WikipÃ©dia et consorts, propose maintenant ses donnÃ©es sous format de <a href="https://www.wikidata.org/wiki/Wikidata:Embedding_Project/October_1_2025_Release">donnÃ©es vectorielles</a>.</li>
<li>Un programme dâ€™<strong>harmonisation des metadata et dâ€™API</strong>, lâ€™<a href="https://www.snowflake.com/en/blog/open-semantic-interchange-ai-standard/">Open Semantic Interchange Initiative</a>, a Ã©tÃ© lancÃ© pour enrichir les donnÃ©es dâ€™apprentissage et la prÃ©cision des IA. Lâ€™idÃ©e est dâ€™avoir un langage YAML commun pour permettre aux IA dâ€™Ã©changer des donnÃ©es de maniÃ¨re robuste, par exemple par API et sans perte de sens au fur et Ã  mesure de leur traitement par des agents dâ€™IA.</li>
<li>Une fois que lâ€™on a les donnÃ©es, on cherche ensuite Ã  savoir de <strong>combien de GPU jâ€™ai besoin pour entraÃ®ner mon modÃ¨le</strong>. La Dinum a dÃ©veloppÃ© <a href="https://github.com/etalab-ia/InfraScale">un outil</a> pour estimer ses besoins pour cette Ã©tape.</li>
</ul></li>
<li>Des faiblesses des modÃ¨les de LLM sont, comme toujours, remontÃ©es, notamment sur <strong>lâ€™importance des donnÃ©es dâ€™apprentissage et dâ€™un prompt propre</strong>. Cela met notamment en valeur le fait que les modÃ¨les ne sont pour le moment pas trÃ¨s efficaces quand il sâ€™agit de trier des CV ou des articles.
<ul>
<li>Le â€œprompt injectionâ€ : câ€™est lâ€™idÃ©e de truquer lâ€™IA dans son CV/projet dâ€™article scientifique/sur Linkedin, par exemple avec des instructions Ã©crites en Â« blanc sur blanc Â», pour avoir plus de chance dâ€™Ãªtre sÃ©lectionnÃ©/de dÃ©tecter les messages Ã©crits par lâ€™IA. Cela marche Ã  presque 100 % des cas selon <a href="https://arxiv.org/pdf/2509.10248">cet article</a>, dâ€™autant plus que lâ€™IA a un biais positif naturel.</li>
<li>Une <a href="https://www.anthropic.com/research/small-samples-poison">Ã©tude</a> confirme que lâ€™IA est <strong>particuliÃ¨rement sensible Ã  la qualitÃ© de la donnÃ©e dâ€™apprentissage</strong>. Ainsi, 250 observations fausses suffisent pour empoisonner durablement un LLM, et ce <strong>quel que soit sa taille</strong>. Une <a href="https://www.youtube.com/watch?v=zKW8sVIOCTY">prÃ©sentation intÃ©ressante</a> Ã  une confÃ©rence PyData prÃ©sentait par ailleurs ce quâ€™il se passait quand on entraÃ®ne une IA sur des images gÃ©nÃ©rÃ©s par une IA, avec des rÃ©sultats similaires.<br>
</li>
</ul></li>
<li>Le site <a href="https://aidarwinawards.org/nominees-2025.html"><strong>AI Darwin Awards</strong></a> rassemble des exemples dâ€™usage ratÃ© dâ€™IA. Globalement, les cas dâ€™usage oÃ¹ lâ€™IA est mis directement face Ã  un client peuvent rapidement mal tournerâ€¦ Peut-Ãªtre que <a href="https://www.politico.eu/article/albania-apppoints-worlds-first-virtual-minister-edi-rama-diella/">Diella</a>, la premiÃ¨re et seule ministre Ã  Ãªtre une IA dans le monde, rejoindra cette liste ?</li>
<li>Si vous voulez <strong>comparer le rÃ©sultat de deux LLM et leur empreinte carbone</strong>, nâ€™oubliez pas lâ€™outil <a href="https://comparia.beta.gouv.fr/">ComparIA</a> crÃ©Ã© par une start-up dâ€™Ã‰tat du ministÃ¨re de la Culture.</li>
</ul>
</section>
</section>
<section id="la-non-interview-du-mois" class="level1">
<h1>La non interview du mois</h1>
<p>Pas dâ€™interview finie en temps et en heure ce mois-ci, prioritÃ© au direct, ce sera donc (peut-Ãªtre) le mois prochain !</p>


</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_20/</guid>
  <pubDate>Sat, 25 Oct 2025 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_20/newsletter_20.png" medium="image" type="image/png" height="96" width="144"/>
</item>
<item>
  <title>La rentrÃ©e 2025: actualitÃ©s, nouveautÃ©s, interview de rentrÃ©e</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_19/</link>
  <description><![CDATA[ 





<section id="la-newsletter-linfolettre-est-morte-vive-linfolettre" class="level1">
<h1><del>La newsletter</del> Lâ€™infolettre est morte, vive lâ€™infolettre !</h1>
<p>Ã€ lâ€™occasion de cette <strong>dix-neuviÃ¨me infolettre</strong>, on a discutÃ©, rÃ©flÃ©chi et pensÃ© au sens de la vie. On a dÃ©cidÃ© de revoir le schÃ©ma de lâ€™infolettre selon plusieurs critÃ¨res :</p>
<ul>
<li>une pÃ©riodicitÃ© mensuelle â€œgarantieâ€, quitte Ã  avoir des infolettres moins denses que dâ€™autres ;</li>
<li>simplifier la rÃ©daction et le contenu ;</li>
<li>continuer de parler Ã  toutes les personnes intÃ©ressÃ©es par la science des donnÃ©es, quel que soit son niveau dâ€™expertise ;</li>
<li>contribuer Ã  mettre en avant plus facilement des personnes ou des projets au sein du rÃ©seau.</li>
</ul>
<p>Nouvelle structure, moins longue, plus ramassÃ©e, vous aurez plus de travail pour creuser plus loin les sujets ! Lâ€™idÃ©e est ainsi dâ€™insÃ©rer au moins dans chaque veille :</p>
<ul>
<li>une datavisualisation</li>
<li>les actualitÃ©s du rÃ©seau et une veille</li>
<li>une interview de quelquâ€™un ou dâ€™une Ã©quipe selon un canevas Ã  peu prÃ¨s stable.</li>
</ul>
<p>Bonne lecture ğŸ“” !</p>
</section>
<section id="la-datavisualisation" class="level1">
<h1>La datavisualisation</h1>
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_19/measles-cases-historical-us-states-heatmap.png" class="img-fluid"></p>
<p>Une version interactive est disponible sur le site du <a href="https://graphics.wsj.com/infectious-diseases-and-vaccines/">Wall Street Journal</a>.</p>
</section>
<section id="actus-du-rÃ©seau" class="level1">
<h1>Actus du rÃ©seau</h1>
<section id="la-troisiÃ¨me-journÃ©e-du-rÃ©seau-1-dÃ©cembre---la-trÃ©so-malakoff" class="level2">
<h2 class="anchored" data-anchor-id="la-troisiÃ¨me-journÃ©e-du-rÃ©seau-1-dÃ©cembre---la-trÃ©so-malakoff">La troisiÃ¨me journÃ©e du rÃ©seau ğŸ“… 1 dÃ©cembre - La TrÃ©so (Malakoff)</h2>
<p><strong>RÃ©servez votre 1<sup>er</sup> dÃ©cembre !</strong> Pour la troisiÃ¨me annÃ©e consÃ©cutive, le SSPLab organise la journÃ©e du rÃ©seau pour rassembler les data-scientists de la statistique publique. Au menu : prÃ©sentation de projets innovants, retour dâ€™expÃ©rience et moments dâ€™Ã©changes informels (autrement appelÃ©s â€œpotsâ€ ğŸ‰).</p>
<p>Comme les annÃ©es prÃ©cÃ©dentes, lâ€™Ã©vÃ©nement sera en prÃ©sentiel et Ã  distance pour permettre Ã  tous de participer. Les dÃ©tails seront publiÃ©s sur le <a href="../../talk/2025-12-01-network-day/index.html">site du rÃ©seau</a> et si jamais vous voulez dÃ©jÃ  vous inscrire alors que lâ€™agenda nâ€™est pas finalisÃ©, câ€™est possible <a href="https://www.eventbrite.com/e/billets-3e-journee-du-reseau-des-data-scientists-1664052518879?aff=oddtdtcreator">ici</a>.</p>
<ul>
<li>ğŸ‘‰ï¸ <a href="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2025-12-network/2025_12_3ejournee_SSPHub.ics">Ajouter cet Ã©vÃ©nement Ã  votre agenda <code>Outlook</code></a></li>
</ul>
</section>
<section id="le-site-du-rÃ©seau-Ã©volue" class="level2">
<h2 class="anchored" data-anchor-id="le-site-du-rÃ©seau-Ã©volue">Le site du rÃ©seau Ã©volue</h2>
<p><strong>Lâ€™inscription</strong> Ã  la liste de diffusion a Ã©tÃ© revue et utilise maintenant <a href="https://lasuite.numerique.gouv.fr/produits/grist">Grist</a>. Pour sâ€™inscrire Ã  la liste de diffusion, câ€™est par <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>. Une fois inscrit, vous pouvez crÃ©er un compte sur <a href="https://grist.numerique.gouv.fr">Grist</a> et vous connecter directement sur <a href="https://grist.numerique.gouv.fr/o/ssphub/iTFX7gryL8jK/Annuaire?utm_id=share-doc">lâ€™annuaire</a> pour mettre Ã  jour vos donnÃ©es, demander votre dÃ©sinscription en cochant la case â€œSupprimez mon compteâ€.</p>
<p>Par ailleurs, le <strong>site du rÃ©seau devrait Ã©voluer dans les prochaines semaines</strong>. Il va sâ€™Ã©toffer pour prÃ©senter plus de projets en cours et permettre ainsi Ã  tout un chacun de savoir quâ€™un projet existe et pouvoir Ã©changer entre pairs. Si vous souhaitez valoriser un projet, nâ€™hÃ©sitez pas Ã  nous le faire savoir !</p>
</section>
</section>
<section id="actualitÃ©s" class="level1">
<h1>ActualitÃ©s</h1>
<p>Voici une liste de sujets dâ€™actualitÃ© depuis cet Ã©tÃ© jugÃ©s subjectivement intÃ©ressants.</p>
<section id="ia" class="level2">
<h2 class="anchored" data-anchor-id="ia">IA</h2>
<p>Comme toujours, une flopÃ©e dâ€™articles a Ã©tÃ© publiÃ©e sur lâ€™IA : le nouveau modÃ¨le dâ€™OpenAI (GPT-5) a Ã©tÃ© dÃ©ployÃ© cet Ã©tÃ©, lâ€™usage de lâ€™IA se dÃ©veloppe, des craintes se font entendre sur lâ€™existence dâ€™une bulle financiÃ¨re et, avec lâ€™augmentation de son utilisation, de plus en plus de failles de sÃ©curitÃ© liÃ©es sont dÃ©couvertes. Un petit florilÃ¨ge rapide, <strong>non exhaustif</strong> :</p>
<ul>
<li><p>En France, <strong>lâ€™IA est de plus en plus utilisÃ©e par les entreprises</strong> dâ€™aprÃ¨s une <a href="https://www.insee.fr/fr/statistiques/8604126#:~:text=En%202024%2C%2010%20%25%20des%20entreprises%20fran%C3%A7aises%20de%2010%20salari%C3%A9s%20ou,quelle%20que%20soit%20leur%20taille">Ã©tude de lâ€™Insee</a>. En 2024 ainsi, une entreprise sur dix utilise lâ€™IA, et ce phÃ©nomÃ¨ne concerne particuliÃ¨rement 33% des grandes entreprises et 42% de celles de lâ€™information. Lâ€™usage de lâ€™IA augmente de 4 points par rapport Ã  2023. Lâ€™IA est par ailleurs lÃ©gÃ¨rement moins utilisÃ©e par les entreprises en France que dans lâ€™Europe, oÃ¹ 13% des entreprises disent utiliser lâ€™IA en 2024.</p></li>
<li><p>Sur lâ€™<strong>impact de lâ€™IA</strong>, notamment sur le travail et la productivitÃ©, de nombreuses Ã©tudes continuent dâ€™Ãªtre publiÃ©es. Petit disclaimer, la technologie Ã©volue encore trÃ¨s vite : depuis son arrivÃ©e il y a moins de trois ans, les bugs relevÃ©s au dÃ©but ne sont plus du tout dâ€™actualitÃ© aujourdâ€™hui : les images sont de bien meilleure qualitÃ©, des RAG ont Ã©tÃ© mis en place â€¦ Face Ã  un domaine aussi changeant, les rÃ©sultats des Ã©tudes varient donc encore beaucoup.</p>
<ul>
<li>Ceci Ã©tant dit, les Ã©tudes montrent globalement que lâ€™IA permettrait dâ€™amÃ©liorer lâ€™efficacitÃ© des travailleurs, particuliÃ¨rement des <strong>non-experts</strong>, et rÃ©duit les <strong>inÃ©galitÃ©s de performance</strong>, mÃªme si les rÃ©sultats sont contrastÃ©s. Selon <a href="https://digitaleconomy.stanford.edu/publications/canaries-in-the-coal-mine/">cette Ã©tude</a>, lâ€™IA commence Ã  avoir un impact nÃ©gatif sur lâ€™emploi, quand <a href="https://arxiv.org/abs/2507.09089">celle-ci</a> estime Ã  lâ€™inverse que les gains de productivitÃ© pour les dÃ©veloppeurs sont sur-estimÃ©s.</li>
<li>Lâ€™usage de lâ€™IA serait particuliÃ¨rement efficace pour effectuer des <strong>tÃ¢ches moyennement rares</strong>, lâ€™humain restant plus efficace sur les tÃ¢ches courantes (<em>cf.</em> par exemple <a href="https://www.nber.org/papers/w31161">ce papier</a>). Par ailleurs, sur les tÃ¢ches complexes ou rares, lâ€™IA serait largement moins efficace que lâ€™humain et produirait des rÃ©sultats de qualitÃ© moindre (<em>cf.</em> ce <a href="https://www.hbs.edu/ris/Publication%20Files/24-013_d9b45b68-9e74-42d6-a1c6-c72fb70c7282.pdf">papier</a>).</li>
</ul></li>
<li><p>Concernant la <strong>technologie en soit</strong>, des chercheurs ont rÃ©ussi, Ã  partir dâ€™un petit modÃ¨le dâ€™IA gÃ©nÃ©rative, Ã  classifier du texte aussi efficacement quâ€™avec un gros modÃ¨le et nÃ©cessitant bien moins de donnÃ©es. Pour ce faire, ils ont utilisÃ© un modÃ¨le de rÃ©gression pÃ©nalisÃ©e (type Lasso/Ridge) sur la reprÃ©sentation numÃ©rique sous-jacente du texte. Plus de dÃ©tails dans <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5303840">leur article</a>.</p></li>
<li><p>De nombreux articles font craindre lâ€™existence dâ€™une <strong>bulle financiÃ¨re autour de lâ€™IA</strong>.</p>
<ul>
<li>Edward Zitron, un publiciste britannique, auteur et podcasteur, rappelle sur <a href="https://www.wheresyoured.at/the-haters-gui/">son blog</a> toutes les raisons pour laquelle une bulle existerait actuellement sur lâ€™IA. Il rappelle notamment que les 560Md$ investis par les GAFAM dans lâ€™IA nâ€™ont gÃ©nÃ©rÃ© que trÃ¨s peu de bÃ©nÃ©fices et que le seul gagnant est Nvidia. Comme le dit le proverbe, <strong>â€œPendant la ruÃ©e vers lâ€™or, ce ne sont pas les chercheurs dâ€™or qui se sont le plus enrichis, mais les vendeurs de pelles et de piochesâ€</strong>.</li>
<li>Lâ€™adoption de lâ€™IA par les entreprises prendrait par ailleurs <strong>plus de temps quâ€™anticipÃ©</strong> et nâ€™aurait pas des rendements aussi rapides quâ€™espÃ©rÃ©.</li>
<li>Plus gÃ©nÃ©ralement, des articles, comme cet article de <a href="https://www.forbes.com/sites/paulocarvao/2025/08/21/is-the-ai-bubble-bursting-lessons-from-the-dot-com-era/">Forbes</a>, rappellent que lâ€™IA reste trÃ¨s utilisÃ©e aujourdâ€™hui et que, mÃªme si aujourdâ€™hui des investissements sont fait vers des projets peu productifs, <strong>lâ€™adoption de nouvelles technologies prend du temps</strong>. Les articles citent beaucoup lâ€™exemple dâ€™internet, et de la bulle du dÃ©but des annÃ©es 2000 : les attentes du marchÃ© Ã©taient trop hautes par rapport Ã  tout le travail quâ€™il restait Ã  faire, et cela nâ€™empÃªche pas que aujourdâ€™hui, 25 ans aprÃ¨s cette bulle, les investissements dans le rÃ©seau internet ont permis de changer la sociÃ©tÃ©.</li>
</ul></li>
<li><p>Enfin, avec lâ€™augmentation de son utilisation, la <strong>sÃ©curitÃ©</strong> de la technologie est un enjeu qui est de plus en plus discutÃ©, au-delÃ  du <strong>dÃ©tournement Ã  des fins illÃ©gales</strong> qui attend toute innovation numÃ©rique :</p>
<ul>
<li>Des <strong>donnÃ©es confidentielles de Microsoft</strong> ont fuitÃ© aprÃ¨s le piratage dâ€™agents Copilot. Les <a href="https://x.com/mbrg0/status/1953815729947447770/photo/1">hackeurs</a> ont ainsi reÃ§u par mail des extraits des contacts et des ventes de Microsoft.</li>
<li>Selon le <a href="https://www-cdn.anthropic.com/b2a76c6f6992465c09a6f2fce282f6c0cea8c200.pdf">rapport dâ€™Anthropic</a> sur les menaces liÃ©es Ã  lâ€™IA, cette technologie a notamment Ã©tÃ© dÃ©tournÃ©e pour :
<ul>
<li>sâ€™assurer des postes bien payÃ©s pour des <strong>Nord-CorÃ©ens</strong>, qui leur ont permis de rapatrier les capitaux au pays ;</li>
<li>massifier les <strong>fraudes aux donnÃ©es personnelles</strong> ;</li>
<li><strong>automatiser les attaques par ransomware</strong>.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="parquet" class="level2">
<h2 class="anchored" data-anchor-id="parquet">Parquet</h2>
<ul>
<li>Le site <a href="https://hyperparam.app/">Hyperparam</a> permet <strong>dâ€™afficher trÃ¨s rapidement des donnÃ©es Parquet volumineuses</strong> sur son explorateur web trÃ¨s rapidement (en moins de 500ms). Pour la tuyauterie, tout est expliquÃ© <a href="https://blog.hyperparam.app/2025/07/24/quest-for-instant-data/">sur ce blog</a>.</li>
</ul>
</section>
<section id="kubernetes" class="level2">
<h2 class="anchored" data-anchor-id="kubernetes">Kubernetes</h2>
<ul>
<li><strong>Comment dÃ©tecter facilement des pods Kubernetes peu actifs et les dÃ©sactiver?</strong> Un dÃ©but de processus a Ã©tÃ© publiÃ© sur <a href="https://blog.devops.dev/reclaiming-idle-gpus-in-kubernetes-a-practical-approach-and-a-call-for-ideas-08cbad89f988">Devops.dev</a>.</li>
</ul>
</section>
<section id="nouveautÃ©s" class="level2">
<h2 class="anchored" data-anchor-id="nouveautÃ©s">NouveautÃ©s</h2>
<ul>
<li>Une <strong>nouvelle version des notebooks Observable</strong> est disponible en prÃ©-production, avec un kit open source pour gÃ©nÃ©rer des notebooks et des sites statiques et une application pour Mac pour Ã©diter ses notebooks en local, intÃ©grant de maniÃ¨re plus fluide les apports de lâ€™IA. Plus de dÃ©tails par <a href="https://observablehq.com/notebook-kit/">ici</a> et une <a href="https://observablehq.com/notebook-kit/gallery">galerie</a> dâ€™exemples de sites.</li>
<li>Lâ€™universitÃ© allemande de Hanovre <a href="https://geovectors.l3s.uni-hannover.de/">a publiÃ©</a> une <strong>base dâ€™embedding des entitÃ©s dâ€™Openstreetmap</strong> directement utilisable pour entraÃ®ner des modÃ¨les de machine learning.</li>
<li>Selon une <a href="https://posit.co/blog/python-llm-evaluation/">Ã©tude de Posit</a>, le <strong>meilleur modÃ¨le dâ€™IA pour aider Ã  coder en Python</strong> serait ceux dâ€™OpenAI (o3-mini, o4-mini) ou dâ€™Anthropic (Claude Sonnet 4).</li>
</ul>
</section>
<section id="fun" class="level2">
<h2 class="anchored" data-anchor-id="fun">Fun</h2>
<ul>
<li>Vous vous Ãªtes dÃ©jÃ  demandÃ© comment rÃ©soudre un <a href="https://sutom.nocle.fr/">SUTOM</a> avec les <strong>dÃ©pendances de Python</strong> ? Non ? Et bien quelquâ€™un a trouvÃ© le moyen de rÃ©soudre des Sudoku et des Motus grÃ¢ce Ã  cela ! Tout est expliquÃ© <a href="https://mildbyte.xyz/blog/solving-wordle-with-uv-dependency-resolver/">ici</a></li>
<li>Avez-vous dÃ©jÃ  vu une <strong>intelligence artificielle jouer au Loup-Garou</strong> ? Des Ã©tudiants de lâ€™ENSAE <del>se sont amusÃ©s</del> ont <a href="https://werewolf.foaster.ai/">Ã©tudiÃ©</a> quelles IA Ã©taient meilleures au jeu du Loup-Garou. Ce jeu nÃ©cessite en effet de mentir, de convaincre, et dâ€™adapter sa stratÃ©gie pour survivre (pour les villageois) ou tuer tous les villageois (pour les loup-garous). A la fin, <strong>GPT-5 gagne dans 97 % des 60 matchs jouÃ©s, contre 15% pour GPT-OSS-120b</strong>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous voyez dâ€™autres sujets dâ€™actualitÃ© intÃ©ressants ? Nâ€™hÃ©sitez pas Ã  les partager sur le <a href="https://tchap.gouv.fr/#/room/#ssphub:agent.finances.tchap.gouv.fr">groupe Tchap ğŸ’¬</a> directement !</p>
</div>
</div>
</section>
</section>
<section id="linterview" class="level1">
<h1>Lâ€™interview</h1>
<p>PremiÃ¨re interview, je propose donc humblement de mâ€™auto-interviewer pour lancer ce format et de comparer les questions que jâ€™ai trouvÃ©es avec celles proposÃ©es par une IA.</p>
<section id="premiÃ¨re-interview-avec-nicolas-qui-travaille-Ã -linsee-ssplab" class="level2">
<h2 class="anchored" data-anchor-id="premiÃ¨re-interview-avec-nicolas-qui-travaille-Ã -linsee-ssplab">PremiÃ¨re interview avec Nicolas, qui travaille Ã  lâ€™Insee (SSPLab)</h2>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td><strong>Peux-tu te prÃ©senter?</strong></td>
<td>De formation ingÃ©nieur, jâ€™ai <strong>travaillÃ© huit ans dans lâ€™administration publique</strong> avec un parcours que certains ont dit plutÃ´t atypique (ce nâ€™est pas totalement mon avis ğŸ™ƒ). Jâ€™ai notamment travaillÃ© au sein de la DG TrÃ©sor et Ã  la Commission europÃ©enne, sur des sujets de prÃ©vision de finances publiques, de nÃ©gociations europÃ©ennes et de suivi de la Banque centrale europÃ©enne. Le traitement de la donnÃ©e nâ€™a pas Ã©tÃ© jusque-lÃ  au centre de mes postes mais lâ€™importance des outils et de traitement plus robuste aurait facilitÃ© la vie Ã  certains moments. Jâ€™arrive donc Ã  lâ€™<strong>Insee pour la premiÃ¨re fois</strong> mais je suis content de â€œdÃ©couvrir la maisonâ€. <br> A lâ€™Insee, je travaille au sein du SSPLab, le laboratoire de lâ€™innovation en data sciences de lâ€™Insee. Lâ€™Ã©quipe est chargÃ©e de faire de la veille et dâ€™Ã©pauler les Ã©quipes mÃ©tiers dans leurs projets. Jâ€™ai tout particuliÃ¨rement lâ€™honneur de succÃ©der Ã  Lino au poste dâ€™<strong>animateur du SSPHub</strong>, big up Ã  lui pour tout ce quâ€™il a fait ces trois derniÃ¨res annÃ©es !</td>
</tr>
<tr class="even">
<td><strong>Peux-tu donner un conseil que tu aurais aimÃ© recevoir en lien avec la data ?</strong></td>
<td>Question difficile, Ã©tant donnÃ© que je nâ€™ai pas menÃ© <del>beaucoup</del> de projets data jusquâ€™ici. Mais jâ€™ai remarquÃ© que <strong>lâ€™ordinateur avait rarement tort</strong>, ce qui est assez frustrant, et quâ€™Ãªtre persÃ©vÃ©rant Ã©tait nÃ©cessaire. Avoir un code propre aussi, quand on nâ€™est mÃªme pas capable de comprendre ce quâ€™on a codÃ© soi-mÃªme en rentrant de vacances, cela donne une leÃ§on pour la suite. Jâ€™aurai sÃ»rement plus dâ€™exemples dâ€™ici un an ou deux ğŸ˜‰</td>
</tr>
<tr class="odd">
<td><strong>As-tu un projet qui a particuliÃ¨rement marchÃ©, et pourquoi a-t-il marchÃ© ? A lâ€™inverse, as-tu un projet qui nâ€™a pas marchÃ© et pourquoi ?</strong></td>
<td>Jâ€™avais codÃ© des petits programmes pour mâ€™aider dans mon travail quotidien, sans rapport direct avec la donnÃ©e. Ce qui a aidÃ© dans les deux cas câ€™est que <strong>le besoin mÃ©tier Ã©tait bien dÃ©fini et bien compris</strong>, puisque jâ€™Ã©tais Ã  la fois le mÃ©tier et le dÃ©veloppeur. Cependant, ces programmes faisaient partie dâ€™un shadow IT qui nâ€™a pas dÃ» me survivre bien longtemps. Jâ€™ai quand mÃªme rÃ©ussi Ã  pousser un programme qui faisait du publipostage jusquâ€™Ã  sa mise en production. Ã€ ma surprise, câ€™est la phase de dÃ©ploiement qui a Ã©tÃ© bien plus longue que la phase de dÃ©veloppement : cela a dÃ» me prendre quelques jours de code contre plusieurs semaines avant le dÃ©ploiement.</td>
</tr>
<tr class="even">
<td><strong>Dans quel domaine le service public pourrait Ãªtre aidÃ© par une utilisation plus importante des donnÃ©es ?</strong></td>
<td>Un usage plus important de la donnÃ©e serait fort bÃ©nÃ©fique pour la simplification des dÃ©marches pour les citoyens, permettre de diminuer le non-recours aux subventions et diffÃ©rents dispositifs publics tout en renforÃ§ant la qualitÃ© des donnÃ©es Ã©changÃ©es entre administrations.</td>
</tr>
<tr class="odd">
<td><strong>La derniÃ¨re dÃ©couverte technologique qui tâ€™a marquÃ©</strong></td>
<td>Jâ€™avais un peu laissÃ© de cÃ´tÃ© <strong>R Markdown</strong> depuis huit ans. En revenant dans le domaine de la data, je dÃ©couvre Ã  quel point ce milieu a Ã©voluÃ© grÃ¢ce Ã  <strong>Posit, Quarto et lâ€™apport de tous ces projets open source</strong>, auxquels des gens contribuent souvent naturellement. Lâ€™open source, câ€™est un peu comme les pompiers ou le secours en mer : ce sont des bÃ©nÃ©voles qui font tenir et maintiennent des outils extraordinaires. Et plus rÃ©cemment encore avec ma prise de poste Ã  lâ€™Insee, la dÃ©couverte dâ€™<a href="https://onyxia.sh/">Onyxia</a>, de <code>duckDB</code> et de <code>Parquet</code> mâ€™ont aussi marquÃ©s.</td>
</tr>
</tbody>
</table>
</section>
<section id="linterview-Ã -laquelle-vous-avez-Ã©chappÃ©" class="level2">
<h2 class="anchored" data-anchor-id="linterview-Ã -laquelle-vous-avez-Ã©chappÃ©">Lâ€™interview Ã  laquelle vous avez Ã©chappÃ©</h2>
<p>Quelle est la plus-value de lâ€™IA par rapport Ã  un travail humain ? Jâ€™ai comparÃ© les questions que jâ€™avais trouvÃ©es avec des idÃ©es produites par une IA. Voici les questions quâ€™il mâ€™a proposÃ©es, que jâ€™ai proposÃ© de ne pas suivre. Remarquez, ces questions sont le rÃ©sultat de deux ou trois Ã©changes avec lâ€™IA, je nâ€™y ai pas passÃ© beaucoup plus de temps.</p>
<blockquote class="blockquote">
<p>Voici une proposition de questions adaptÃ©es Ã  des data scientists ou des managers de data scientists travaillant dans lâ€™administration publique :</p>
<ol type="1">
<li><p><strong>Formations et influences</strong> <em>â€œQuelle formation ou influence majeure a faÃ§onnÃ© votre approche des donnÃ©es et de la gestion dans lâ€™administration ?â€</em></p></li>
<li><p><strong>ExpÃ©riences professionnelles</strong> <em>â€œQuelles ont Ã©tÃ© les Ã©tapes clÃ©s de votre carriÃ¨re dans lâ€™administration qui ont influencÃ© votre faÃ§on de gÃ©rer ou dâ€™analyser les donnÃ©es ?â€</em></p></li>
<li><p><strong>Motivations et passions</strong> <em>â€œQuâ€™est-ce qui vous motive le plus dans lâ€™analyse ou la gestion des donnÃ©es au sein de lâ€™administration publique ?â€</em></p></li>
<li><p><strong>RÃ©alisations majeures</strong> <em>â€œQuels sont vos principaux accomplissements en matiÃ¨re de gestion ou dâ€™analyse de donnÃ©es dans votre rÃ´le actuel ?â€</em></p></li>
<li><p><strong>DÃ©veloppement personnel</strong> <em>â€œQuels dÃ©fis spÃ©cifiques aux donnÃ©es avez-vous rencontrÃ©s dans le secteur public et comment les avez-vous surmontÃ©s ?â€</em></p></li>
<li><p><strong>Projets actuels</strong> <em>â€œSur quels projets liÃ©s aux donnÃ©es travaillez-vous actuellement, et quâ€™est-ce qui les rend particuliÃ¨rement intÃ©ressants ou innovants ?â€</em></p></li>
<li><p><strong>Regrets ou aspirations</strong> <em>â€œY a-t-il des projets ou rÃ©alisations en lien avec les donnÃ©es que vous auriez aimÃ© accomplir dans votre carriÃ¨re mais qui ne se sont pas concrÃ©tisÃ©s ?â€</em></p></li>
<li><p><strong>Vision future</strong> <em>â€œComment voyez-vous lâ€™Ã©volution de lâ€™importance des donnÃ©es dans lâ€™administration publique dans les annÃ©es Ã  venir, et quel rÃ´le aimeriez-vous y jouer ?â€</em></p></li>
<li><p><strong>Conseils aux jeunes gÃ©nÃ©rations</strong> <em>â€œQuel conseil donneriez-vous Ã  un jeune professionnel qui souhaite devenir data scientist ou manager de data scientists dans le secteur public ?â€</em></p></li>
<li><p><strong>Philosophie personnelle</strong> <em>â€œSi vous deviez partager une philosophie ou un credo concernant la gestion ou lâ€™analyse des donnÃ©es dans lâ€™administration, quelle serait-elle ?â€</em></p></li>
</ol>
<p>Ces questions devraient aider Ã  explorer les nuances spÃ©cifiques du travail des data scientists et de leurs managers dans le secteur public. Si vous souhaitez ajuster davantage ou ajouter des thÃ¨mes spÃ©cifiques, nâ€™hÃ©sitez pas Ã  me le faire savoir !</p>
</blockquote>


</section>
</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_19/</guid>
  <pubDate>Mon, 29 Sep 2025 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_19/2025_09_back_school.png" medium="image" type="image/png" height="107" width="144"/>
</item>
<item>
  <title>Sora, la nouvelle IA dâ€™OpenIA pour gÃ©nÃ©rer des vidÃ©os ; Le Chat, le nouveau modÃ¨le de Mistral ; Observable, pour sâ€™abstraire des notebooks</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_18/</link>
  <description><![CDATA[ 





<p><img src="https://ssphub.netlify.app/infolettre/infolettre_18/infolettre18.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>Ce mois-ci, la premiÃ¨re partie de la <em>newsletter</em> est consacrÃ©e Ã  lâ€™actualitÃ© dense dans le domaine des IA gÃ©nÃ©ratives et Ã  lâ€™annonce dâ€™un nouveau gÃ©nÃ©rateur de site web pour les <em>data scientists</em>. Suivent les actualitÃ©s du rÃ©seau, notamment une prÃ©sentation de <code>Quarto</code> par Christophe Dervieux (Posit) et le replay de la prÃ©sentation dâ€™Eric MauviÃ¨re sur le sujet des bonnes pratiques de <em>dataviz</em>.</p>
<section id="sora-la-nouvelle-ia-dopenai-pour-gÃ©nÃ©rer-des-vidÃ©os" class="level2">
<h2 class="anchored" data-anchor-id="sora-la-nouvelle-ia-dopenai-pour-gÃ©nÃ©rer-des-vidÃ©os"><code>Sora</code>, la nouvelle IA dâ€™OpenAI pour gÃ©nÃ©rer des vidÃ©os</h2>
<p><br></p>
<p></p><div class="quarto-video"><video id="video_shortcode_videojs_video2" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://vp.nyt.com/video/2024/02/14/115628_1_15OPENAI-VIDEO-1_wg_720p.mp4"></video></div> <em>Source : <a href="https://www.nytimes.com/2024/02/15/technology/openai-sora-videos.html">New York Times</a> dâ€™aprÃ¨s OpenAI.</em><p></p>
<details>
<summary>
Instruction utilisÃ©e par OpenAI pour gÃ©nÃ©rer cette vidÃ©o
</summary>
<em>â€œAnimated scene features a close-up of a short fluffy monster kneeling beside a melting red candle. The art style is 3D and realistic, with a focus on lighting and texture. The mood of the painting is one of wonder and curiosity, as the monster gazes at the flame with wide eyes and open mouth. Its pose and expression convey a sense of innocence and playfulness, as if it is exploring the world around it for the first time. The use of warm colors and dramatic lighting further enhances the cozy atmosphere of the image.â€</em>
</details>
<p><br></p>
<p>AprÃ¨s avoir rÃ©volutionnÃ© le champ de la gÃ©nÃ©ration dâ€™image avec <code>DallE</code> (texte <img src="https://latex.codecogs.com/png.latex?%5Cto"> image), de la gÃ©nÃ©ration de textes avec <code>ChatGPT</code> (texte <img src="https://latex.codecogs.com/png.latex?%5Cto"> texte), OpenAI a rendu public les premiÃ¨res productions dâ€™un modÃ¨le de gÃ©nÃ©ration de vidÃ©os Ã  partir dâ€™instructions (texte <img src="https://latex.codecogs.com/png.latex?%5Cto"> vidÃ©o). Ce produit, nommÃ© <code>Sora</code>, gÃ©nÃ¨re des vidÃ©os dâ€™un rÃ©alisme qui nâ€™avait encore jamais Ã©tÃ© atteint par les IA gÃ©nÃ©ratrices de vidÃ©os. Jusquâ€™Ã  prÃ©sent, les modÃ¨les de ce type gÃ©nÃ©raient des images dont les formes Ã©taient grossiÃ¨res, la rÃ©solution dâ€™une qualitÃ© faible et dont les mouvements Ã©taient peu vraisemblables.</p>
<br>
<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;"> <iframe style="width:100%;height:100%;position:absolute;left:0px;top:0px;overflow:hidden" frameborder="0" type="text/html" src="https://www.dailymotion.com/embed/video/x8sw8om" width="100%" height="100%" allowfullscreen="" title="Dailymotion Video Player"> </iframe> </div>
<p><em>Source</em> : <a href="https://www.lemonde.fr/videos/video/2024/02/18/openai-devoile-sora-un-outil-qui-transforme-les-textes-en-videos-ultrarealistes_6217183_1669088.html">Le Monde</a></p>
<br>
<p><code>Sora</code> nâ€™est pas directement mis Ã  disposition du grand public, contrairement aux autres services dâ€™OpenAI. Ce produit nâ€™est partagÃ© quâ€™Ã  des utilisateurs identifiÃ©s par OpenAI comme pouvant reprÃ©senter le public cible - des rÃ©alisateurs par exemple - ou ayant une expertise sur des sujets comme la dÃ©sinformation, les biais, la connaissance des algorithmes de recommandation, etc. Cette diffusion restreinte vise Ã  recevoir des retours de la part de potentiels clients ou dâ€™experts sur les risques de ces technologies. La communication par le biais de quelques vidÃ©os choisies par OpenAI permet, dans le mÃªme temps, de crÃ©er une attente du grand public avant la mise Ã  disposition plus large.</p>
<p>Comme <code>Dall-E</code>, <code>Midjourney</code> et consorts qui gÃ©nÃ©raient des mains avec <a href="https://www.newyorker.com/culture/rabbit-holes/the-uncanny-failures-of-ai-generated-hands">trop de doigts</a>, le rÃ©seau de neurones derriÃ¨re <code>Sora</code> a encore des difficultÃ©s Ã  respecter certaines rÃ¨gles Ã©lÃ©mentaires de vraisemblance. Par exemple, dans la vidÃ©o ci-dessous, les Ã©vÃ©nements liÃ©s Ã  un bris de verre sâ€™enchaÃ®nent dans un ordre incohÃ©rent.</p>
<p></p><div class="quarto-video"><video id="video_shortcode_videojs_video3" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://cdn.openai.com/tmp/s/discussion_0.mp4"></video></div> <em>Source : <a href="https://openai.com/research/video-generation-models-as-world-simulators">OpenAI</a></em><p></p>
<p>OpenAI a dÃ©jÃ  prÃ©vu de <a href="https://openai.com/research/video-generation-models-as-world-simulators">nombreuses applications</a> Ã  ce modÃ¨le. Outre la gÃ©nÃ©ration de vidÃ©os Ã  partir dâ€™instructions verbales, <code>Sora</code> est capable dâ€™animer une image, de complÃ©ter une vidÃ©o dÃ©jÃ  existante avec une vidÃ©o fictionnelle, dâ€™Ã©diter une vidÃ©o dÃ©jÃ  existante pour changer des Ã©lÃ©mentsâ€¦ Les secteurs de la communication, de la crÃ©ation et de la diffusion de contenu sont concernÃ©s au premier chef mais la richesse des fonctionnalitÃ©s possibles et la simplicitÃ© dâ€™usage des produits dâ€™OpenAI laissent penser que les applications iront bien au-delÃ  de ces secteurs Ã©conomiques ; la vidÃ©o occupe maintenant une place prÃ©dominante sur internet et sur les rÃ©seaux sociaux pour de multiples usages.</p>
<p>Ce modÃ¨le soulÃ¨ve, comme <code>Dall-E</code> ou <code>ChatGPT</code> avant lui, des enjeux de propriÃ©tÃ© intellectuelle puisquâ€™il a aussi Ã©tÃ© entraÃ®nÃ© sur des corpus massifs collectÃ©s depuis internet. Le rÃ©alisme des vidÃ©os gÃ©nÃ©rÃ©es peut Ã©galement laisser craindre, sans marque dâ€™identification claire du fait que la vidÃ©o est gÃ©nÃ©rÃ©e numÃ©riquement (principe du <a href="https://fr.wikipedia.org/wiki/Tatouage_num%C3%A9rique"><em>watermark</em></a>), des dÃ©rives autour de la mÃ©sinformation, notamment des vidÃ©os malveillantes et rÃ©alistes de personnes dans des situations inventÃ©es (des <em>deepfakes</em>) ou la prolifÃ©ration de contenus choquants si les garde-fous dans la gÃ©nÃ©ration de contenus sont outrepassÃ©s.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>La <a href="https://openai.com/sora">prÃ©sentation de <code>Sora</code></a> sur le site dâ€™OpenAI ;</li>
<li>Un <a href="https://openai.com/research/video-generation-models-as-world-simulators">article</a> plus technique dâ€™OpenAI sur les fonctionnalitÃ©s de Sora ;</li>
<li>Les <a href="https://www.youtube.com/watch?v=HK6y8DAPN_0">10mn de vidÃ©os de prÃ©sentation</a> de <code>Sora</code> par OpenAI ;</li>
<li>Un <a href="https://www.nytimes.com/2024/02/15/technology/openai-sora-videos.html">article</a> du <em>New York Times</em> prÃ©sentant <code>Sora</code></li>
<li>Un <a href="https://theconversation.com/openais-new-generative-tool-sora-could-revolutionize-marketing-and-content-creation-223806">article</a> sur le site <em>The Conversation</em> sur les enjeux pour certains secteurs Ã©conomiques.</li>
</ul>
</div>
</div>
</section>
<section id="le-chat-un-concurrent-Ã -chatgpt-par-mistral-ai" class="level2">
<h2 class="anchored" data-anchor-id="le-chat-un-concurrent-Ã -chatgpt-par-mistral-ai">â€œ<code>Le Chat</code>â€ : un concurrent Ã  <code>ChatGPT</code> par Mistral AI ğŸ±</h2>
<p>Fin fÃ©vrier, la <em>startup</em> franÃ§aise Mistral AI a rendu public, en accÃ¨s libre, une IA conversationnelle aux fonctionnalitÃ©s similaires Ã  <code>ChatGPT</code> nommÃ©e <a href="https://mistral.ai/fr/news/le-chat-mistral/"><em>â€œLe Chatâ€</em></a>.</p>
<p>Ce service utilise le grand modÃ¨le de langage (LLM) <code>Mistral Large</code>, dernier nÃ© des LLM multilangues entraÃ®nÃ©s par Mistral AI. Contrairement Ã  dâ€™autres modÃ¨les de Mistral AI, celui-ci nâ€™est pas ouvert ; lâ€™accÃ¨s nâ€™y est possible que par le biais des services de Mistral ou par le biais du <em>cloud</em> Microsoft Azure, suite Ã  un partenariat entre lâ€™entreprise amÃ©ricaine et la startup franÃ§aise (tarification en fonction du volume de requÃªtes).</p>
<p>Selon les Ã©valuations rÃ©alisÃ©es fin fÃ©vrier, avant la sortie de Claude 3 (voir plus bas ğŸ‘‡ï¸), ce modÃ¨le prÃ©sentait des performances supÃ©rieures Ã  celles des modÃ¨les <em>open source</em>, notamment <code>LLaMa-2</code>, sur une sÃ©rie dâ€™Ã©valuations de la vÃ©racitÃ© des rÃ©ponses proposÃ©es par une IA et sur les capacitÃ©s de raisonnement de celle-ci Ã  partir de tests standardisÃ©s. Sur des questions dâ€™un niveau de premier cycle universitaire (mÃ©trique MMLU proposÃ©e par <span class="citation" data-cites="hendrycks2021measuring">Hendrycks et al. (2021)</span>), Mistral Large propose la bonne rÃ©ponse dans 81% des cas, ce qui lâ€™amÃ¨ne presque au niveau de GPT-4 (86%) et bien au-dessus de Llama-2 (70%), le meilleur modÃ¨le <em>opensource</em> Ã  lâ€™heure actuelle.</p>
<details>
<summary>
Classement des principaux modÃ¨les de langage lors de la sortie de <code>Mistral Large</code>
</summary>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mistral.ai/images/news/mistral-large/mistral-large-bar-plot.png" class="img-fluid figure-img"></p>
<figcaption>Performance des principaux LLM sur la mÃ©trique <a href="https://arxiv.org/abs/2009.03300">MMLU</a>, une sÃ©rie de 57 tests sur la fiabilitÃ© des rÃ©ponses et les capacitÃ©s de raisonnement des IA conversationnelles. Source : <a href="https://mistral.ai/fr/news/mistral-large/">Mistral AI</a>, fin fÃ©vrier</figcaption>
</figure>
</div>
</details>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_18/MMLU_examples.png" class="img-fluid figure-img"></p>
<figcaption>Exemple de questions de niveau licence posÃ©es pour Ã©valuer la qualitÃ© dâ€™un modÃ¨le selon la mÃ©trique MMLU proposÃ©e par <span class="citation" data-cites="hendrycks2021measuring">Hendrycks et al. (2021)</span> (<a href="https://arxiv.org/abs/2009.03300">accÃ©der Ã  lâ€™article de recherche</a>)</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://chat.mistral.ai/chat">https://chat.mistral.ai/</a>, lâ€™IA conversationnelle proposÃ©e par Mistral AI ;</li>
<li>Le <a href="https://mistral.ai/fr/news/mistral-large/"><em>post</em> de blog</a> par Mistral AI annonÃ§ant <code>Mistral Large</code> ;</li>
<li>La <a href="https://info.deeplearning.ai/mistral-living-large-googles-open-source-challenger-robot-chemist-schooling-language-models-in-math-1"><em>newsletter</em> dâ€™Andrew Ng</a> consacrÃ©e Ã  Mistral Large ;</li>
<li>Lâ€™<a href="https://arxiv.org/abs/2009.03300">article dâ€™Hendrycks et al.&nbsp;(2021)</a> Ã  lâ€™origine de la mÃ©trique MMLU utilisÃ©e pour classer les modÃ¨les.</li>
</ul>
</div>
</div>
</section>
<section id="les-performances-de-gpt-4-dÃ©passÃ©es-pour-la-premiÃ¨re-fois" class="level2">
<h2 class="anchored" data-anchor-id="les-performances-de-gpt-4-dÃ©passÃ©es-pour-la-premiÃ¨re-fois">Les performances de GPT-4 dÃ©passÃ©es pour la premiÃ¨re fois</h2>
<p>Quelques jours seulement aprÃ¨s la sortie de Mistral Large, un autre modÃ¨le de langage est venu concurrencer le modÃ¨le dâ€™OpenAI GPT-4. Ce modÃ¨le nommÃ© <code>Claude 3</code> est le premier Ã  obtenir des performances supÃ©rieures Ã  GPT-4 (le modÃ¨le derriÃ¨re la version Pro de <code>ChatGPT</code>) sur les principaux tests de qualitÃ© des modÃ¨les. Ce modÃ¨le, crÃ©Ã© par Anthropic et disponible en trois versions plus ou moins puissantes (<em>Haiku</em>, <em>Sonnet</em> et <em>Opus</em>), nâ€™est pas encore disponible pour les utilisateurs rÃ©sidant dans lâ€™Union EuropÃ©enne.</p>
<details>
<summary>
Les trois modÃ¨les <code>Claude-3</code> disponibles
</summary>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F4zrzovbb%2Fwebsite%2F5d20371eeb8d045465bb22cacfd269b5958b004d-2200x1174.png&amp;w=3840&amp;q=75" class="img-fluid figure-img"></p>
<figcaption>Source : <a href="https://www.anthropic.com/news/claude-3-family">Anthropic</a></figcaption>
</figure>
</div>
</details>
<details>
<summary>
Comparaison des performances des LLM
</summary>
<img src="https://ssphub.netlify.app/infolettre/infolettre_18/eval_llm_generales.png" class="img-fluid" alt="Figure construite avec DataWrapper Ã  partir des donnÃ©es fournies par Anthropic"> <img src="https://ssphub.netlify.app/infolettre/infolettre_18/eval_llm_math.png" class="img-fluid" alt="Figure construite avec DataWrapper Ã  partir des donnÃ©es fournies par Anthropic">
</details>
<p>Les modÃ¨les <code>Claude</code> sont dÃ©veloppÃ©s par lâ€™entreprise Anthropic, crÃ©Ã©e par des anciens employÃ©s dâ€™OpenAI considÃ©rant que la problÃ©matique de la <a href="https://fr.wikipedia.org/wiki/S%C3%BBret%C3%A9_des_intelligences_artificielles">sÃ©curitÃ© des IA</a> nâ€™Ã©tait pas assez mise en avant par OpenAI. ValorisÃ©e autour de 18 milliards dâ€™euros en ce dÃ©but dâ€™annÃ©e 2024, elle a bÃ©nÃ©ficiÃ© de financements importants dâ€™Amazon et de Google, ces deux entreprises ayant investi respectivement 4 et 2 milliards de dollars. Les modÃ¨les <code>Claude</code> sont disponibles pour les utilisateurs des <em>cloud</em> dâ€™Amazon (AWS) ou de <em>Google</em> (GCP) Ã  lâ€™instar des modÃ¨les GPT disponibles aux utilisateurs du <em>cloud</em> de Microsoft (Azure). La concurrence entre OpenAI et Anthropic est ainsi lâ€™occasion dâ€™un affrontement entre les trois principaux acteurs du <em>cloud</em>. Au-delÃ  de la concurrence entre leurs investisseurs, les modÃ¨les Ã©conomiques dâ€™Anthropic et dâ€™OpenAI diffÃ¨rent. Anthropic vise plutÃ´t Ã  proposer des services Ã  des entreprises accessibles par le biais dâ€™API lÃ  oÃ¹ OpenAI propose plutÃ´t des outils grands publics avec des fonctionnalitÃ©s supplÃ©mentaires pour les acteurs spÃ©cialisÃ©s. Parmi les partenaires principaux dâ€™Anthropic, on retrouve Gitlab, Quora ou Salesforce (lâ€™Ã©diteur de logiciel derriÃ¨re Slack). A lâ€™instar des modÃ¨les Mistral Large ou GPT-4, le modÃ¨le Claude 3 nâ€™est pas <em>open source</em>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Lâ€™<a href="https://www.anthropic.com/news/claude-3-family">annonce de Claude 3</a> par Anthropic ;</li>
<li>Un <a href="https://www.nytimes.com/2024/02/20/technology/anthropic-funding-ai.html">article</a> sur Anthropic par le <em>New York Times</em> et <a href="https://www.forbes.com/sites/alexkonrad/2024/03/04/anthropic-releases-claude-3-claims-beat-openai/">un autre</a> par Forbes.</li>
</ul>
</div>
</div>
</section>
<section id="observable-propose-un-constructeur-de-sites-statiques-pour-sabstraire-des-notebooks" class="level2">
<h2 class="anchored" data-anchor-id="observable-propose-un-constructeur-de-sites-statiques-pour-sabstraire-des-notebooks"><code>Observable</code> propose un constructeur de sites statiques, pour sâ€™abstraire des <em>notebooks</em></h2>
<p>Afin de dÃ©mocratiser lâ€™utilisation de <code>Javascript</code> au-delÃ  du cercle des dÃ©veloppeurs <em>web</em>, Mike Bostock, ancien responsable des <em>dataviz</em> du <em>New York Times</em>, la rÃ©fÃ©rence en la matiÃ¨re, a crÃ©Ã© il y a quelques annÃ©es <code>Observable</code>.</p>
<p>En plus dâ€™Ãªtre une extension du langage <code>Javascript</code> Ã  la grammaire familiÃ¨re aux connaisseurs de <code>Python</code> et <code>R</code>, <code>Observable</code> vise Ã  crÃ©er une communautÃ© dâ€™utilisateurs de <code>Javascript</code> Ã  lâ€™interface entre <em>data scientists</em> et dÃ©veloppeurs <em>web</em>. Pour cela, le site <a href="https://observablehq.com/">observablehq.com</a> se propose dâ€™Ãªtre un rÃ©seau social de <em>notebooks</em> en <code>Javascript</code>, un peu comme <code>Github</code> faisant office de rÃ©seau social du code. Les notebooks <em>Observable</em> permettent de rapidement prendre en main du code <code>Javascript</code> pour crÃ©er des analyses de donnÃ©es interactives qui peuvent ensuite Ãªtre facilement partagÃ©es par le biais du site <a href="https://observablehq.com/">observablehq.com</a> pour simplifier les rÃ©utilisations du code proposÃ© ou des donnÃ©es sous-jacentes.</p>
<p>Cependant, si les <em>notebooks</em> sont un terrain fertile pour lâ€™expÃ©rimentation, ils montrent rapidement leurs limites dÃ¨s quâ€™on dÃ©sire sâ€™abstraire de lâ€™hÃ©bergement sur <a href="observablehq.com/">observablehq.com</a>. Pour mettre Ã  disposition des visualisations interactives sur dâ€™autres sites, les sites statiques sont plus simples dâ€™usage. Historiquement, lâ€™Ã©cosystÃ¨me Javascript est construit autour dâ€™imposants <em>frameworks</em> comme <a href="https://fr.legacy.reactjs.org/"><code>React</code></a>, bien connus des dÃ©veloppeurs web mais mÃ©connus des <em>data scientists</em> qui sont nÃ©anmoins amenÃ©s Ã  livrer de plus en plus dâ€™applications interactives pour valoriser des donnÃ©es.</p>
<p>Lâ€™annonce dâ€™<a href="https://observablehq.com/blog/observable-2-0"><code>Observable Framework</code></a>, un constructeur de sites statiques, reprÃ©sente un changement dâ€™approche. <code>Observable Framework</code> vise Ã  Ãªtre un <em>framework</em> permettant aux <em>data scientists</em> de construire des sites web en mÃ©langeant des Ã©tapes de prÃ©paration de donnÃ©es en <code>R</code>, <code>Python</code> ou <code>SQL</code> (via <code>DuckDB</code>), du formattage de texte en <code>Markdown</code> et de lâ€™interactivitÃ© grÃ¢ce au langage <code>Observable</code>. Lâ€™approche est ainsi similaire Ã  celle de <code>Quarto</code>, la rÃ©fÃ©rence pour les <em>data scientists</em> dÃ©sirant construire des publications reproductibles (voir la section Ã©vÃ©nements ğŸ‘‡ï¸ pour en apprendre plus). Ce dernier Ã©cosystÃ¨me permet dÃ©jÃ  depuis quelques temps de complÃ©ter du travail de donnÃ©es en <code>R</code> ou <code>Python</code> avec des traitements en <code>Observable</code> pour obtenir un site web interactif sans besoin de solutions techniques complexes comme <code>Shiny</code> ou <code>Streamlit</code>.</p>
<p>Les Ã©volutions Ã  venir dâ€™<code>Observable Framework</code> sont donc Ã  surveiller, cet Ã©cosystÃ¨me pouvant Ãªtre amenÃ©, sâ€™il rencontre du succÃ¨s, Ã  rentrer dans la boÃ®te Ã  outil standard des <em>data scientists</em> comme <code>Quarto</code> est dÃ©jÃ  en train de le faire. Le site <a href="observablehq.com/">observablehq.com</a> ne va pas pour autant disparaÃ®tre : celui-ci restera un lieu oÃ¹ on peut tirer avantage de la simplicitÃ© des <em>notebooks</em> pour lâ€™expÃ©rimentation ou pour la mise Ã  disposition de tutoriels pÃ©dagogiques. Ce virage est similaire Ã  celui pris par <code>Python</code> dans la communautÃ© des <em>data scientists</em> oÃ¹ les <em>notebooks</em>, aprÃ¨s avoir connu une phase hÃ©gÃ©monique, sont revenus Ã  leur fonction initiale : des carnets pour expÃ©rimenter servant de brouillon avant lâ€™Ã©criture de scripts ou alors de belles pages, mÃªlant texte et code, pour prÃ©senter une dÃ©marche de maniÃ¨re pÃ©dagogique.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Lâ€™annonce dâ€™<a href="https://observablehq.com/framework/"><code>Observable Framework</code></a> ;</li>
<li>Lâ€™<a href="https://quarto.org/docs/interactive/ojs/">interactivitÃ© dans <code>Quarto</code></a> grÃ¢ce aux cellules <code>Observable</code> ;</li>
<li>Le <a href="https://ensae-reproductibilite.github.io/website/">cours de â€œMise en production de projets data scienceâ€</a> de lâ€™ENSAE oÃ¹ les enjeux techniques et humains de la mise Ã  disposition de tels sites sont Ã©voquÃ©s.</li>
</ul>
</div>
</div>
</section>
<section id="actus-du-rÃ©seau" class="level1">
<h1>Actus du rÃ©seau</h1>
<section id="chistophe-dervieux-quarto-une-Ã©volution-de-r-markdown-pour-des-travaux-statistiques-reproductibles-2-mai" class="level2">
<h2 class="anchored" data-anchor-id="chistophe-dervieux-quarto-une-Ã©volution-de-r-markdown-pour-des-travaux-statistiques-reproductibles-2-mai">Chistophe Dervieux, â€œ<code>Quarto</code> : Une Ã©volution de <code>R Markdown</code> pour des travaux statistiques reproductiblesâ€ (ğŸ“… <strong>2 mai</strong>)</h2>
<p>Pour fiabiliser la production de documents construits en valorisant des donnÃ©es (tableaux, graphiques, etc.), <em>RStudio</em> (devenu <em>Posit</em> depuis) a construit il y a quelques annÃ©es lâ€™Ã©cosystÃ¨me <code>R Markdown</code> permettant de produire du document en mÃ©langeant code et texte.</p>
<p>Cette problÃ©matique des publications reproductibles est devenue incontournable dans lâ€™Ã©cosystÃ¨me <code>R</code> et la solution <code>R Markdown</code> est dorÃ©navant largement utilisÃ©e. Pour Ã©tendre les vertus de cette approche Ã  dâ€™autres langages, <em>Posit</em> a commencÃ© Ã  dÃ©velopper <code>Quarto</code>, un Ã©cosystÃ¨me reprenant le principe de <code>R Markdown</code> mais Ã©tendant ces fonctionnalitÃ©s Ã  dâ€™autres langages de programmation, notamment <code>Python</code> et <code>Observable</code>.</p>
<p>Le <strong>2 mai de 15h Ã  16h</strong>, Christophe Dervieux (<em>Posit</em>) nous prÃ©sentera <code>Quarto</code>, lâ€™Ã©cosystÃ¨me de publications reproductibles qui succÃ¨de Ã  <code>R Markdown</code>. Cet Ã©vÃ©nement est proposÃ© de maniÃ¨re hybride : par le biais de <em>Zoom</em> ou, pour les agents en poste Ã  la Direction GÃ©nÃ©rale de lâ€™Insee, en salle 4-C-458.</p>
<ul>
<li>ğŸ‘‰ï¸ <a href="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2024-05-02-quarto/quarto.ics">Ajouter cet Ã©vÃ©nement Ã  votre agenda <code>Outlook</code></a></li>
<li>ğŸ‘‰ï¸ <a href="https://insee-fr.zoom.us/j/94214258071?pwd=WlBSRVgvVHZ2TXJ1Ull0cWUzN0Npdz09">Lien zoom</a></li>
</ul>
</section>
<section id="vos-besoins-de-formation" class="level2">
<h2 class="anchored" data-anchor-id="vos-besoins-de-formation">Vos besoins de formation</h2>
<p>Lâ€™an dernier, nous avions organisÃ© un questionnaire pour connaÃ®tre les besoins de formations des membres du rÃ©seau. Ce questionnaire est utile pour que les Ã©vÃ©nements organisÃ©s dans le cadre du rÃ©seau rÃ©pondent au mieux aux besoins.</p>
<p>Afin de connaÃ®tre les attentes et centres dâ€™intÃ©rÃªt en cette annÃ©e 2024, nous vous proposons un nouveau questionnaire. Celui-ci est Ã©galement lâ€™occasion dâ€™accueillir vos retours sur les <em>masterclass</em> menÃ©es en 2023 en collaboration avec <em>Datascientest</em> si vous avez participÃ© Ã  celles-ci.</p>
<ul>
<li><a href="https://framaforms.org/besoin-de-formations-en-data-science-en-2024-1709718778">ğŸ‘‰ï¸ Questionnaire</a></li>
</ul>
</section>
<section id="replay-de-la-prÃ©sentation-deric-mauviÃ¨re-la-dataviz-pour-donner-du-sens-aux-donnÃ©es-et-communiquer-un-message" class="level2">
<h2 class="anchored" data-anchor-id="replay-de-la-prÃ©sentation-deric-mauviÃ¨re-la-dataviz-pour-donner-du-sens-aux-donnÃ©es-et-communiquer-un-message">Replay de la prÃ©sentation dâ€™Eric MauviÃ¨re â€œLa dataviz pour donner du sens aux donnÃ©es et communiquer un messageâ€</h2>
<p><img src="https://ssphub.netlify.app/talk/2024-02-29-mauviere/mauviere.png" class="img-fluid"></p>
<p>La prÃ©sentation dâ€™Eric MauviÃ¨re sur les bonnes pratiques de <em>dataviz</em> a rencontrÃ© un rÃ©el succÃ¨s avec prÃ¨s de 150 participants. Le <em>replay</em> et les <em>slides</em> de cette prÃ©sentation essentielle sont disponibles ci-dessous :</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="381" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 380;"><span id="cb1-381"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>slides_button<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2024-02-09-mauviere/20240229-mauviere-replay.mp4"></video></div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="390" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 389;"><span id="cb2-390">slides <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2024-02-09-mauviere/conf_ssphub_item7-1.pdf"</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb3" data-startfrom="395" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 394;"><span id="cb3-395">slides_button <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;p class="text-center"&gt;</span></span>
<span id="cb3-396"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  &lt;a class="btn btn-primary btn-lg cv-download" href="</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>slides<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">" target="_blank"&gt;</span></span>
<span id="cb3-397"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    &lt;i class="fa-solid fa-file-arrow-down"&gt;&lt;/i&gt;&amp;ensp;TÃ©lÃ©charger les slides</span></span>
<span id="cb3-398"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  &lt;/a&gt;</span></span>
<span id="cb3-399"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/p&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-hendrycks2021measuring" class="csl-entry">
Hendrycks, Dan, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. 2021. <span>â€œMeasuring Massive Multitask Language Understanding.â€</span> <a href="https://arxiv.org/abs/2009.03300">https://arxiv.org/abs/2009.03300</a>.
</div>
</div></section></div> ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_18/</guid>
  <pubDate>Thu, 07 Mar 2024 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_18/hitchcock_robot-1.webp" medium="image" type="image/webp"/>
</item>
<item>
  <title>Le RAG pour limiter lâ€™hallucination par lâ€™IA ; lâ€™avancÃ©e des bases de donnÃ©es vectorielles ; le format Parquet pour simplifier leur usage ; DuckDB dÃ©barque en version web</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_17/</link>
  <description><![CDATA[ 
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
<script type="module" id="qwebr-monaco-editor-init">

  // Configure the Monaco Editor's loader
  require.config({
    paths: {
      'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs'
    }
  });
</script>
<script type="module">
// Global dictionary to store Monaco Editor instances
globalThis.qwebrEditorInstances = {};

// Function that builds and registers a Monaco Editor instance    
globalThis.qwebrCreateMonacoEditorInstance = function (cellData) {

  const initialCode = cellData.code;
  const qwebrCounter = cellData.id;
  const qwebrOptions = cellData.options;

  // Retrieve the previously created document elements
  let runButton = document.getElementById(`qwebr-button-run-${qwebrCounter}`);
  let resetButton = document.getElementById(`qwebr-button-reset-${qwebrCounter}`);
  let copyButton = document.getElementById(`qwebr-button-copy-${qwebrCounter}`);
  let editorDiv = document.getElementById(`qwebr-editor-${qwebrCounter}`);
  
  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: initialCode,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // Works wonderfully with RevealJS
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5pt',              // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Store the official counter ID to be used in keyboard shortcuts
    editor.__qwebrCounter = qwebrCounter;

    // Store the official div container ID
    editor.__qwebrEditorId = `qwebr-editor-${qwebrCounter}`;

    // Store the initial code value and options
    editor.__qwebrinitialCode = initialCode;
    editor.__qwebrOptions = qwebrOptions;

    // Set at the model level the preferred end of line (EOL) character to LF.
    // This prevent `\r\n` from being given to the webR engine if the user is on Windows.
    // See details in: https://github.com/coatless/quarto-webr/issues/94
    // Associated error text: 
    // Error: <text>:1:7 unexpected input

    // Retrieve the underlying model
    const model = editor.getModel();
    // Set EOL for the model
    model.setEOL(monaco.editor.EndOfLineSequence.LF);

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Helper function to check if selected text is empty
    function isEmptyCodeText(selectedCodeText) {
      return (selectedCodeText === null || selectedCodeText === undefined || selectedCodeText === "");
    }

    // Registry of keyboard shortcuts that should be re-added to each editor window
    // when focus changes.
    const addWebRKeyboardShortCutCommands = () => {
      // Add a keydown event listener for Shift+Enter to run all code in cell
      editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, () => {

        // Retrieve all text inside the editor
        qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, editor.__qwebrOptions);
      });

      // Add a keydown event listener for CMD/Ctrl+Enter to run selected code
      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, () => {

        // Get the selected text from the editor
        const selectedText = editor.getModel().getValueInRange(editor.getSelection());
        // Check if no code is selected
        if (isEmptyCodeText(selectedText)) {
          // Obtain the current cursor position
          let currentPosition = editor.getPosition();
          // Retrieve the current line content
          let currentLine = editor.getModel().getLineContent(currentPosition.lineNumber);

          // Propose a new position to move the cursor to
          let newPosition = new monaco.Position(currentPosition.lineNumber + 1, 1);

          // Check if the new position is beyond the last line of the editor
          if (newPosition.lineNumber > editor.getModel().getLineCount()) {
            // Add a new line at the end of the editor
            editor.executeEdits("addNewLine", [{
            range: new monaco.Range(newPosition.lineNumber, 1, newPosition.lineNumber, 1),
            text: "\n", 
            forceMoveMarkers: true,
            }]);
          }
          
          // Run the entire line of code.
          qwebrExecuteCode(currentLine, editor.__qwebrCounter, editor.__qwebrOptions);

          // Move cursor to new position
          editor.setPosition(newPosition);
        } else {
          // Code to run when Ctrl+Enter is pressed with selected code
          qwebrExecuteCode(selectedText, editor.__qwebrCounter, editor.__qwebrOptions);
        }
      });
    }

    // Register an on focus event handler for when a code cell is selected to update
    // what keyboard shortcut commands should work.
    // This is a workaround to fix a regression that happened with multiple
    // editor windows since Monaco 0.32.0 
    // https://github.com/microsoft/monaco-editor/issues/2947
    editor.onDidFocusEditorText(addWebRKeyboardShortCutCommands);

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();

    // Store the editor instance in the global dictionary
    qwebrEditorInstances[editor.__qwebrCounter] = editor;

  });

  // Add a click event listener to the run button
  runButton.onclick = function () {
    qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, editor.__qwebrOptions);
  };

  // Add a click event listener to the reset button
  copyButton.onclick = function () {
    // Retrieve current code data
    const data = editor.getValue();
    
    // Write code data onto the clipboard.
    navigator.clipboard.writeText(data || "");
  };
  
  // Add a click event listener to the copy button
  resetButton.onclick = function () {
    editor.setValue(editor.__qwebrinitialCode);
  };
  
}
</script>





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_17/robotroma.jfif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>En ce dÃ©but dâ€™annÃ©e 2024, nous prenons un peu de recul sur lâ€™annÃ©e Ã©coulÃ©e et vous prÃ©sentons les avancÃ©es marquantes de lâ€™annÃ©e 2023 dans le domaine de la data science. Ces avancÃ©es concernent lâ€™intelligence artificielle gÃ©nÃ©rative, au cÅ“ur des dÃ©bats mÃ©diatisÃ©s, mais aussi plusieurs dÃ©veloppements technologiques trÃ¨s utiles pour lâ€™analyse et la diffusion de bases de donnÃ©es. Des Ã©lÃ©ments plus techniques, qui ne sont pas nÃ©cessaires Ã  la comprÃ©hension globale, sont prÃ©sents dans des encadrÃ©s dÃ©roulables ou sont rÃ©fÃ©rencÃ©s dans les sections <em>â€œPour en savoir plusâ€</em>.</p>
<p>La fin de la <em>newsletter</em> est consacrÃ©e Ã  quelques annonces sur les prochains Ã©vÃ©nements communautaires du rÃ©seau.</p>
<section id="panorama-des-avancÃ©es-ayant-eu-lieu-en-2023-dans-le-domaine-de-la-data-science" class="level2">
<h2 class="anchored" data-anchor-id="panorama-des-avancÃ©es-ayant-eu-lieu-en-2023-dans-le-domaine-de-la-data-science">Panorama des avancÃ©es ayant eu lieu en 2023 dans le domaine de la data science</h2>
<section id="les-ia-gÃ©nÃ©ratives-toujours-au-coeur-des-dÃ©bats" class="level3">
<h3 class="anchored" data-anchor-id="les-ia-gÃ©nÃ©ratives-toujours-au-coeur-des-dÃ©bats">Les IA gÃ©nÃ©ratives toujours au coeur des dÃ©bats</h3>
<p>Dans la continuitÃ© de la sortie de <code>ChatGPT</code> en dÃ©cembre 2022, les IA gÃ©nÃ©ratives ont continuÃ© en 2023 Ã  focaliser une part importante de lâ€™attention portÃ©e Ã  la <em>data science</em>. Outre la publication de GPT-4 en mars (modÃ¨le embarquÃ© dans la version Pro de <code>ChatGPT</code>), de nombreux grands modÃ¨les de langage (LLM) gÃ©nÃ©ralistes ont Ã©tÃ© publiÃ©s cette annÃ©e : <code>Llama-2</code> (Meta), <code>Mixtral 7B</code> (Mistral), <code>Falcon 180B</code> (Technology Innovation Institute), <code>PaLM 2</code> (Google)â€¦</p>
<p>Ces publications ont mis en avant le caractÃ¨re stratÃ©gique de la mise Ã  disposition de modÃ¨les <em>open source</em>. La rÃ©cupÃ©ration et la structuration de corpus massifs, lâ€™entraÃ®nement de modÃ¨les intÃ©grant des milliards de paramÃ¨tres et lâ€™Ã©valuation <em>ex post</em> de ceux-ci est Ã  la portÃ©e dâ€™un nombre restreint dâ€™acteurs. La publication en <em>open source</em> de modÃ¨les et de codes sources est dÃ¨s lors indispensable pour, entre autres, Ãªtre en mesure dâ€™Ã©valuer la pertinence scientifique des modÃ¨les ou permettre aux acteurs nâ€™ayant pas ces moyens techniques et humains de pouvoir tout de mÃªme rÃ©utiliser ces modÃ¨les sur leurs propres donnÃ©es.</p>
<p>NÃ©anmoins, malgrÃ© lâ€™ouverture progressive de modÃ¨les, notamment par le biais dâ€™une mise Ã  disposition sur la plateforme <code>Hugging Face</code>, des contraintes limitent encore la rÃ©utilisation de ces modÃ¨les dans des infrastructures internes. Ces rÃ©seaux de neurones Ã©tant trÃ¨s gourmands en calculs du fait de leur architecture complexe (des milliards de paramÃ¨tres pour les grands modÃ¨les de langage), afin dâ€™obtenir une rÃ©ponse du modÃ¨le il est gÃ©nÃ©ralement nÃ©cessaire dâ€™effectuer les calculs par le biais de cartes graphiques (GPU), celles-ci permettant plus de parallÃ©lisme dans les calculs que les processeurs (CPU). Cependant, comme les GPU sont plus consommatrices dâ€™Ã©nergie et plus coÃ»teuses Ã  lâ€™achat du fait notamment dâ€™une demande excÃ©dant lâ€™offre, lâ€™accÃ¨s Ã  cette ressource est limitÃ© pour de nombreux acteurs. Le retour Ã  des modÃ¨les plus lÃ©gers, pouvant Ãªtre exploitÃ©s depuis des architectures informatiques plus accessibles, constitue lâ€™un des dÃ©fis de lâ€™annÃ©e 2024.</p>
<p>Les dÃ©bats concernant les droits dâ€™exploitation commerciale dâ€™informations collectÃ©es sur internet ont Ã©tÃ© nombreux en 2023. AprÃ¨s les plaintes mÃ©diatisÃ©es de <em>Getty Images</em> (envers Stability AI), dâ€™un collectif dâ€™auteurs cÃ©lÃ¨bres (envers OpenAI), la grÃ¨ve des acteurs Ã  Hollywood contre lâ€™exploitation de leur image par des IA et des scÃ©naristes contre lâ€™utilisation des gÃ©nÃ©rateurs de texte, câ€™est maintenant le <em>New York Times</em> qui a dÃ©posÃ© en dÃ©cembre 2023 une plainte envers OpenAI auprÃ¨s de la Cour FÃ©dÃ©rale de Manhattan. A partir dâ€™exemples, le journal amÃ©ricain met en avant le degrÃ© de confiance Ã©levÃ© que <code>ChatGPT</code> attribue aux informations issues des articles du quotidien, sans pour autant en citer la provenance, ni compenser financiÃ¨rement le journal. Cela entraÃ®nerait un prÃ©judice commercial dÃ» Ã  la rÃ©duction du trafic sur le site du <em>New York Times</em>. A contrario, le journal met en avant lâ€™effet nÃ©gatif sur son image que peuvent avoir des hallucinations attribuÃ©es au quotidien. Cette plainte fait suite Ã  lâ€™Ã©chec des nÃ©gociations entre les deux acteurs au cours de lâ€™annÃ©e 2023. Ces actualitÃ©s relatives aux droits dâ€™auteurs interviennent dans un contexte oÃ¹ il sâ€™agit de lâ€™un des principaux axes dâ€™intervention de lâ€™<em>â€œArtificial Intelligence Actâ€</em> europÃ©en (voir <a href="../../infolettre/infolettre_16">Infolettre #16</a>).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Un <a href="https://www.washingtonpost.com/technology/interactive/2023/ai-chatbot-learning/?itid=mc_magnet-ai_inline_collection_1">article</a> du <em>Washington Post</em> sur le corpus dâ€™entraÃ®nement des LLM ;</li>
<li>Un <a href="https://ig.ft.com/generative-ai/">article</a> du <em>Financial Times</em> qui prÃ©sente de maniÃ¨re trÃ¨s pÃ©dagogique la maniÃ¨re dont fonctionnent les LLM ;</li>
<li>Un <a href="https://huggingface.co/docs/transformers/llm_tutorial">tutoriel</a> sur les LLM par <code>Hugging Face</code> ;</li>
<li>Un <a href="https://www.nytimes.com/2023/08/16/technology/ai-gpu-chips-shortage.html">article</a> du <em>New York Times</em> sur la pÃ©nurie de GPU ;</li>
<li>Un article du site spÃ©cialisÃ© <em><a href="https://www.theverge.com/2023/12/4/23988403/getty-lawsuit-stability-ai-copyright-infringement">The Verge</a></em> sur les derniÃ¨res Ã©volutions de la plainte de <em>Getty Images</em> ;</li>
<li>Un article de <a href="https://www.courrierinternational.com/article/litterature-george-r-r-martin-jonathan-franzen-et-john-grisham-partent-en-guerre-contre-chatgpt"><em>Courrier International</em></a> sur la plainte dâ€™un collectif dâ€™auteurs envers OpenAI ;</li>
<li><em>New York Times vs OpenAI</em> par <a href="https://www.lemonde.fr/pixels/article/2023/12/27/le-new-york-times-poursuit-en-justice-microsoft-et-openai-createur-de-chatgpt-pour-violation-de-droits-d-auteur_6207946_4408996.html">le <em>Monde</em></a> et le <a href="https://www.nytimes.com/2023/12/27/business/media/new-york-times-open-ai-microsoft-lawsuit.html"><em>New York Times</em></a> ;</li>
<li>Les chartes relatives au contenu produit par des IA gÃ©nÃ©ratives du <a href="https://www.gov.uk/government/publications/generative-ai-framework-for-hmg/generative-ai-framework-for-hmg-html">gouvernement britannique</a> et dâ€™une vingtaine de mÃ©dias franÃ§ais recensÃ©s par lâ€™<a href="https://larevuedesmedias.ina.fr/les-medias-face-lintelligence-artificielle-20-chartes-passees-au-crible">INA</a>.</li>
</ul>
</div>
</div>
</section>
<section id="des-avancÃ©es-scientifiques-en-arriÃ¨re-plan" class="level3">
<h3 class="anchored" data-anchor-id="des-avancÃ©es-scientifiques-en-arriÃ¨re-plan">Des avancÃ©es scientifiques en arriÃ¨re plan</h3>
<p>La tendance des LLM Ã  lâ€™hallucination, câ€™est-Ã -dire Ã  la production de contenu plausible par sa forme mais factuellement faux, a Ã©tÃ© lâ€™objet dâ€™inquiÃ©tudes quant Ã  la vÃ©racitÃ© des informations pouvant Ãªtre mises en avant par les IA amenÃ©es Ã  occuper une place croissante dans la diffusion de contenu. Pour faire face Ã  ce dÃ©fi, au cours de lâ€™annÃ©e 2023, les Ã©quipes de conception des LLM ont utilisÃ© de maniÃ¨re croissante la technique du <strong>RAG (<em>Retrieval Augmentated Generation</em>)</strong>. Celle-ci consiste, pour les modÃ©lisateurs, Ã  cadrer le comportement du LLM en faisant en sorte quâ€™il privilÃ©gie des informations issues dâ€™un corpus adaptÃ© spÃ©cialement Ã  une tÃ¢che. Pour faire lâ€™analogie avec lâ€™apprentissage humain, les modÃ¨les oÃ¹ le RAG intervient peuvent Ãªtre comparÃ©s Ã  des Ã©tudiants prÃ©parant une dissertation sâ€™appuyant sur un dossier prÃ©parÃ© par les Ã©valuateurs. Ce contexte pourra Ãªtre utilisÃ© pour construire une rÃ©ponse argumentÃ©e et des exemples plus pertinents.</p>
<p>Le succÃ¨s des IA de discussion comme <code>ChatGPT</code> est intrinsÃ¨quement liÃ© au travail humain qui a Ã©tÃ© mis en Å“uvre pour Ã©valuer la pertinence des rÃ©ponses proposÃ©es par le modÃ¨le afin de rÃ©guliÃ¨rement mettre Ã  jour le comportement du modÃ¨le. Sur une question donnÃ©e, lâ€™humain Ã©value la rÃ©ponse la plus pertinente faite par lâ€™IA. A partir dâ€™un volume suffisant dâ€™Ã©valuations, lâ€™algorithme pourra, dans les prochaines situations similaires, faire un choix plus pertinent sâ€™il apprend de ses erreurs. La technique ayant gagnÃ© cette annÃ©e en popularitÃ© pour cette tÃ¢che est la <strong>DPO (<em>Direct Preference Optimization</em>)</strong> qui vise Ã  simplifier lâ€™intÃ©gration des retours humains dans le cycle de rÃ©entraÃ®nement dâ€™un modÃ¨le. Cette problÃ©matique de supervision et dâ€™amÃ©lioration continue dâ€™un modÃ¨le dÃ©passe dâ€™ailleurs le cadre des modÃ¨les de langage : afin de sâ€™assurer que les algorithmes ne perdent pas en qualitÃ©, lâ€™Ã©valuation humaine par le biais, par exemple, de campagnes de labellisation ou de retours des utilisateurs, est un enjeu important dans le cycle de vie de tout modÃ¨le mis en production.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>La vidÃ©o <a href="https://www.youtube.com/watch?v=bZQun8Y4L2A">â€œState of GPTâ€</a> par Andrew Karpathy ;</li>
<li>Un <a href="https://huggingface.co/blog/ray-rag">tutoriel</a> sur le RAG par <em>Hugging Face</em> ;</li>
<li>Le <a href="https://openai.com/research/learning-from-human-preferences">blog</a> prÃ©sentant la technique du <em>Reinforcement learning with human feedbacks</em> par OpenAI ;</li>
<li>Lâ€™<a href="https://arxiv.org/pdf/2305.18290.pdf">article acadÃ©mique</a> prÃ©sentant la DPO et un <a href="https://huggingface.co/blog/pref-tuning">tutoriel</a> dâ€™<em>Hugging Face</em> ;</li>
<li>Un <a href="https://www.deeplearning.ai/the-batch/issue-231/">article de blog</a> dâ€™Andrew Ng sur la DPO.</li>
</ul>
</div>
</div>
</section>
<section id="les-bases-de-donnÃ©es-vectorielles-gagnent-en-popularitÃ©" class="level3">
<h3 class="anchored" data-anchor-id="les-bases-de-donnÃ©es-vectorielles-gagnent-en-popularitÃ©">Les bases de donnÃ©es vectorielles gagnent en popularitÃ©</h3>
<p>Le langage de programmation <code>Python</code> est le <a href="https://www.tiobe.com/tiobe-index/">point dâ€™entrÃ©e de rÃ©fÃ©rence</a> dans le domaine de la <em>data science</em>, mais pour des besoins plus spÃ©cialisÃ©s, des logiciels dÃ©diÃ©s viennent sâ€™y intÃ©grer.</p>
<p>Câ€™est le cas notamment des bases de donnÃ©es vectorielles comme <a href="https://www.trychroma.com/"><code>ChromaDB</code></a>. Ces bases facilitent la recherche de similaritÃ© entre documents textuels en exploitant des transformations de ceux-ci en vecteurs numÃ©riques (technique des <a href="https://ig.ft.com/generative-ai/"><em>embeddings</em></a>).</p>
<p>Par exemple, dans lâ€™image ci-dessous, une base de donnÃ©es vectorielle pourra Ã©valuer la similaritÃ© entre les termes en utilisant des techniques dâ€™algÃ¨bre linÃ©aire de maniÃ¨re plus efficace que ne le permettrait <code>Python</code>. Ce dernier est en effet un langage informatique gÃ©nÃ©raliste, moins performant que des logiciels spÃ©cialisÃ©s pour faire de la recherche de similaritÃ© dans des corpus massifs. Dans une chaÃ®ne de production exploitant ce type de technique, <code>Python</code> servira de point dâ€™entrÃ©e et dÃ©lÃ©guera ensuite les calculs complexes Ã  la base de donnÃ©es vectorielle.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_17/embeddings.png" class="img-fluid figure-img"></p>
<figcaption>Un exemple dâ€™<em>embedding</em> et de rapprochement de textes. Chaque bande reprÃ©sente une dimension latente de notre langage. Il est possible de rapprocher les termes Ã  partir de celles-ci. Source: <a href="https://ig.ft.com/generative-ai/"><em>Financial Times</em></a>.</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Le <em>framework</em> <a href="https://www.langchain.com/"><code>LangChain</code></a> pour construire par le biais de <code>Python</code> des applications utilisant des LLM : crÃ©ation dâ€™une interface pour poser des questions Ã  un LLM, transformation de la question en vecteur numÃ©rique par le biais dâ€™une base vectorielle comme <code>ChromaDB</code>, interrogation du LLM, renvoi Ã  lâ€™utilisateur dâ€™une rÃ©ponseâ€¦ ;</li>
<li>Un <a href="https://realpython.com/chromadb-vector-database/">tutoriel de realpython.com</a> sur <a href="https://www.trychroma.com/"><code>ChromaDB</code></a>.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="diffuser-des-donnÃ©es-au-format-parquet-pour-simplifier-leur-usage" class="level2">
<h2 class="anchored" data-anchor-id="diffuser-des-donnÃ©es-au-format-parquet-pour-simplifier-leur-usage">Diffuser des donnÃ©es au format <code>Parquet</code> pour simplifier leur usage</h2>
<p>Dans le domaine de la diffusion des donnÃ©es <em>open data</em>, lâ€™Insee a expÃ©rimentÃ© le format <code>Parquet</code> Ã  deux reprises pendant lâ€™annÃ©e 2023. En premier lieu, pour la diffusion des donnÃ©es du <a href="https://www.insee.fr/fr/metadonnees/source/serie/s1046">RÃ©pertoire Electoral Unique</a>. Plus rÃ©cemment, ce sont les donnÃ©es dÃ©taillÃ©es du recensement de la population qui ont Ã©tÃ© diffusÃ©es dans ce format, accompagnÃ©es dâ€™un <a href="../../post/parquetRP">guide dâ€™utilisation</a> mis en ligne sur le blog du SSP Hub (plus de dÃ©tails dans lâ€™<a href="../../infolettre/infolettre_16">infolettre #16</a>).</p>
<details>
<summary>
<p><em>Quelques exemples de retours sur la publication des donnÃ©es dÃ©taillÃ©es du recensement au format <code>Parquet</code>.</em></p>
</summary>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="https://git.lab.sspcloud.fr/ssplab/parquet_insee_contact/-/raw/master/img/retour_utilisateur_1.png" class="img-fluid" width="700"></p>
</div><div class="column" style="width:50%;">
<p><img src="https://git.lab.sspcloud.fr/ssplab/parquet_insee_contact/-/raw/master/img/retour_utilisateur_2.png" class="img-fluid" width="700"></p>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="https://git.lab.sspcloud.fr/ssplab/parquet_insee_contact/-/raw/master/img/img3.png" class="img-fluid" width="700"></p>
</div><div class="column" style="width:50%;">
<p><img src="https://git.lab.sspcloud.fr/ssplab/parquet_insee_contact/-/raw/master/img/img4.png" class="img-fluid" width="700"></p>
</div>
</div>
</details>
<p>Le format de donnÃ©es <code>Parquet</code> est trÃ¨s intÃ©ressant pour les <em>data scientists</em> intÃ©ressÃ©s par le traitement de donnÃ©es volumineuses. Il permet des gains de performance importants par rapport au CSV sans Ãªtre dÃ©pendant dâ€™un logiciel propriÃ©taire (contrairement aux formats <code>.sas7bdat</code>, <code>dbase</code>, etc.). Par exemple, les donnÃ©es dÃ©taillÃ©es du recensement diffusÃ©es par lâ€™Insee pÃ¨sent 450Mo au format <code>Parquet</code> contre 5Go au format CSV. Des outils de traitement optimisÃ©s existent pour faciliter lâ€™utilisation de ce format. Parmi ceux-ci, cette annÃ©e a Ã©tÃ© marquÃ©e par la montÃ©e en puissance de <code>DuckDB</code>. Il sâ€™agit dâ€™un logiciel qui est utilisable par le biais des principaux langages maÃ®trisÃ©s par les <em>data scientists</em> : <a href="https://duckdb.org/docs/api/python/overview.html"><code>Python</code></a>, <a href="https://duckdb.org/docs/api/r.html"><code>R</code></a>, <a href="https://duckdb.org/docs/api/wasm/overview.html"><code>JavaScript</code></a> ou directement en ligne de commande.</p>
<p>Sa capacitÃ© Ã  gÃ©rer de grandes quantitÃ©s de donnÃ©es en faisant des requÃªtes SQL optimisÃ©es sur un fichier au format <code>Parquet</code> rend <code>DuckDB</code> particuliÃ¨rement appropriÃ© pour le traitement de donnÃ©es volumineuses (voir les Ã©lÃ©ments plus techniques, ci-dessous). Avec ce logiciel, les donnÃ©es du recensement peuvent Ãªtre lues en quelques secondes alors quâ€™il fallait plusieurs dizaines de minutes dans les prÃ©cÃ©dents formats. Pour des utilisateurs de lâ€™Ã©cosystÃ¨me de lâ€™<em>open data</em> ou pour des organisations dont le patrimoine de donnÃ©es prend plus la forme de fichiers que de bases de donnÃ©es <code>PostGreSQL</code>, <code>DuckDB</code> est une opportunitÃ© technologique permettant de valoriser des donnÃ©es dont le traitement et la diffusion nÃ©cessitait jusquâ€™Ã  prÃ©sent des ressources computationnelles importantes.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ressources techniques:</p>
<ul>
<li>Un <a href="https://datalab.sspcloud.fr/launcher/ide/rstudio-sparkr?autoLaunch=true&amp;init.personalInit=%C2%ABhttps%3A%2F%2Fraw.githubusercontent.com%2FInseeFrLab%2Fformation-bceao%2Fmain%2Ftp%2Finit-tp.sh%C2%BB&amp;resources.limits.memory=%C2%AB100Gi%C2%BB&amp;persistence.size=%C2%AB40Gi%C2%BB"><em>notebook</em> <i class="fa-brands fa-r-project" aria-label="r-project"></i></a> sur <code>DuckDB</code> issu dâ€™une <a href="https://inseefrlab.github.io/formation-bceao/">formation de lâ€™Insee</a> donnÃ©e Ã  la BCEAO ;</li>
<li>Une <a href="https://www.book.utilitr.org/03_fiches_thematiques/fiche_arrow">fiche sur <code>Arrow</code></a>, lâ€™Ã©cosystÃ¨me sous-jacent Ã  <code>DuckDB</code>, dans la documentation collaborative <code>utilitR</code> ;</li>
<li>Le <a href="../../post/polars/">post de blog</a> sur la librairie <i class="fa-brands fa-python" aria-label="python"></i> <code>Polars</code>, une approche alternative Ã  <code>DuckDB</code> ;</li>
<li>Lâ€™<a href="https://datalab.sspcloud.fr/data-explorer?source=https%3A%2F%2Fstatic.data.gouv.fr%2Fresources%2Frecensement-de-la-population-fichiers-detail-individus-localises-au-canton-ou-ville-2020-1%2F20231023-122841%2Ffd-indcvi-2020.parquet">explorateur de donnÃ©es du SSPCloud</a> qui repose sur <code>DuckDB</code>.</li>
</ul>
<p>DonnÃ©es diffusÃ©es par la statistique publique au format <code>Parquet</code> :</p>
<ul>
<li>Les donnÃ©es du <a href="https://www.data.gouv.fr/fr/datasets/bureaux-de-vote-et-adresses-de-leurs-electeurs/#/resources">RÃ©pertoire Electoral Unique</a> ;</li>
<li>Le guide dâ€™utilisation des donnÃ©es du recensement de la population au format Parquet sous forme de <a href="../../post/parquetRP/">billet de blog</a>. Voir aussi lâ€™<a href="../../infolettre/infolettre_16"><em>infolettre #16</em></a> ;</li>
<li>Les <a href="https://www.linkedin.com/feed/update/urn:li:activity:7163102904906678272/">donnÃ©es de la dÃ©linquance enregistrÃ©e par la police et gendarmerie nationales</a> publiÃ©es par le service statistique ministÃ©riel de la sÃ©curitÃ© intÃ©rieur publiÃ©es au format Parquet.</li>
</ul>
<p>Sur le format <code>Parquet</code> :</p>
<ul>
<li>Un <a href="https://www.insee.fr/fr/information/7635827?sommaire=7635842">article</a> sur le format <code>Parquet</code> dans le <em>Courrier des stats nÂ°9</em> Ã©crit par Alexis Dondon et Pierre Lamarche ;</li>
<li>Le blog dâ€™<a href="https://www.icem7.fr/outils/3-explorations-bluffantes-avec-duckdb-1-interroger-des-fichiers-distants/">Eric MauviÃ¨re</a> qui prÃ©sente une sÃ©rie dâ€™articles sur le format <code>Parquet</code> ;</li>
<li>La <a href="https://www.linkedin.com/feed/update/urn:li:activity:7133760348129505281?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28V2%2Curn%3Ali%3Aactivity%3A7133760348129505281%29">prÃ©sentation</a> de Romain Lesur sur le sujet pour lâ€™atelier <em>Modernisation of Official Statistics</em> de lâ€™UNECE.</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Des Ã©lÃ©ments plus techniques sur la gestion de la volumÃ©trie des donnÃ©es
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Il existe principalement deux approches pour stocker, organiser et mettre Ã  disposition des jeux de donnÃ©es structurÃ©s sous forme tabulaire : les <strong>fichiers</strong> et les <strong>bases de donnÃ©es relationnelles</strong>.</p>
<p>Les bases de donnÃ©es relÃ¨vent dâ€™une approche systÃ©mique. Un systÃ¨me de gestion de base de donnÃ©es (SGBD) est un logiciel qui gÃ¨re Ã  la fois le stockage dâ€™un ensemble de donnÃ©es reliÃ©es, permet de mettre Ã  jour celles-ci (ajout ou suppression dâ€™informations, modification des caractÃ©ristiques dâ€™une tableâ€¦) et qui gÃ¨re Ã©galement les modalitÃ©s dâ€™accÃ¨s Ã  la donnÃ©e (type de requÃªte, utilisateurs ayant les droits en lecture ou en Ã©critureâ€¦). Lâ€™un des logiciels les plus connus dans le domaine est <code>PostgreSQL</code>.</p>
<p>Dâ€™un autre cÃ´tÃ©, le stockage de donnÃ©es tabulaires sous forme de fichiers offre une approche plus dÃ©centralisÃ©e et flexible. Par rapport Ã  des bases de donnÃ©es, les fichiers sont plus faciles Ã  crÃ©er, partager et stocker et ne nÃ©cessitent pas systÃ©matiquement des logiciels spÃ©cialisÃ©s pour leur manipulation. Le stockage sous la forme de fichier consiste Ã  organiser lâ€™information prÃ©sente dans un jeu de donnÃ©es dans des fichiers, de maniÃ¨re brute. Ces donnÃ©es peuvent Ãªtre analysÃ©es sans recourir Ã  un logiciel spÃ©cialisÃ©. MÃªme dans le cadre de formats propriÃ©taires, comme le <code>.xlsx</code> ou <code>.sas7bdat</code>, le fait dâ€™avoir une certaine forme de standardisation rend possible, mÃªme si ce nâ€™est jamais parfaitement fiable, de lire ces donnÃ©es avec un autre logiciel que celui prÃ©vu initialement.</p>
<p>La logique de la base de donnÃ©es est donc trÃ¨s diffÃ©rente de celle du fichier. Par rapport Ã  une base de donnÃ©es, lâ€™approche des fichiers prÃ©sente plusieurs avantages, Ã  condition de privilÃ©gier des formats libres.</p>
<p>En premier lieu, les fichiers sont moins adhÃ©rents Ã  un logiciel gestionnaire. Une transition dâ€™un logiciel de traitement vers un autre nâ€™implique pas de changer la source brute. En outre, alors que le traitement des bases de donnÃ©es nÃ©cessite lâ€™intermÃ©diation du logiciel de gestion adaptÃ©, les utilisateurs de <code>Python</code> ou <code>R</code> peuvent utiliser des fichiers Ã  partir dâ€™une librairie, donc un systÃ¨me beaucoup plus lÃ©ger, qui sait comment transformer la donnÃ©e pour la retravailler depuis <code>Python</code> ou <code>R</code>.</p>
<p>Pour ces raisons, entre autres, il est plus pratique pour des utilisateurs finaux de donnÃ©es dâ€™avoir accÃ¨s Ã  des fichiers plutÃ´t quâ€™Ã  des bases de donnÃ©es, Ã  condition dâ€™avoir les ressources computationnelles suffisantes pour pouvoir traiter ces fichiers.</p>
<p>NÃ©anmoins, cette condition dâ€™accÃ¨s Ã  des ressources computationnelles suffisantes peut reprÃ©senter une contrainte limitante dans un environnement oÃ¹ les donnÃ©es sont de volume croissant. Dans les environnements oÃ¹ la volumÃ©trie des donnÃ©es Ã©tait importante, les bases de donnÃ©es ont connu une certaine popularitÃ© puisquâ€™elles permettaient de gÃ©rer efficacement de grandes quantitÃ©s de donnÃ©es. Comme, de plus, les bases de donnÃ©es offraient une gestion plus fine et fiable des droits dâ€™accÃ¨s et dâ€™Ã©criture sur les bases que ne le permettaient des fichiers, cette approche a pu connaÃ®tre une certaine popularitÃ©.</p>
<p>Le dÃ©veloppement conjoint de formats de stockages orientÃ©s objets (comme le protocole <code>S3</code>, utilisÃ© par les systÃ¨mes <em>cloud</em> modernes Ã  lâ€™image du <code>SSPCloud</code>) et dâ€™outils de traitement efficaces comme <code>DuckDB</code> permet dâ€™associer les avantages de ce dernier Ã  ceux dâ€™un systÃ¨me cohÃ©rent de fichiers partagÃ©s (lecture/Ã©criture optimisÃ©es, dissociation des utilisateurs pouvant lire et Ã©crire un fichierâ€¦).</p>
<p>Techniquement, <code>DuckDB</code> fonctionne de maniÃ¨re optimale avec des fichiers au format <code>Parquet</code>. Ce format de donnÃ©es, orientÃ© colonne, permet en effet dâ€™optimiser des traitements classiques des <em>data scientists</em> : sÃ©lectionner seulement certaines colonnes dâ€™un jeu de donnÃ©es, regrouper des donnÃ©es pour faire des calculs dâ€™agrÃ©gats, etc.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_17/parquet.png" class="img-fluid figure-img"></p>
<figcaption>Une illustration du principe du stockage orientÃ© colonne (Source: <a href="https://towardsdatascience.com/demystifying-the-parquet-file-format-13adb0206705">Michael Berk</a>)</figcaption>
</figure>
</div>
<p>Par exemple, dans le schÃ©ma ci-dessus, si on ne sâ€™intÃ©resse quâ€™aux dates enregistrÃ©es, il suffit de ne prendre que le bloc de donnÃ©es <em>ad hoc</em>. Il nâ€™est pas nÃ©cessaire de lire tout le fichier pour ne garder que les dates, comme ce serait le cas avec un format CSV.</p>
</div>
</div>
</div>
</section>
<section id="de-la-data-science-depuis-un-navigateur" class="level2">
<h2 class="anchored" data-anchor-id="de-la-data-science-depuis-un-navigateur">De la <em>data science</em> depuis un navigateur</h2>
<p>Le gain de popularitÃ© de <code>DuckDB</code> au cours de lâ€™annÃ©e 2023 sâ€™explique en partie grÃ¢ce Ã  sa version web qui permet dâ€™exÃ©cuter des traitements de donnÃ©es par le biais de navigateurs web, sans avoir Ã  installer de logiciel spÃ©cialisÃ© comme <code>Python</code> <i class="fa-brands fa-python" aria-label="python"></i> ou <i class="fa-brands fa-r-project" aria-label="r-project"></i>. Câ€™est une approche typique du <a href="https://developer.mozilla.org/fr/docs/WebAssembly"><em>web assembly</em></a> qui consiste Ã  mettre Ã  disposition des logiciels de calculs scientifiques par le biais dâ€™un simple navigateur grÃ¢ce Ã  <code>Javascript</code> <i class="fa-brands fa-js-square" aria-label="js-square"></i>, qui est disponible sur tout navigateur. Cette approche est intÃ©ressante pour les institutions proposant des <em>data visualisations</em> car elle peut permettre de mettre en oeuvre des manipulations de donnÃ©es complexes directement depuis la source brute par le biais du navigateur, donc sans recourir Ã  des serveurs externes hÃ©bergÃ©s dans des <em>cloud</em>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Faire du <i class="fa-brands fa-r-project" aria-label="r-project"></i> depuis le navigateur avec <code>webR</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Il est maintenant possible de faire du <code>R</code> directement depuis un navigateur <em>web</em> grÃ¢ce Ã  <a href="https://docs.r-wasm.org/webr/latest/"><code>webR</code></a>, une librairie dÃ©veloppÃ©e par <em>Posit</em> en 2023 et qui porte la grammaire <code>R</code> dans le navigateur sans recourir Ã  <code>Shiny</code> (exemple Ã  tester ğŸ‘‡ï¸).</p>
<p>Lâ€™idÃ©e est que le code dâ€™analyse de donnÃ©es est en <code>R</code> mais quâ€™en arriÃ¨re plan câ€™est du <code>Javascript</code> qui servira Ã  lâ€™exÃ©cution. La librairie est encore jeune mais celle-ci est prometteuse pour faciliter la transition entre du code dâ€™analyse de donnÃ©es en <code>R</code> et une application interactive.</p>
<div id="qwebr-insertion-location-1"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<p>Un exemple plus complexe, utilisant le <em>package</em> <code>ggplot2</code>:</p>
<div id="qwebr-insertion-location-2"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>La <a href="https://docs.r-wasm.org/webr/latest/">documentation officielle</a> de <code>WebR</code> ;</li>
<li><a href="https://thinkr.fr/retour-vers-le-turfu-r-le-web-et-webr/">Un <em>post</em></a> sur le <em>web assembly</em> par <em>ThinkR</em> ;</li>
<li>Lâ€™extension <a href="https://quarto-webr.thecoatlessprofessor.com/"><code>quarto-webR</code></a> qui permet dâ€™encapsuler du code <code>webR</code> dans un site web statique construit avec <code>Quarto</code> ;</li>
<li>Une <a href="https://observablehq.com/@hrbrmstr/webr-0-2-2-in-observable">dÃ©monstration</a> de <code>WebR</code> sur <code>Observable</code>.</li>
</ul>
</div>
</div>
</section>
<section id="prochains-Ã©vÃ©nements-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="prochains-Ã©vÃ©nements-du-rÃ©seau">Prochains Ã©vÃ©nements du rÃ©seau</h2>
<section id="la-dataviz-pour-donner-du-sens-aux-donnÃ©es-et-communiquer-un-message-par-eric-mauviÃ¨re-29-fÃ©vrier-15h-16h" class="level3">
<h3 class="anchored" data-anchor-id="la-dataviz-pour-donner-du-sens-aux-donnÃ©es-et-communiquer-un-message-par-eric-mauviÃ¨re-29-fÃ©vrier-15h-16h">â€œLa dataviz pour donner du sens aux donnÃ©es et communiquer un messageâ€ par Eric MauviÃ¨re (ğŸ“… 29 fÃ©vrier, 15h-16h)</h3>
<p>Le <strong>29 fÃ©vrier (15h - 16h)</strong>, Eric MauviÃ¨re nous fera une prÃ©sentation, avec de nombreux exemples issus de la statistique publique, de la maniÃ¨re dont une visualisation de donnÃ©es peut Ãªtre construite pour transmettre un message clair aux lecteurs. Cette prÃ©sentation permettra dâ€™Ã©voquer les bonnes pratiques et les outils simples pour construire des visualisations de donnÃ©es faciles Ã  lire et Ã  comprendre afin de rendre le message intelligible, efficace et utile Ã  un large spectre de publics.</p>
<p>Cet Ã©vÃ©nement aura lieu en visio sur <a href="https://insee-fr.zoom.us/j/92487784559?pwd=WVdsNUFNWXhUNnJYUW56WFdyNHlNdz09">Zoom</a>, il est ouvert Ã  tous les membres du rÃ©seau. Pour les agents de la DG de lâ€™Insee, une retransmission en salle 4-C-458 est organisÃ©e pour assister Ã  la prÃ©sentation puis Ã©changer Ã  lâ€™issue de celle-ci.</p>
<p>Ã‰ric MauviÃ¨re est statisticien, passÃ© par la diffusion et les Ã©tudes rÃ©gionales de lâ€™Insee. Il a ensuite crÃ©Ã© le logiciel cartographique web <code>GÃ©oclip</code> utilisÃ©, par exemple, par le site <a href="https://statistiques-locales.insee.fr/">https://statistiques-locales.insee.fr/</a>. Plus rÃ©cemment, il a participÃ© Ã  la conception du site <a href="https://vizagreste.agriculture.gouv.fr/">https://vizagreste.agriculture.gouv.fr/</a>, portail de visualisation de donnÃ©es du service statistique ministÃ©riel du ministÃ¨re de lâ€™Agriculture et de la SouverainetÃ© alimentaire. Depuis 3 ans, au sein dâ€™<code>Icem7</code>, il participe Ã  la diffusion de connaissances sur les problÃ©matiques de <em>dataviz</em> et forme sur mesure en sÃ©miologie graphique et analyse de donnÃ©es.</p>
<ul>
<li><a href="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2024-02-09-mauviere/_La%20dataviz%20pour%20donner%20du%20sens%20aux%20donnÃ©es%20et%20communiquer%20un%20message_%20par%20Eric%20MauviÃ¨re.ics">Invitation outlook</a></li>
<li>Lien <a href="https://insee-fr.zoom.us/j/92487784559?pwd=WVdsNUFNWXhUNnJYUW56WFdyNHlNdz09">Zoom</a></li>
</ul>
</section>
<section id="masterclass-datascientest" class="level3">
<h3 class="anchored" data-anchor-id="masterclass-datascientest">Masterclass datascientest</h3>
<p>De nouvelles <em>masterclass</em> en partenariat avec <code>datascientest</code> seront organisÃ©es prochainement. Un questionnaire pour recenser les besoins, similaire Ã  celui proposÃ© lâ€™an dernier, sera transmis prochainement pour Ã©valuer le contenu Ã  prioriser.</p>
</section>
<section id="programme-10" class="level3">
<h3 class="anchored" data-anchor-id="programme-10">Programme 10%</h3>
<p>La saison 3 du programme 10% dÃ©marre prochainement. Ce programme, issu des recommandations du <a href="https://www.numerique.gouv.fr/uploads/RAPPORT-besoins-competences-donnee.pdf">rapport de lâ€™Inspection GÃ©nÃ©rale de lâ€™Insee et de la DINUM</a>, permet Ã  des experts de la donnÃ©e de lâ€™administration de monter en compÃ©tence en consacrant jusquâ€™Ã  10 % de leur temps de travail Ã  des projets transversaux, Ã  des formations ou encore Ã  des moments informels qui favorisent lâ€™Ã©change entre pairs.</p>
<p>Le premier Ã©vÃ©nement de la saison aura lieu le <strong>11 mars 2024 au Lieu de la Transformation Publique</strong> (Paris XV). Lâ€™objectif de cette journÃ©e est de dÃ©finir collectivement les projets mutualisables pouvant entraÃ®ner des collaborations entre <em>data scientists</em> de diffÃ©rentes administrations pendant lâ€™annÃ©e 2024.<br>
Plus dâ€™informations Ã  venir sur le <a href="https://www.10pourcent.etalab.gouv.fr/">site du programme</a>.</p>
<ul>
<li>Inscription sur <a href="https://www.eventbrite.fr/e/billets-programme-10-journee-dideation-829916611927">Eventbrite</a>.</li>
</ul>
</section>
<section id="autoformation-de-dÃ©couverte-Ã -python" class="level3">
<h3 class="anchored" data-anchor-id="autoformation-de-dÃ©couverte-Ã -python">Autoformation de dÃ©couverte Ã  <code>Python</code></h3>
<p>Depuis quelques semaines, une nouvelle formation est apparue au catalogue de formation de lâ€™Insee et sur le <a href="https://www.sspcloud.fr/formation">portail de formation du SSPCloud</a> : une <strong>auto-formation de dÃ©couverte de <code>Python</code></strong>, construite et mentorÃ©e par les Ã©quipes innovation de lâ€™Insee.</p>
<p>Chaque chapitre de formation, disponible sous la forme de <em>notebooks <code>Jupyter</code></em>, peut Ãªtre ouvert en un clic Ã  partir du <a href="https://www.sspcloud.fr/formation?search=&amp;path=%5B%22Initiation%20%C3%A0%20Python%22%5D">catalogue de formation</a> du <code>SSPCloud</code>. Ces ressources sont disponibles en continu, au-delÃ  des pÃ©riodes dÃ©limitÃ©es pour la formation.</p>
<p>Des cycles de 6 semaines pendant lesquels les participants peuvent bÃ©nÃ©ficier dâ€™un mentorat ont vocation Ã  Ãªtre organisÃ©s rÃ©guliÃ¨rement. Les premiers formÃ©s selon cette modalitÃ© ont commencÃ© leur apprentissage en ce dÃ©but dâ€™annÃ©e 2024.</p>
<p>Ce systÃ¨me de mentorat prend deux formes :</p>
<ul>
<li>tout au long de la formation : vous pouvez poser toutes vos questions sur le canal Tchap dÃ©diÃ© ; les mentors de la formation rÃ©pondent rapidement, afin que vous ne restiez jamais bloquÃ© ;</li>
<li>ponctuellement : une visio est rÃ©alisÃ©e si vous le dÃ©sirez avec 1-2 mentors afin de pouvoir discuter plus en dÃ©tail des problÃ¨mes que vous pouvez rencontrer.</li>
</ul>
<p>Ce systÃ¨me de mentorat a lâ€™avantage Ã  la fois de favoriser une pÃ©dagogie par la pratique continue qui a fait ses preuves pour lâ€™apprentissage des langages de programmation, tout en laissant Ã  chacun la possibilitÃ© dâ€™avancer Ã  son rythme.</p>
<p>Les dates des prochains cycles de mentorat seront prochainement communiquÃ©es. Il est nÃ©anmoins possible, en attendant, dâ€™explorer les ressources disponibles sur le <code>SSPCloud</code> ainsi que rejoindre le <a href="https://matrix.to/#/#sspy:agent.finances.tchap.gouv.fr">canal <code>Tchap</code> <code>SSPy - Formation "Initiation Ã  Python"</code></a> afin dâ€™Ã©changer sur celle-ci (poser des questions de comprÃ©hension, comprendre un <em>bug</em>, assister les collÃ¨gues bloquÃ©s, etc.).</p>


</section>
</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_17/</guid>
  <pubDate>Sat, 20 Jan 2024 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_17/robotroma.jfif" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>RÃ©trospective du rÃ©seau en 2023 (cocorico, beaucoup de nouveaux inscrits !) ; des nouvelles rÃ¨gles europÃ©ennes pour lâ€™IA ; le recensement de la population au format parquet ; un explorateur de fichier sur le SSPCloud</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_16/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_16/santa.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>NoÃ«l approchant, avant dâ€™ouvrir vos cadeaux, de dÃ©vorer une bÃ»che ou tout autre met dÃ©licieux, nous vous proposons de nous retourner sur la progression de lâ€™audience du rÃ©seau durant lâ€™annÃ©e 2023. Cette newsletter commencera ainsi par une rÃ©trospective du rÃ©seau, en Ã©cho Ã  celle de lâ€™<a href="../../infolettre/infolettre_09/index.html">annÃ©e 2022</a>. Une partie consacrÃ©e aux actualitÃ©s de la <em>data science</em> suivra.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Making of
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>Observable</code> est Ã  la fois un langage visant Ã  simplifier lâ€™usage de <code>JavaScript</code> <i class="fa-brands fa-js-square" aria-label="js-square"></i> pour mettre en oeuvre des visualisations interactives et une <a href="https://observablehq.com/">plateforme</a> permettant de simplifier la mise Ã  disposition de ces visualisations sous une forme de <em>notebook</em>.</p>
<p>Les statistiques de comptage sont enregistrÃ©es sous format <code>Parquet</code> sur le systÃ¨me de stockage <code>S3</code> du <code>SSPCloud</code>. Lâ€™intÃ©gration native de <code>DuckDB</code> Ã  <code>Observable</code> permet au navigateur <em>web</em> de lire et dâ€™effectuer des manipulations de donnÃ©es Ã  travers des requÃªtes SQL de maniÃ¨re trÃ¨s efficace. Sur ce sujet, outre la <a href="https://observablehq.com/documentation/data/databases/database-clients#duckdb">documentation officielle dâ€™<code>Observable</code></a>, il est recommandÃ© de lire le <a href="https://observablehq.com/@ericmauviere/duckdb-redonne-nouvelle-vie-sql">tutoriel dâ€™Eric MauviÃ¨re</a>.</p>
<p>La librairie <a href="https://observablehq.com/@observablehq/plot"><code>Plot</code></a> propose de nombreuses fonctionalitÃ©s utiles pour construire des visualisations interactives. Sa logique est assez proche de celle des <em>frameworks</em> <a href="https://observablehq.com/@observablehq/plot-from-ggplot2"><code>ggplot2</code> en <code>R</code></a> ou <a href="https://observablehq.com/@observablehq/plot-overview-for-matplotlib-users"><code>matplotlib</code> en <code>Python</code></a>.</p>
<p>Ce <em>post</em> sâ€™appuie sur <a href="https://quarto.org/docs/interactive/ojs/"><code>Quarto</code></a> qui permet de crÃ©er une page <em>web</em> statique autosuffisante Ã  partir dâ€™une suite dâ€™instructions dans des blocs <code>{ojs}</code>. Cette mÃ©thode est trÃ¨s intÃ©ressante pour lâ€™intÃ©gration de figures <code>JavaScript</code> dans des sites <em>web</em> complets gÃ©nÃ©rÃ©s de maniÃ¨re automatique. Le code utilisÃ© est mis Ã  disposition des curieux par le biais de menus dÃ©roulants.</p>
<p>Lâ€™ensemble des codes sources nÃ©cessaires Ã  la reproduction de cette page sont disponibles sur le <a href="https://github.com/InseeFrLab/ssphub/blob/main/infolettre/infolettre_16/"><code>Github  inseefrlab/ssphub</code></a>. Pour limiter les duplications de code, les scripts ont Ã©tÃ© modularisÃ©s dans des fichiers sÃ©parÃ©s.<br>
Les Ã©lÃ©ments ne sont pas nÃ©cessairement prÃ©sentÃ©s dans lâ€™ordre car <code>JavaScript</code> est un langage <em>asynchrone</em>, les Ã©lÃ©ments ne sont pas executÃ©s dans lâ€™ordre de dÃ©finition mais dans lâ€™ordre par lequel ils sont nÃ©cessaires pour obtenir un objet donnÃ©.</p>
</div>
</div>
</div>
<section id="rÃ©trospective-du-rÃ©seau-en-2023" class="level2">
<h2 class="anchored" data-anchor-id="rÃ©trospective-du-rÃ©seau-en-2023">RÃ©trospective du rÃ©seau en 2023</h2>
<section id="une-audience-en-progression" class="level3">
<h3 class="anchored" data-anchor-id="une-audience-en-progression">Une audience en progression</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="108" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 107;"><span id="cb1-108"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;&lt;span class = "underline-big"&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>start_count<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/span&gt; personnes faisaient partie de la liste de diffusion en dÃ©but d'annÃ©e 2023.&lt;/div&gt;&lt;br&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="109" data-source-offset="-148" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 108;"><span id="cb2-109"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>plot_bar_participants<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;&lt;br&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb3" data-startfrom="110" data-source-offset="-194" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 109;"><span id="cb3-110"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>message<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;&lt;br&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
<details>
<summary>
DÃ©couvrir le code
</summary>
<p>Voir plus bas la dÃ©finition des objets Javascript ğŸ‘‡ï¸</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode javascript code-with-copy"><code class="sourceCode javascript"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;&lt;span class = "underline-big"&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>start_count<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/span&gt; personnes faisaient parti de la liste de diffusion en dÃ©but d'annÃ©e.&lt;/div&gt;&lt;br&gt;`</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>plot_bar_participants<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;&lt;br&gt;`</span></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>message<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;`</span></span></code></pre></div></div>
</details>
<p>A lâ€™exception du mois dâ€™aoÃ»t (pause estivale oblige), la progression de lâ€™audience a Ã©tÃ© assez rÃ©guliÃ¨re grÃ¢ce aux Ã©vÃ©nements et contenus publiÃ©s sur le site du <code>SSP Hub</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb5" data-startfrom="113" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 112;"><span id="cb5-113"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;Pendant l'annÃ©e 2023, le rÃ©seau a ainsi connu &lt;span class="underline-big"&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>events<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/span&gt; Ã©vÃ©nements et publications de contenu (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countEvents</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Infolettre"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">, </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countEvents</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Post de blog"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">, </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countEvents</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EvÃ©nement virtuel ou prÃ©sentiel"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">, </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countEvents</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Masterclass"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">).&lt;/div&gt;&lt;br&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb6" data-startfrom="136" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 135;"><span id="cb6-136"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>lineplot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb7" data-startfrom="137" data-source-offset="-29" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 136;"><span id="cb7-137"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>warm_strip<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb8" data-startfrom="138" data-source-offset="-60" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 137;"><span id="cb8-138"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">md</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`__Choisir les Ã©vÃ©nements du rÃ©seau Ã  afficher ğŸ‘‡ï¸__`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-3" data-nodetype="expression">

</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb9" data-startfrom="139" data-source-offset="-116" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 138;"><span id="cb9-139"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>viewof events_chosen_figure1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-4" data-nodetype="expression">

</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb10" data-startfrom="140" data-source-offset="-165" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 139;"><span id="cb10-140"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>table_events<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-5" data-nodetype="expression">

</div>
</div>
</div>
</div>
<details>
<summary>
Code pour gÃ©nÃ©rer les diffÃ©rents blocs de cette figure
</summary>
<details>
<summary>
Code pour gÃ©nÃ©rer la figure principale
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="annotated-cell-11" data-startfrom="145" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-annotation-code code-with-copy code-annotated"><code class="sourceCode javascript" style="counter-reset: source-line 144;"><span id="annotated-cell-11-145"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Voir plus bas ğŸ‘‡ï¸ les arrays utilisÃ©s</span></span>
<span id="annotated-cell-11-146"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Animation faite avec le Scrubber ci-dessous</span></span>
<span id="annotated-cell-11-147">lineplot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>({</span>
<span id="annotated-cell-11-148">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="annotated-cell-11-149">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">grid</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-150">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nombre d'inscrits"</span></span>
<span id="annotated-cell-11-151">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-152">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="annotated-cell-11-153">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-154">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">domain</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-01-10"</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-12-09"</span>)]</span>
<span id="annotated-cell-11-155">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-156">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">color</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="annotated-cell-11-157">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">range</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Object</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">values</span>(color_mapping_events)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-158">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">domain</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Object</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">keys</span>(color_mapping_events)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-159">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Type d'Ã©vÃ©nement"</span></span>
<span id="annotated-cell-11-160">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> </span>
<span id="annotated-cell-11-161">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marginLeft</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-162">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="annotated-cell-11-163">        Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">line</span>(</span>
<span id="annotated-cell-11-164">          serie_contacts<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-11-165">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-166">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#6886bb"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-167">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">tip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"xy"</span></span>
<span id="annotated-cell-11-168">            })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1">1</button><span id="annotated-cell-11-169" class="code-annotation-target">        Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crosshairX</span>(serie_contacts_complete<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-11-170">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span></span>
<span id="annotated-cell-11-171">            })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-172">        Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dot</span>(</span>
<span id="annotated-cell-11-173">          serie_contacts_complete<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="2">2</button><span id="annotated-cell-11-174" class="code-annotation-target">          Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pointerX</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>}))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-175">        Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dot</span>(serie_contacts<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-11-176">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-177">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#6886bb"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-178">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#6886bb"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-179">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">title</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Effectif"</span></span>
<span id="annotated-cell-11-180">            })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-181">        Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tickX</span>(events_data_figure1_b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-11-182">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">text</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">``</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-183">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-184">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">opacity</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-185">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">color</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-186">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">tip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span></span>
<span id="annotated-cell-11-187">            })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>            </span>
<span id="annotated-cell-11-188">        Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axisX</span>(events_data_figure1_b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-11-189">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-190">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">text</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-191">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">color</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type"</span></span>
<span id="annotated-cell-11-192">            })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-11-193">    ]</span>
<span id="annotated-cell-11-194">})</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="169" data-code-annotation="1">ElÃ©ment de rÃ©activitÃ© lorsque la souris passe sur la figure.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="174" data-code-annotation="2">ElÃ©ment de rÃ©activitÃ© lorsque la souris passe sur la figure.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<details>
<summary>
Code pour gÃ©nÃ©rer la bande sous la figure principale
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="annotated-cell-12" data-startfrom="390" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-annotation-code code-with-copy code-annotated"><code class="sourceCode javascript" style="counter-reset: source-line 389;"><button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1">1</button><span id="annotated-cell-12-390" class="code-annotation-target">warm_strip <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>({</span>
<span id="annotated-cell-12-391">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">height</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-392">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marginLeft</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-393">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">color</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="annotated-cell-12-394">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">scheme</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ylorrd"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-395">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-396">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="annotated-cell-12-397">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crosshair</span>(serie_contacts_complete<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-12-398">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-399">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">strokeOpacity</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-400">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-401">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">interval</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">utcDay</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">every</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-402">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">inset</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// no gaps</span></span>
<span id="annotated-cell-12-403">    })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-404">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">barX</span>(serie_contacts_complete<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="annotated-cell-12-405">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-406">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">strokeOpacity</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-407">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-408">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">interval</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">utcDay</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">every</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-12-409">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">inset</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// no gaps</span></span>
<span id="annotated-cell-12-410">    })</span>
<span id="annotated-cell-12-411">  ]</span>
<span id="annotated-cell-12-412">})</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="390" data-code-annotation="1">Inspiration : https://observablehq.com/<span class="citation" data-cites="observablehq/plot-warming-stripes">@observablehq/plot-warming-stripes</span></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<details>
<summary>
Code pour gÃ©nÃ©rer le sÃ©lecteur dâ€™Ã©vÃ©nements
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb11-0"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">underline_event</span>(x){</span>
<span id="cb11-1">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> x_underlined <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;span style="text-transform: capitalize; border-bottom: solid 4px </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>color_mapping_events[x]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">; margin-bottom: -2px;"&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/span&gt;`</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-2">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> x_underlined</span>
<span id="cb11-3">}</span>
<span id="cb11-4"></span>
<span id="cb11-5">viewof events_chosen_figure1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">checkbox</span>(</span>
<span id="cb11-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(events<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-7">    {</span>
<span id="cb11-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">value</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(events<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">format</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> x <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">underline_event</span>(x)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb11-10">    }</span>
<span id="cb11-11">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</details>
<details>
<summary>
Code pour gÃ©nÃ©rer la table interactive
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb12--1">table_events <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb12-0">    events_data_figure1_b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-1">    {</span>
<span id="cb12-2">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">columns</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"event"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type"</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-3">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">header</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="cb12-4">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">date</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-5">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">event</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EvÃ©nement du rÃ©seau"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-6">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">type</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Type d'Ã©vÃ©nement"</span></span>
<span id="cb12-7">        }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">format</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="cb12-9">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">type</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (x) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb12-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">            &lt;span style="text-transform: capitalize; display: inline-flex; align-items: center;"&gt;</span></span>
<span id="cb12-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    &lt;span style="border-bottom: solid 1px </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>color_mapping_events[x]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">; margin-bottom: -2px;"&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/span&gt;</span></span>
<span id="cb12-12"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    &lt;span style="width: 10px; height: 10px; margin-left: 5px; background-color: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>color_mapping_events[x]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">;"&gt;&lt;/span&gt;</span></span>
<span id="cb12-13"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    &lt;/span&gt;</span></span>
<span id="cb12-14"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">            `</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-15">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">event</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (x) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;a </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>links_website_ssphub[x] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!==</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">undefined</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`href="</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>links_website_ssphub[x]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">" target="_blank"`</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/a&gt;`</span></span>
<span id="cb12-16">        }</span>
<span id="cb12-17">    })</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="declaration">

</div>
</div>
</div>
</details>
</details>
</section>
<section id="du-contenu-qui-intÃ©resse-au-delÃ -des-statisticiens-publics" class="level3">
<h3 class="anchored" data-anchor-id="du-contenu-qui-intÃ©resse-au-delÃ -des-statisticiens-publics">Du contenu qui intÃ©resse au-delÃ  des statisticiens publics</h3>
<p>Si les statistiques concernant la composition du rÃ©seau parmi les organismes de la statistique publique sont relativement stables par rapport Ã  lâ€™an dernier, le changement principal ayant eu lieu en 2023 est lâ€™ouverture progressive Ã  des publics hors de la statistique publique (administrations hors du SSP, chercheurs et Ã©tudiantsâ€¦)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb13" data-startfrom="0" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb13-0"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`&lt;div&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>barplot_ssp<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/div&gt;`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="expression">

</div>
</div>
</div>
<details>
<summary>
Code pour gÃ©nÃ©rer la figure
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb14--1">barplot_ssp <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>({</span>
<span id="cb14-0">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marginLeft</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-1">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marginRight</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Frequency"</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">null</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">color</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="cb14-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">domain</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hors du SSP"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Service Statistique Public (SSP)"</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">range</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"forestgreen"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#6886bb"</span>]</span>
<span id="cb14-7">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-8">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="cb14-9">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">barX</span>(hors_ssp_data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-10">    {</span>
<span id="cb14-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SSP"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fy</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">toLocaleString</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fr"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="cb14-13">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"month"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"long"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-14">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"year"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"numeric"</span></span>
<span id="cb14-15">      })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-16">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">inset</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SSP"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">sort</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mail"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-17">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">tip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">channels</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">share</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d)  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">share</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">toFixed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">%`</span>}</span>
<span id="cb14-18">    })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-19">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axisY</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">textAnchor</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"start"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dx</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>})<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-20">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ruleX</span>([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>])</span>
<span id="cb14-21">  ]</span>
<span id="cb14-22">})</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<p>Les deux derniÃ¨res publications sur le site du rÃ©seau, Ã  savoir lâ€™<a href="../../infolettre/infolettre_15/index.html">infolettre #15</a> sur le rÃ©entrainement des modÃ¨les de langage et, surtout, le <a href="../../post/parquetRP/index.html"><em>post</em> de blog</a> sur la publication du recensement de la population au format <code>Parquet</code> ont connu un Ã©cho important hors des cercles de <em>data scientist</em> du service statistique public et ont amenÃ© de nouveaux publics Ã  suivre les contenus proposÃ©s par le rÃ©seau.</p>
</section>
</section>
<section id="actualitÃ©s-de-la-data-science" class="level1">
<h1>ActualitÃ©s de la <em>data science</em></h1>
<section id="la-startup-mistral-ai-publie-un-modÃ¨le-Ã -lÃ©tat-de-lart" class="level2">
<h2 class="anchored" data-anchor-id="la-startup-mistral-ai-publie-un-modÃ¨le-Ã -lÃ©tat-de-lart">La startup Mistral AI publie un modÃ¨le Ã  lâ€™Ã©tat de lâ€™art</h2>
<p>Mistral AI, une <em>startup</em> franÃ§aise spÃ©cialisÃ©e dans lâ€™intelligence artificielle, vient de publier un modÃ¨le nommÃ© <a href="https://mistral.ai/news/mixtral-of-experts/"><code>Mixtral</code></a> qui repose sur le principe du <a href="https://huggingface.co/blog/moe"><em>mixture of experts</em></a>. Cette technique consiste Ã  privilÃ©gier une architecture construite Ã  partir de sous-modÃ¨les spÃ©cialisÃ©s plutÃ´t quâ€™un modÃ¨le gÃ©nÃ©raliste qui sâ€™adapte en fin de procÃ©dure Ã  une question spÃ©cialisÃ©e. Dans ce type de modÃ¨les, lâ€™enjeu est ainsi dâ€™interprÃ©ter la question pour diriger la rÃ©ponse vers lâ€™expert adÃ©quat : si une question porte sur un sujet de cuisine, un.e expert.e spÃ©cialisÃ©.e en code sera de peu de secours.</p>
<p>Dâ€™aprÃ¨s les premiÃ¨res Ã©valuations publiÃ©es, ce modÃ¨le surpasserait les capacitÃ©s des autres modÃ¨les ouverts (notamment <code>Llama 2</code>) et sâ€™approcherait des performances de GPT 3.5, le modÃ¨le derriÃ¨re la version gratuite de ChatGPT. Cette annonce a eu lieu en pleine pÃ©riode de levÃ©e de fonds pour Mistral AI qui aurait obtenu un financement de 385 millions dâ€™euros.</p>
<details>
<summary>
Tableau des performances (source: <a href="https://mistral.ai/news/mixtral-of-experts/">Mistral AI</a>)
</summary>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mistral.ai/images/news/mixtral-of-experts/overview.png" class="img-fluid figure-img"></p>
<figcaption>Tableau des performances publiÃ© par Mistral AI</figcaption>
</figure>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Un <a href="https://www.lemonde.fr/economie/article/2023/12/11/la-start-up-francaise-mistral-ai-a-leve-385-millions-d-euros_6205065_3234.html">article du <em>Monde</em></a> sur lâ€™entreprise Mistral AI ;</li>
<li>Le modÃ¨le <code>Mixtral</code> sur <a href="https://huggingface.co/docs/transformers/model_doc/mixtral">Huggingface</a> ;</li>
<li>Le principe des architectures <em>mixture of experts</em> (<a href="https://en.wikipedia.org/wiki/Mixture_of_experts">article Wikipedia</a>).</li>
</ul>
</div>
</div>
</section>
<section id="leurope-parvient-Ã -un-accord-sur-les-premiÃ¨res-rÃ¨gles-au-monde-en-matiÃ¨re-dia" class="level2">
<h2 class="anchored" data-anchor-id="leurope-parvient-Ã -un-accord-sur-les-premiÃ¨res-rÃ¨gles-au-monde-en-matiÃ¨re-dia">Lâ€™Europe parvient Ã  un accord sur les premiÃ¨res rÃ¨gles au monde en matiÃ¨re dâ€™IA</h2>
<p>Dans un accord provisoire signÃ© le 9 dÃ©cembre 2023 et nommÃ© <em>â€œArtificial Intelligence Actâ€</em>, les Ã‰tats Membres et le Parlement europÃ©en ont Ã©tabli une proposition relative Ã  des rÃ¨gles harmonisÃ©es concernant lâ€™intelligence artificielle (IA).</p>
<p>DÃ©butÃ©es en 2018, avant que les IA gÃ©nÃ©ratives ne deviennent si populaires, ces discussions dÃ©passent le cadre exclusif de ces derniÃ¨res. NÃ©anmoins, concernant celles-ci, le compromis prÃ©voit une approche diffÃ©renciÃ©e suivant le contexte de dÃ©veloppement et lâ€™usage de ces modÃ¨les. Outre le respect des rÃ¨gles europÃ©ennes de propriÃ©tÃ© intellectuelle, les dÃ©veloppeurs de modÃ¨les gÃ©nÃ©ratifs devront sâ€™assurer que les produits diffusÃ©s sont bien identifiÃ©s comme artificiels, afin de limiter la diffusion de <a href="https://fr.wikipedia.org/wiki/Deepfake"><em>deepfakes</em></a>. Les dÃ©veloppeurs de ces modÃ¨les devront Ã©galement communiquer sur la qualitÃ© des donnÃ©es utilisÃ©es pour entraÃ®ner les modÃ¨les et sur le coÃ»t Ã©nergÃ©tique de ceux-ci. Les modÃ¨les <em>open source</em> et ceux construits Ã  des fins de recherche bÃ©nÃ©ficient dâ€™exemptions de ces rÃ¨gles.</p>
<p>Des contraintes renforcÃ©es sâ€™appliqueront aux systÃ¨mes jugÃ©s Ã  <em>â€œhaut risqueâ€</em> dans des domaines comme la dÃ©fense, lâ€™Ã©ducation, les ressources humaines ou encore la santÃ©. Pour ces systÃ¨mes, il sera nÃ©cessaire de rÃ©aliser une analyse dâ€™impact avant la mise sur le marchÃ©. Par ailleurs, une obligation de transparence et dâ€™explicabilitÃ© des modÃ¨les est mise en place afin dâ€™Ãªtre en mesure de comprendre les rÃ¨gles de dÃ©cision de ces IA.</p>
<p>Lâ€™accord provisoire interdit Ã©galement lâ€™utilisation de lâ€™IA dans quelques domaines, jugÃ©s trop sensibles. Par exemple, la reconnaissance faciale de masse est interdite, hormis lorsque celle-ci est justifiÃ©e par des motifs de sÃ©curitÃ© nationale. Dâ€™autres utilisations, qui peuvent amener Ã  des dÃ©rives, comme la notation sociale basÃ©e sur le comportement ou des caractÃ©ristiques personnelles, sont interdits. Les travaux se poursuivront maintenant au niveau technique dans les semaines Ã  venir afin de mettre au point les dÃ©tails du nouveau rÃ¨glement. Une fois ces travaux terminÃ©s, la prÃ©sidence prÃ©sentera le texte de compromis aux reprÃ©sentants des Ã‰tats membres pour approbation.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>La <a href="https://www.consilium.europa.eu/fr/press/press-releases/2023/12/09/artificial-intelligence-act-council-and-parliament-strike-a-deal-on-the-first-worldwide-rules-for-ai/">prÃ©sentation de lâ€™accord</a> sur le site web du Conseil de lâ€™Europe.</li>
</ul>
</div>
</div>
</section>
<section id="nouveau-post-de-blog-diffusion-du-recensement-de-la-population-au-format-parquet" class="level2">
<h2 class="anchored" data-anchor-id="nouveau-post-de-blog-diffusion-du-recensement-de-la-population-au-format-parquet">Nouveau <em>post</em> de blog: diffusion du recensement de la population au format <code>Parquet</code></h2>
<p>Chaque annÃ©e, lâ€™Insee diffuse des statistiques construites Ã  partir du recensement de la population, lâ€™une des enquÃªtes phares de lâ€™institut. Pour accompagner ces rÃ©sultats et permettre Ã  de nombreux acteurs de creuser ces donnÃ©es trÃ¨s riches dans des dimensions qui les intÃ©ressent, lâ€™Insee diffuse Ã©galement des bases de donnÃ©es dÃ©taillÃ©es construites aprÃ¨s anonymisation de prÃ¨s de 20 millions de donnÃ©es individuelles.</p>
<p>Ces donnÃ©es, dâ€™une extrÃªme richesse, Ã©taient historiquement complexes Ã  manipuler du fait de leur volumÃ©trie. La diffusion de celles-ci sous le format <code>Parquet</code>, une premiÃ¨re mondiale parmi les instituts de statistique publique, vise Ã  simplifier leur exploitation. Pour accompagner cette innovation, en partenariat avec les services de diffusion de lâ€™Insee, le <a href="https://ssphub.netlify.app/post/parquetrp/">dernier <em>post</em> de blog</a> du rÃ©seau prÃ©sente un guide pratique dâ€™utilisation de ces donnÃ©es dans plusieurs langages de traitement (<i class="fa-brands fa-r-project" aria-label="r-project"></i> , <code>Python</code> <i class="fa-brands fa-python" aria-label="python"></i> et <code>Observable</code> <i class="fa-brands fa-js-square" aria-label="js-square"></i>) par le biais de <code>DuckDB</code>.</p>
<p>Combien dâ€™habitants de Toulouse ont changÃ© de logement sur lâ€™annÃ©e ? Quels sont les dÃ©partements avec le plus de centenaires ? Le <a href="https://ssphub.netlify.app/post/parquetrp/"><em>post</em> de blog</a> vous montrera comment calculer ces statistiques. Et si vous dÃ©sirez dÃ©couvrir ce format avec des exemples additionnels, ce <em>post</em> dâ€™<a href="https://www.icem7.fr/outils/3-explorations-bluffantes-avec-duckdb-1-interroger-des-fichiers-distants/">Eric MauviÃ¨re</a> vous intÃ©ressera Ã©galement.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Le <a href="https://ssphub.netlify.app/post/parquetrp/"><em>post</em> de blog</a> ;</li>
<li>Un <a href="https://www.insee.fr/fr/information/7635827?sommaire=7635842">article</a> sur le format <code>Parquet</code> dans le <em>Courrier des stats nÂ°9</em> Ã©crit par Alexis Dondon et Pierre Lamarche ;</li>
<li>Le blog dâ€™<a href="https://www.icem7.fr/outils/3-explorations-bluffantes-avec-duckdb-1-interroger-des-fichiers-distants/">Eric MauviÃ¨re</a> qui prÃ©sente une sÃ©rie dâ€™articles sur le format <code>Parquet</code>;</li>
<li>La <a href="https://www.linkedin.com/feed/update/urn:li:activity:7133760348129505281?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28V2%2Curn%3Ali%3Aactivity%3A7133760348129505281%29">prÃ©sentation</a> de Romain Lesur sur le sujet pour lâ€™atelier <em>Modernisation of Official Statistics</em> de lâ€™UNECE.</li>
</ul>
</div>
</div>
</section>
<section id="le-sspcloud-se-dote-dun-explorateur-de-fichiers-basÃ©-sur-duckdb" class="level2">
<h2 class="anchored" data-anchor-id="le-sspcloud-se-dote-dun-explorateur-de-fichiers-basÃ©-sur-duckdb">Le <a href="https://datalab.sspcloud.fr">SSPCloud</a> se dote dâ€™un explorateur de fichiers basÃ© sur <code>DuckDB</code></h2>
<p><code>DuckDB</code> est un outil extrÃªmement efficace pour lire des fichiers <code>Parquet</code> et <code>CSV</code>. Outre son efficacitÃ©, <code>DuckDB</code> prÃ©sente lâ€™avantage dâ€™Ãªtre disponible par le biais de plusieurs clients: <i class="fa-brands fa-r-project" aria-label="r-project"></i>, <code>Python</code> <i class="fa-brands fa-python" aria-label="python"></i> mais aussi un navigateur web grÃ¢ce Ã  <code>Javascript</code> <i class="fa-brands fa-js-square" aria-label="js-square"></i> . Des acteurs majeurs de lâ€™Ã©cosystÃ¨me de la <em>data science</em>, notamment <a href="https://observablehq.com/documentation/data/databases/database-clients#duckdb">Observable</a>, ont fait de <code>DuckDB</code> une pierre angulaire de leurs explorateurs de donnÃ©es. Lâ€™avantage de cette approche, typique du <a href="https://developer.mozilla.org/fr/docs/WebAssembly"><em>web assembly</em></a> (approche visant Ã  mettre Ã  disposition des logiciels de calculs scientifiques par le biais dâ€™un simple navigateur), est que seul <code>Javascript</code> <i class="fa-brands fa-js-square" aria-label="js-square"></i>, qui est disponible sur tout navigateur, est nÃ©cessaire pour visualiser et effectuer des traitements analytiques sur des donnÃ©es.</p>
<p>Le <a href="https://datalab.sspcloud.fr"><code>SSPCloud</code></a>, la plateforme moderne de traitement de donnÃ©es dÃ©veloppÃ©e par lâ€™Insee et mise Ã  disposition de prÃ¨s de 3000 agents de lâ€™administration ou Ã©tudiants, vient de mettre en oeuvre <a href="https://datalab.sspcloud.fr/data-explorer?rowsPerPage=25&amp;page=1&amp;columnWidths=%7B%7D&amp;columnVisibility=%7B%7D">un explorateur</a> aux fonctionnalitÃ©s similaires ğŸš€.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_16/viewer-sspcloud.png" class="img-fluid figure-img"></p>
<figcaption>Un exemple dâ€™utilisation de cet explorateur sur les donnÃ©es dÃ©taillÃ©es du recensement ğŸ‘†ï¸</figcaption>
</figure>
</div>
<p>Celui-ci sâ€™appuie sur <code>DuckDB</code> et permet de visualiser de maniÃ¨re trÃ¨s fluide les fichiers aux formats <code>Parquet</code> et <code>CSV</code>. Il ne se restreint pas aux donnÃ©es disponibles sur les espaces de stockage personnels du <code>SSPCloud</code>: nâ€™importe quel fichier, au format adÃ©quat et disponible sur internet, peut Ãªtre lu avec ce visualiseur. Il nâ€™est dâ€™ailleurs pas nÃ©cessaire dâ€™avoir un compte sur le <a href="https://datalab.sspcloud.fr"><code>SSPCloud</code></a> pour lâ€™utiliser, il suffit que le fichier que lâ€™on souhaite lire soit un fichier <em>open data </em> ğŸ˜ !</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/WebAssembly">Des Ã©lÃ©ments</a> sur le <em>web assembly</em> ;</li>
<li><a href="https://datalab.sspcloud.fr/data-explorer?rowsPerPage=25&amp;page=1&amp;columnWidths=%7B%7D&amp;columnVisibility=%7B%7D">Lâ€™explorateur de fichier du <code>SSPCloud</code></a> ;</li>
<li><a href="https://explore.data.gouv.fr/tableau">Lâ€™explorateur de fichiers de <code>data.gouv</code></a> basÃ© sur la mÃªme approche technologique.</li>
</ul>
</div>
</div>
</section>
<section id="laccessibilitÃ©-de-jupyter-amÃ©liorÃ©e-avec-le-concours-de-linsee" class="level2">
<h2 class="anchored" data-anchor-id="laccessibilitÃ©-de-jupyter-amÃ©liorÃ©e-avec-le-concours-de-linsee">Lâ€™accessibilitÃ© de <code>Jupyter</code> amÃ©liorÃ©e avec le concours de lâ€™Insee</h2>
<p>Afin de ne pas pÃ©naliser certains publics, les logiciels doivent respecter des critÃ¨res dâ€™accessibilitÃ©. Ils doivent notamment avoir de nombreuses fonctionnalitÃ©s accessibles sans souris, exclusivement par le biais du clavier. Cependant, <code>Jupyter</code>, logiciel bien connu des <em>data scientists</em>, par la structure complexe de son interface, prÃ©sentait plusieurs dÃ©fauts, comme la difficultÃ© Ã  naviguer dans la page pour trouver le menu nÃ©cessaire pour Ã©diter du code.</p>
<p>GrÃ¢ce Ã  une subvention de lâ€™Insee, des travaux dâ€™amÃ©lioration de lâ€™accessibilitÃ© de <code>Jupyter</code> ont pu Ãªtre menÃ©s. Les prochaines versions du logiciel devraient Ãªtre plus accessibles, et, entre autres, plus pratiques dâ€™usage pour les <em>data scientists</em> qui privilÃ©gient le clavier Ã  la souris pour se dÃ©placer dans un document.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Pour en savoir plus
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Lâ€™<a href="https://blog.jupyter.org/recent-keyboard-navigation-improvements-in-jupyter-4df32f97628d">annonce</a> sur le blog de <code>Jupyter</code> ;</li>
<li>Le principe dâ€™<a href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard-accessible">accessibilitÃ© clavier</a> du W3C.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="annexe-pour-les-curieux-le-code-observable-utilisÃ©-pour-cette-page" class="level1">
<h1>Annexe pour les curieux: le code <code>Observable</code> utilisÃ© pour cette page</h1>
<details>
<summary>
Les librairies ou imports externes utilisÃ©s
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="annotated-cell-17" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-annotation-code code-with-copy code-annotated"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><button class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="1">1</button><span id="annotated-cell-17-0" class="code-annotation-target">Plot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">require</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'@observablehq/plot@0.6.12/dist/plot.umd.min.js'</span>)</span>
<span id="annotated-cell-17-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> {disposal} <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"@mbostock/disposal"</span></span>
<span id="annotated-cell-17-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> {Scrubber} <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"@mbostock/scrubber"</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-17" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="0" data-code-annotation="1">La librairie <code>Plot</code> embarquÃ©e par dÃ©faut dans <code>Quarto</code> est un peu vieille mais la mettre Ã  jour est assez simple.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</details>
<!-----------------
Objets temporaires
------------------>
<details>
<summary>
Objets rÃ©actifs nÃ©cessaires pour modifier en continu lâ€™input de la figure 1
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb15--1">message <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb15-0">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> class_to_use <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (scrubber_participants <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> end_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blurred-element"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"underline-big"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb15-1"></span>
<span id="cb15-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> message_to_print <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb15-3"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  En fin d'annÃ©e, &lt;span class = "</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>class_to_use<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">" &gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>end_count<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/span&gt; personnes Ã©taient membres de la liste de diffusion ğŸš€ğŸš€.</span></span>
<span id="cb15-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span></span>
<span id="cb15-5"></span>
<span id="cb15-6">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> message_to_print</span>
<span id="cb15-7">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb16--1">numbers2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb16-0">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> startValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> start_count<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb16-1">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> endValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> end_count<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb16-2"></span>
<span id="cb16-3">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> numbers <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Array</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">from</span>({ <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">length</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> endValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> startValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> (_<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> i) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> startValue)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb16-4">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> numbers</span>
<span id="cb16-5">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb17--1">current_bar <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb17-0">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> startValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb17-1">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> endValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> scrubber_participants<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb17-2"></span>
<span id="cb17-3">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> numbers <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Array</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">from</span>({ <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">length</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> endValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> startValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> (_<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> i) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> startValue) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb17-4">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> numbers</span>
<span id="cb17-5"></span>
<span id="cb17-6">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="declaration">

</div>
</div>
</div>
<!---------
scrubber
---------->
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb18" data-startfrom="0" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb18-0">viewof scrubber_participants <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Scrubber</span>(numbers2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">loopDelay</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">initial</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> start_count})</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<!------------ 
figure
------------->
<details>
<summary>
La premiÃ¨re figure, animÃ©e par la rÃ©activitÃ© de ses inputs
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="annotated-cell-22" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-annotation-code code-with-copy code-annotated"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="annotated-cell-22--1">plot_bar_participants <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>({</span>
<span id="annotated-cell-22-0">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">height</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-1">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marginLeft</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Frequency â†’"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">domain</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">336</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">552</span>]}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">null</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">color</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="annotated-cell-22-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">scheme</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ylorrd"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">domain</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">236</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> scrubber_participants] </span>
<span id="annotated-cell-22-7">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-8">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="1">1</button><span id="annotated-cell-22-9" class="code-annotation-target">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">barX</span>(current_bar<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">inset</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d})<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="annotated-cell-22-10">  ]</span>
<span id="annotated-cell-22-11">})</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-22" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="9" data-code-annotation="1">ElÃ©ment rÃ©actif</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-15" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<details>
<summary>
Fonctions utilisÃ©es
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb19--1">dateFormat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">utcFormat</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m-%d"</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-16" data-nodetype="declaration">

</div>
</div>
</div>
<!----
Compter les Ã©vÃ©nements du rÃ©seau
------>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb20--1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pluralizeEvent</span>(input) {</span>
<span id="cb20-0">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">switch</span> (input) {</span>
<span id="cb20-1">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">case</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EvÃ©nement virtuel ou prÃ©sentiel"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb20-2">      <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ã©vÃ©nements virtuels ou prÃ©sentiels"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb20-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">case</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Infolettre"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb20-4">      <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"infolettres"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb20-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">case</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Post de blog"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb20-6">      <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"posts de blog"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb20-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">case</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Masterclass"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb20-8">      <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"masterclasses"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb20-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">default</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb20-10">      <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"unknown event type"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb20-11">  }</span>
<span id="cb20-12">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb21--1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countEvents</span>(x){</span>
<span id="cb21-0"></span>
<span id="cb21-1">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> pluriel <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pluralizeEvent</span>(x)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb21-2"></span>
<span id="cb21-3">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> message <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb21-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  &lt;span style="border-bottom: solid 4px </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>color_mapping_events[x]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">; margin-bottom: -2px;"&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>nombre_events<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get</span>(x)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>pluriel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb21-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  &lt;/span&gt;</span></span>
<span id="cb21-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb21-7"></span>
<span id="cb21-8">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> message</span>
<span id="cb21-9">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-18" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb22--1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leftJoinArrays</span>(array1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> array2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> key<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> mean<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> deviation) {</span>
<span id="cb22-0">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> randomNoise <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">randomNormal</span>(mean<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> deviation)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-1"></span>
<span id="cb22-2">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Sort arrays by date</span></span>
<span id="cb22-3">  array1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sort</span>((a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> b) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-4">  array2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sort</span>((a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> b) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-5"></span>
<span id="cb22-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Perform left join</span></span>
<span id="cb22-7">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> array1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>((item1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> index) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> {</span>
<span id="cb22-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> matchingItem <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> array2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">find</span>((item2) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> item2[key] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">===</span> item1[key])<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-9">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> noise <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> matchingItem <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">randomNoise</span>() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-10">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> noisedMail <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> matchingItem <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span> matchingItem<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> noise <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">undefined</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-11">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> { <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">rowNumber</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> index <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">...</span>item1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">...</span>matchingItem<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> noisedMail }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-12">  })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-13"></span>
<span id="cb22-14">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> result<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb22-15">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-19" data-nodetype="declaration">

</div>
</div>
</div>
<!----
Manipulation de listes ou arrays
------>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb23--1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> accessor) {</span>
<span id="cb23-0">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Array</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">from</span>(<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Set</span>(accessor <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span> data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(accessor) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> data))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb23-1">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb24--1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">interpolateDates</span>(data) {</span>
<span id="cb24-0">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Sort the data by date</span></span>
<span id="cb24-1">  data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sort</span>((a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> b) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-2"></span>
<span id="cb24-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Create an array to store the interpolated data</span></span>
<span id="cb24-4">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> interpolatedData <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-5"></span>
<span id="cb24-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Loop through the data to interpolate values between dates</span></span>
<span id="cb24-7">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">let</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> i<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">++</span>) {</span>
<span id="cb24-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> currentDate <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(data[i]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-9">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> nextDate <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(data[i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-10">    </span>
<span id="cb24-11">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Calculate the difference in days between current and next date</span></span>
<span id="cb24-12">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> daysDiff <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (nextDate <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> currentDate) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">24</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-13"></span>
<span id="cb24-14">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Calculate the daily increment</span></span>
<span id="cb24-15">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> dailyIncrement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (data[i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> data[i]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> daysDiff<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-16"></span>
<span id="cb24-17">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Interpolate values for each day between the current and next date</span></span>
<span id="cb24-18">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">let</span> j <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> j <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> daysDiff<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> j<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">++</span>) {</span>
<span id="cb24-19">      <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> interpolatedDate <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(currentDate)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-20">      interpolatedDate<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setDate</span>(currentDate<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">getDate</span>() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> j)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-21">      </span>
<span id="cb24-22">      <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> interpolatedValue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> data[i]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> j <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> dailyIncrement<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-23"></span>
<span id="cb24-24">      interpolatedData<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">push</span>({</span>
<span id="cb24-25">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">date</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> interpolatedDate<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">toISOString</span>()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">split</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'T'</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb24-26">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">mail</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Math</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(interpolatedValue)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Round to the nearest integer</span></span>
<span id="cb24-27">      })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-28">    }</span>
<span id="cb24-29">  }</span>
<span id="cb24-30"></span>
<span id="cb24-31">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// Add the last data point</span></span>
<span id="cb24-32">  interpolatedData<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">push</span>({</span>
<span id="cb24-33">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">date</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> data[data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb24-34">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">mail</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> data[data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb24-35">  })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-36"></span>
<span id="cb24-37">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> interpolatedData<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb24-38">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-21" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<details>
<summary>
<p><em>Inputs</em> pour <code>DuckDB</code> ğŸ¦†</p>
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb25-0">url_events <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2023-12-retrospective/events_orginazed_2023.json`</span></span>
<span id="cb25-1">url_latest <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s3://ssphub/diffusion/website/2023-12-retrospective/list_contacts_latest.parquet'</span></span>
<span id="cb25-2">url_hors_ssp <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s3://ssphub/diffusion/website/2023-12-retrospective/series_part_ssp.parquet'</span></span>
<span id="cb25-3">url_latest2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s3://ssphub/diffusion/website/2023-12-retrospective/series_nombre_contact.parquet'</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-22-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-22-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-22-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-22-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb26-0">configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb26-1">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> client <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> DuckDBClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">of</span>()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb26-2">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> client<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sql</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb26-3"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SET s3_endpoint='minio.lab.sspcloud.fr'</span></span>
<span id="cb26-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb26-5">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> client<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb26-6">}</span>
<span id="cb26-7"></span>
<span id="cb26-8">db <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb26-9">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb26-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE VIEW share_ssp AS </span></span>
<span id="cb26-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT * FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_hors_ssp<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">') ;</span></span>
<span id="cb26-12"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb26-13">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb26-14"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE VIEW latest AS </span></span>
<span id="cb26-15"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT * FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_latest<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">') WHERE date &gt; '2023-01-01' ;</span></span>
<span id="cb26-16"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb26-17">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb26-18"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE VIEW serie AS </span></span>
<span id="cb26-19"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT * FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_latest2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">') WHERE date &gt; '2023-01-01' ;</span></span>
<span id="cb26-20"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb26-21">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> configuredClient</span>
<span id="cb26-22">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell" data-eval="true">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27" data-startfrom="1" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb27-1">serie_contacts <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sql</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb27-2"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT date, CAST(SUM(mail) AS int) AS mail</span></span>
<span id="cb27-3"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM serie</span></span>
<span id="cb27-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY date</span></span>
<span id="cb27-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb27-6">serie_contacts_domain <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sql</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb27-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT date, domain, CAST(mail AS int) AS mail</span></span>
<span id="cb27-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM serie</span></span>
<span id="cb27-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-24-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-24-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb28--1">hors_ssp_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb28-0"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT * FROM share_ssp WHERE date in ('2023-12-09', '2023-01-10')</span></span>
<span id="cb28-1"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-25" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb29--1">events <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">json</span>(url_events)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-26" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<details>
<summary>
<p><em>Arrays</em> intermÃ©diaire</p>
</summary>
<!----
computed objects
------>
<details>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb30--1">serie_contacts_complete <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">interpolateDates</span>(serie_contacts)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-27" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb31--1">start_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> serie_contacts<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>((d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dateFormat</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-01-10"</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>((d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-28" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb32--1">end_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> serie_contacts<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>((d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dateFormat</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-12-09"</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>((d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mail</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-29" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb33-0">events_data_figure1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> events<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> events_chosen_figure1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">includes</span>(d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type</span>))</span>
<span id="cb33-1">events_data_figure1</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-30-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-30-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb34--1">nombre_events <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rollup</span>(events<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> (D) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> D<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> (d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-31" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb35-0">measured_dates <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT DISTINCT strftime(date, '%Y-%m-%d') AS date FROM serie`</span>)</span>
<span id="cb35-1">date_selected <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> measured_dates<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date</span>)</span>
<span id="cb35-2">list_dates2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT DISTINCT strftime(date, '%Y-%m-%d') AS date FROM serie`</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36" data-startfrom="0" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb36-0">links_website_ssphub <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb36-1">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> toto <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb36-2"></span>
<span id="cb36-3">    events_data_figure1_b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">forEach</span>(item <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> {</span>
<span id="cb36-4">    toto[item<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">event</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> item<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">href</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb36-5">    })<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb36-6"></span>
<span id="cb36-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> toto</span>
<span id="cb36-8">}</span>
<span id="cb36-9">links_website_ssphub</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-33-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-33-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb37--1">events_data_figure1_b <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leftJoinArrays</span>(events_data_figure1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> serie_contacts_complete<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-34" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<details>
<summary>
Quelques <em>array</em> utiles
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb38--1">color_mapping_events <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb38-0"></span>
<span id="cb38-1">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> color_mapping_events <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb38-2">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EvÃ©nement virtuel ou prÃ©sentiel"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#4d78a6"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb38-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Infolettre"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#f28e2c"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb38-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Post de blog"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e05658"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb38-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Masterclass"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#76b7b1"</span></span>
<span id="cb38-6">    }<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb38-7"></span>
<span id="cb38-8">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> color_mapping_events</span>
<span id="cb38-9">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-35" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39" data-startfrom="-1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -2;"><span id="cb39--1">dates_2023 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Array</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">from</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">length</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> (_<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> i) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> {</span>
<span id="cb39-0">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> date <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">new</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Date</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb39-1">  date<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setDate</span>(i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb39-2">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> date<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb39-3">})</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-36" data-nodetype="declaration">

</div>
</div>
</div>
</details>


</details></section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_16/</guid>
  <pubDate>Thu, 21 Dec 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_16/santa.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Guide dâ€™utilisation des donnÃ©es du recensement de la population au format Parquet</title>
  <link>https://ssphub.netlify.app/post/parquetRP/</link>
  <description><![CDATA[ 





<p>Ce guide prÃ©sente quelques exemples dâ€™utilisation des donnÃ©es du recensement de la population diffusÃ©es au format <code>Parquet</code>. Il sâ€™agit dâ€™une version HTML enrichissant le guide publiÃ© sur le site <a href="https://www.insee.fr/fr/statistiques/7637890">insee.fr</a> pour les langages <code>Python</code> <i class="fa-brands fa-python" aria-label="python"></i> et <i class="fa-brands fa-r-project" aria-label="r-project"></i> avec des exemples interactifs pouvant Ãªtre construits par le biais de <code>Quarto Markdown</code> et <code>Observable</code>.</p>
<p>Lâ€™ensemble des codes utilisÃ©s pour produire cette note est disponible sur le dÃ©pÃ´t <a href="https://github.com/InseeFrLab/exemples-recensement-parquet"><code>Github</code> <i class="fa-brands fa-github" aria-label="github"></i> InseeFrLab/exemples-recensement-parquet</a> au format <a href="https://quarto.org/"><code>Quarto Markdown</code></a>.</p>
<p>Pour plus dâ€™informations sur le format <code>Parquet</code>, dans un contexte de statistique publique, se rÃ©fÃ©rer Ã  <span class="citation" data-cites="dondon-lamarche-2023">Dondon and Lamarche (2023)</span>. Pour un exemple sur la diffÃ©rence entre format <code>CSV</code> et <code>Parquet</code> illustrÃ© sur les donnÃ©es du recensement de la population, voir <span class="citation" data-cites="mauviere-2022">MauviÃ¨re (2022)</span>.</p>
<p>Ce guide propose dâ€™utiliser <a href="https://duckdb.org/"><code>DuckDB</code></a> Ã  travers plusieurs langages pour effectuer des traitements sur les fichiers dÃ©tails du recensement. Par rapport Ã  dâ€™autres approches, <a href="https://duckdb.org/"><code>DuckDB</code></a> a Ã©tÃ© choisi pour son efficacitÃ© ainsi que pour son universalitÃ©<sup>1</sup>.</p>
<details>
<summary>
Afficher le dictionnaire des variables
</summary>
<p>Il est possible de rechercher dans la documentation des noms de variables ou des informations dans les descriptions. Lorsquâ€™une variable prÃ©sente de nombreuses modalitÃ©s, seules la premiÃ¨re est la derniÃ¨re sont retournÃ©es. Un exemple ci-dessous montre comment utiliser une requÃªte SQL pour rÃ©cupÃ©rer lâ€™ensemble des valeurs dâ€™une telle variable.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="68" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 67;"><span id="cb1-68">viewof unique_description_filter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">search</span>(</span>
<span id="cb1-69">  documentation<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="cb1-70">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">placeholder</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Trouver une information dans la documentation"</span></span>
<span id="cb1-71">  }</span>
<span id="cb1-72">  )</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="77" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 76;"><span id="cb2-77">table_filtre_description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb2-78">  unique_description_filter<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-79">  {</span>
<span id="cb2-80">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">header</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {</span>
<span id="cb2-81">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description_variable</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Description de la variable"</span></span>
<span id="cb2-82">    }    </span>
<span id="cb2-83">  }</span>
<span id="cb2-84">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb3" data-startfrom="89" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 88;"><span id="cb3-89">documentation <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT * FROM documentation_indiv`</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
</details>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ce <em>post</em> accompagne la mise Ã  disposition des donnÃ©es du recensement de la population au format <code>Parquet</code> sur le site <a href="https://www.insee.fr/fr/statistiques/7706119?sommaire=7637890">insee.fr</a>.</p>
<p>Il vise Ã  fournir une expÃ©rience plus ergonomique et des exemples supplÃ©mentaires liÃ©s au langage <code>Javascript</code> au guide PDF disponible sur la page du site <a href="https://www.insee.fr/fr/statistiques/7706119?sommaire=7637890">insee.fr</a>.</p>
<p>âš ï¸ Cette page sâ€™appuie sur lâ€™exploitation de donnÃ©es qui sont prÃ©alablement tÃ©lÃ©chargÃ©es de maniÃ¨re automatique par le navigateur <em>web</em>. Celles-ci reprÃ©sentent une volumÃ©trie autour de 1Go, ce qui peut nÃ©cessiter un certain temps en fonction de la bande passante. Une fois tÃ©lÃ©chargÃ©es, lâ€™exploitation de ces donnÃ©es nÃ©cessite nÃ©anmoins beaucoup moins de ressources grÃ¢ce Ã  lâ€™optimisation permise par <code>DuckDB</code>.</p>
</div>
</div>
<section id="initialisation" class="level1">
<h1>Initialisation</h1>
<p>Les donnÃ©es sont disponibles sur le site <code>data.gouv</code> aux adresses suivantes :</p>
<ul>
<li><a href="https://www.insee.fr/fr/statistiques/7706119?sommaire=7637890">Fichier dÃ©tail individuel</a> ;</li>
<li><a href="https://www.insee.fr/fr/statistiques/7705908?sommaire=7637890">Fichier dÃ©tail logement</a>.</li>
</ul>
<p>Dans la suite de ce guide, il sera fait lâ€™hypothÃ¨se pour <code>Python</code> et <code>R</code> que les donnÃ©es sont rÃ©cupÃ©rÃ©es depuis les URL stables, enregistrÃ©es dans un mÃªme dossier et quâ€™il existe une variable <em>ad hoc</em> enregistrant ce chemin dans <code>Python</code> ou <code>R</code>. En ce qui concerne <code>Observable</code>, il est proposÃ© dâ€™utiliser directement lâ€™URL de mise Ã  disposition des fichiers.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" aria-controls="tabset-1-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" aria-controls="tabset-1-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<p>Les URL stables de mise Ã  dispositon des donnÃ©es seront directement renseignÃ©es dans la crÃ©ation de la base de donnÃ©es.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>Emplacement des donnÃ©es pour les exemples <code>Observable</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>En ce qui concerne <code>Observable</code>, il est proposÃ© dâ€™utiliser directement lâ€™URL de mise Ã  disposition des fichiers car lâ€™extension <code>httpfs</code> est nativement intÃ©grÃ©e Ã  la librairie <code>DuckDB</code>, <em>a contrario</em> des clients <code>Python</code> et <code>R</code>.</p>
<p>Ces jeux de donnÃ©es sont automatiquement tÃ©lÃ©chargÃ©s par le navigateur et mis en <em>cache</em> pour accÃ©lÃ©rer des utilisations ultÃ©rieures de la page. Le premier chargement de tous les tableaux et graphiques sur celle-ci peut ainsi prendre un peu plus de temps.</p>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">path_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'C:/MesDocuments/dossierpersonnel'</span></span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remplacer par l'emplacement oÃ¹ sont stockÃ©es </span></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># les donnÃ©es</span></span></code></pre></div></div>
</div>
<div id="tabset-1-3" class="tab-pane" aria-labelledby="tabset-1-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">path_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'C:/MesDocuments/dossierpersonnel'</span></span>
<span id="cb5-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remplacer par l'emplacement oÃ¹ sont stockÃ©es </span></span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># les donnÃ©es</span></span></code></pre></div></div>
</div>
<div id="tabset-1-4" class="tab-pane" aria-labelledby="tabset-1-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">path_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'C:/MesDocuments/dossierpersonnel'</span></span>
<span id="cb6-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remplacer par l'emplacement oÃ¹ sont stockÃ©es </span></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># les donnÃ©es</span></span></code></pre></div></div>
</div>
</div>
</div>
<p>Il est proposÃ©, pour initialiser la connexion entre les donnÃ©es <code>Parquet</code> et le langage client (<code>Javascript</code>, <code>R</code> ou <code>Python</code>) dâ€™utiliser des vues. Ceci permet de faire rÃ©fÃ©rence de maniÃ¨re rÃ©pÃ©tÃ©e Ã  la mÃªme source de donnÃ©es par le biais dâ€™un alias (<code>table_logement</code> ou <code>table_individu</code>).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" aria-controls="tabset-2-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" aria-controls="tabset-2-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" aria-controls="tabset-2-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" aria-controls="tabset-2-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-2-1" class="tab-pane active" aria-labelledby="tabset-2-1-tab">
<details>
<summary>
DÃ©rouler pour dÃ©couvrir le code <code>Observable</code> dâ€™initialisation de la base de donnÃ©es avec <code>DuckDB</code>
</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb7-2">url_table_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.data.gouv.fr/fr/datasets/r/f314175a-6d33-4ee4-b5eb-2cb6c29df2c2"</span></span>
<span id="cb7-3">url_table_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.data.gouv.fr/fr/datasets/r/c8e1b241-75fe-43e9-a266-830fc30ec61d"</span></span>
<span id="cb7-4">url_doc_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.data.gouv.fr/fr/datasets/r/c274705f-98db-4d9b-9674-578e04f03198"</span></span>
<span id="cb7-5">url_doc_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.data.gouv.fr/fr/datasets/r/1c6c6ab2-b766-41a4-90f0-043173d5e9d1"</span></span>
<span id="cb7-6"></span>
<span id="cb7-7">renommage_documentation <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT </span></span>
<span id="cb7-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  COD_VAR AS nom_variable, </span></span>
<span id="cb7-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  LIB_VAR AS description_variable, </span></span>
<span id="cb7-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  TYPE_VAR AS type_variable, </span></span>
<span id="cb7-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  COD_MOD AS code_modalite, </span></span>
<span id="cb7-12"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  LIB_MOD AS description_modalite,</span></span>
<span id="cb7-13"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  LONG_VAR as longueur_variable`</span></span>
<span id="cb7-14"></span>
<span id="cb7-15">db <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb7-16">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> DuckDBClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">of</span>()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb7-17"></span>
<span id="cb7-18">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb7-19"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW table_individu </span></span>
<span id="cb7-20"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS SELECT *</span></span>
<span id="cb7-21"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_table_individu<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">')`</span></span>
<span id="cb7-22">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb7-23"></span>
<span id="cb7-24">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb7-25"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW table_logement </span></span>
<span id="cb7-26"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS SELECT *</span></span>
<span id="cb7-27"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_table_logement<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">')`</span></span>
<span id="cb7-28">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb7-29"></span>
<span id="cb7-30">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb7-31"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW documentation_logement</span></span>
<span id="cb7-32"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>renommage_documentation<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;"> FROM read_csv_auto('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_doc_logement<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">', header=true)`</span></span>
<span id="cb7-33">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb7-34">  </span>
<span id="cb7-35">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb7-36"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW documentation_indiv</span></span>
<span id="cb7-37"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>renommage_documentation<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;"> FROM read_csv_auto('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_doc_individu<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">', header=true)`</span></span>
<span id="cb7-38">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb7-39"></span>
<span id="cb7-40">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> configuredClient</span>
<span id="cb7-41">}</span>
<span id="cb7-42"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb8" data-startfrom="248" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 247;"><span id="cb8-248">url_table_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://static.data.gouv.fr/resources/recensement-de-la-population-fichiers-detail-logements-ordinaires-en-2020-1/20231023-123618/fd-logemt-2020.parquet"</span></span>
<span id="cb8-249">url_table_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://static.data.gouv.fr/resources/recensement-de-la-population-fichiers-detail-individus-localises-au-canton-ou-ville-2020-1/20231023-122841/fd-indcvi-2020.parquet"</span></span>
<span id="cb8-250">url_doc_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.data.gouv.fr/fr/datasets/r/c274705f-98db-4d9b-9674-578e04f03198"</span></span>
<span id="cb8-251">url_doc_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.data.gouv.fr/fr/datasets/r/1c6c6ab2-b766-41a4-90f0-043173d5e9d1"</span></span>
<span id="cb8-252"></span>
<span id="cb8-253">renommage_documentation <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT </span></span>
<span id="cb8-254"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  COD_VAR AS nom_variable, </span></span>
<span id="cb8-255"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  LIB_VAR AS description_variable, </span></span>
<span id="cb8-256"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  TYPE_VAR AS type_variable, </span></span>
<span id="cb8-257"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  COD_MOD AS code_modalite, </span></span>
<span id="cb8-258"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  LIB_MOD AS description_modalite,</span></span>
<span id="cb8-259"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  LONG_VAR as longueur_variable`</span></span>
<span id="cb8-260"></span>
<span id="cb8-261">db <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb8-262">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> DuckDBClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">of</span>()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-263"></span>
<span id="cb8-264">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb8-265"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW table_individu </span></span>
<span id="cb8-266"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS SELECT *</span></span>
<span id="cb8-267"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_table_individu<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">')`</span></span>
<span id="cb8-268">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-269"></span>
<span id="cb8-270">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb8-271"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW table_logement </span></span>
<span id="cb8-272"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS SELECT *</span></span>
<span id="cb8-273"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM read_parquet('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_table_logement<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">')`</span></span>
<span id="cb8-274">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-275">  </span>
<span id="cb8-276">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb8-277"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW documentation_indiv</span></span>
<span id="cb8-278"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>renommage_documentation<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;"> FROM read_csv_auto('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_doc_individu<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">', header=true)`</span></span>
<span id="cb8-279">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-280"></span>
<span id="cb8-281">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb8-282"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW documentation_logement</span></span>
<span id="cb8-283"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    AS </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>renommage_documentation<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;"> FROM read_csv_auto('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>url_doc_logement<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">', header=true)`</span></span>
<span id="cb8-284">  ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-285"></span>
<span id="cb8-286">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> configuredClient</span>
<span id="cb8-287">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-6" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</details>
</div>
<div id="tabset-2-2" class="tab-pane" aria-labelledby="tabset-2-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> duckdb</span>
<span id="cb9-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb9-3"></span>
<span id="cb9-4"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> os.path.isdir(path_data):</span>
<span id="cb9-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_data n'est pas un rÃ©pertoire valide."</span>)</span>
<span id="cb9-6"></span>
<span id="cb9-7">duckdb.sql(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'''</span></span>
<span id="cb9-8"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  CREATE OR REPLACE VIEW table_individu</span></span>
<span id="cb9-9"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  AS SELECT * FROM read_parquet("</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>path_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/FD_INDCVI_2020.parquet")</span></span>
<span id="cb9-10"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb9-11">)</span>
<span id="cb9-12"></span>
<span id="cb9-13">duckdb.sql(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'''</span></span>
<span id="cb9-14"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  CREATE OR REPLACE VIEW table_logement</span></span>
<span id="cb9-15"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  AS SELECT * FROM read_parquet("</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>path_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/FD_LOGEMT_2020.parquet")</span></span>
<span id="cb9-16"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb9-17">)</span>
<span id="cb9-18"></span>
<span id="cb9-19">duckdb.sql(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'''</span></span>
<span id="cb9-20"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  CREATE OR REPLACE VIEW documentation_indiv</span></span>
<span id="cb9-21"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  AS SELECT COD_VAR AS nom_variable,</span></span>
<span id="cb9-22"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     LIB_VAR AS description_variable,</span></span>
<span id="cb9-23"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     TYPE_VAR AS type_variable,</span></span>
<span id="cb9-24"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     COD_MOD AS code_modalite,</span></span>
<span id="cb9-25"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     LIB_MOD AS description_modalite,</span></span>
<span id="cb9-26"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     LONG_VAR as longueur_variable</span></span>
<span id="cb9-27"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  FROM read_csv_auto("</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>path_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/dictionnaire_variables_indcvi_2020.csv", header=true)</span></span>
<span id="cb9-28"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb9-29">)</span>
<span id="cb9-30"></span>
<span id="cb9-31">duckdb.sql(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'''</span></span>
<span id="cb9-32"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  CREATE OR REPLACE VIEW documentation_logement</span></span>
<span id="cb9-33"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  AS SELECT COD_VAR AS nom_variable,</span></span>
<span id="cb9-34"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     LIB_VAR AS description_variable,</span></span>
<span id="cb9-35"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     TYPE_VAR AS type_variable,</span></span>
<span id="cb9-36"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     COD_MOD AS code_modalite,</span></span>
<span id="cb9-37"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     LIB_MOD AS description_modalite,</span></span>
<span id="cb9-38"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">     LONG_VAR as longueur_variable</span></span>
<span id="cb9-39"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  FROM read_csv_auto("</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>path_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/dictionnaire_variables_logemt_2020.csv", header=true)</span></span>
<span id="cb9-40"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb9-41">)</span></code></pre></div></div>
</div>
<div id="tabset-2-3" class="tab-pane" aria-labelledby="tabset-2-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(duckdb)</span>
<span id="cb10-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(glue)</span>
<span id="cb10-3"></span>
<span id="cb10-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pour crÃ©er une base de donnÃ©es en mÃ©moire</span></span>
<span id="cb10-5">con <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbConnect</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">duckdb</span>())</span>
<span id="cb10-6"></span>
<span id="cb10-7">path_data_sql <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> DBI<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">SQL</span>(path_data)</span>
<span id="cb10-8"></span>
<span id="cb10-9"></span>
<span id="cb10-10">renommage_documentation <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  DBI<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">SQL</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(</span>
<span id="cb10-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT"</span>,</span>
<span id="cb10-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COD_VAR AS nom_variable,"</span>,</span>
<span id="cb10-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LIB_VAR AS description_variable,"</span>,</span>
<span id="cb10-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TYPE_VAR AS type_variable,"</span>,</span>
<span id="cb10-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COD_MOD AS code_modalite,"</span>,</span>
<span id="cb10-16"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LIB_MOD AS description_modalite,"</span>,</span>
<span id="cb10-17"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LONG_VAR as longueur_variable"</span></span>
<span id="cb10-18">))</span>
<span id="cb10-19"></span>
<span id="cb10-20"></span>
<span id="cb10-21"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb10-22">  con,</span>
<span id="cb10-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(  </span>
<span id="cb10-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW table_individu AS '</span>,</span>
<span id="cb10-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SELECT * FROM read_parquet("{path_data_sql}/FD_INDCVI_2020.parquet")'</span>,</span>
<span id="cb10-26">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb10-27">  )</span>
<span id="cb10-28">)</span>
<span id="cb10-29"></span>
<span id="cb10-30"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb10-31">  con,</span>
<span id="cb10-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(  </span>
<span id="cb10-33">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW table_logement AS '</span>,</span>
<span id="cb10-34">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SELECT * FROM read_parquet("{path_data_sql}/FD_LOGEMT_2020.parquet")'</span>,</span>
<span id="cb10-35">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb10-36">  )</span>
<span id="cb10-37">)</span>
<span id="cb10-38"></span>
<span id="cb10-39"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb10-40">  con,</span>
<span id="cb10-41">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb10-42">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW documentation_indiv AS '</span>,</span>
<span id="cb10-43">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'{renommage_documentation} FROM '</span>,</span>
<span id="cb10-44">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'read_csv_auto("{path_data_sql}/dictionnaire_variables_indcvi_2020.csv", header=true)'</span>,</span>
<span id="cb10-45">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb10-46">  )</span>
<span id="cb10-47">)</span>
<span id="cb10-48"></span>
<span id="cb10-49"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb10-50">  con,</span>
<span id="cb10-51">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb10-52">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW documentation_logement AS '</span>,</span>
<span id="cb10-53">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'{renommage_documentation} FROM '</span>,</span>
<span id="cb10-54">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'read_csv_auto("{path_data_sql}/dictionnaire_variables_logemt_2020.csv", header=true)'</span>,</span>
<span id="cb10-55">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb10-56">  )</span>
<span id="cb10-57">)</span></code></pre></div></div>
</div>
<div id="tabset-2-4" class="tab-pane" aria-labelledby="tabset-2-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(duckdb)</span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb11-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb11-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(glue)</span>
<span id="cb11-5"></span>
<span id="cb11-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pour crÃ©er une base de donnÃ©es en mÃ©moire</span></span>
<span id="cb11-7">con <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbConnect</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">duckdb</span>())</span>
<span id="cb11-8"></span>
<span id="cb11-9">path_data_sql <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> DBI<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">SQL</span>(path_data)</span>
<span id="cb11-10"></span>
<span id="cb11-11">renommage_documentation <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  DBI<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">SQL</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(</span>
<span id="cb11-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT"</span>,</span>
<span id="cb11-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COD_VAR AS nom_variable,"</span>,</span>
<span id="cb11-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LIB_VAR AS description_variable,"</span>,</span>
<span id="cb11-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TYPE_VAR AS type_variable,"</span>,</span>
<span id="cb11-16"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COD_MOD AS code_modalite,"</span>,</span>
<span id="cb11-17"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LIB_MOD AS description_modalite,"</span>,</span>
<span id="cb11-18"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LONG_VAR as longueur_variable"</span></span>
<span id="cb11-19">))</span>
<span id="cb11-20"></span>
<span id="cb11-21"></span>
<span id="cb11-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb11-23">  con,</span>
<span id="cb11-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(  </span>
<span id="cb11-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW table_individu AS '</span>,</span>
<span id="cb11-26">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SELECT * FROM read_parquet("{path_data_sql}/FD_INDCVI_2020.parquet")'</span>,</span>
<span id="cb11-27">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb11-28">  )</span>
<span id="cb11-29">)</span>
<span id="cb11-30"></span>
<span id="cb11-31">table_individu <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"table_individu"</span>)</span>
<span id="cb11-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># La requÃªte pourrait aussi s'Ã©crire directement dans l'appel Ã  tbl :</span></span>
<span id="cb11-33">table_individu_direct <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'read_parquet("{path_data}/FD_INDCVI_2020.parquet")'</span>))</span>
<span id="cb11-34"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(table_individu_direct)</span>
<span id="cb11-35"></span>
<span id="cb11-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb11-37">  con,</span>
<span id="cb11-38">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(  </span>
<span id="cb11-39">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW table_logement AS '</span>,</span>
<span id="cb11-40">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SELECT * FROM read_parquet("{path_data_sql}/FD_LOGEMT_2020.parquet")'</span>,</span>
<span id="cb11-41">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb11-42">  )</span>
<span id="cb11-43">)</span>
<span id="cb11-44">table_logement <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"table_logement"</span>)</span>
<span id="cb11-45"></span>
<span id="cb11-46"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb11-47">  con,</span>
<span id="cb11-48">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb11-49">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW documentation_indiv AS '</span>,</span>
<span id="cb11-50">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'{renommage_documentation} FROM '</span>,</span>
<span id="cb11-51">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'read_csv_auto("{path_data_sql}/dictionnaire_variables_indcvi_2020.csv", header=true)'</span>,</span>
<span id="cb11-52">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb11-53">  )</span>
<span id="cb11-54">)</span>
<span id="cb11-55">documentation_indiv <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"documentation_indiv"</span>)</span>
<span id="cb11-56"></span>
<span id="cb11-57"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb11-58">  con,</span>
<span id="cb11-59">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb11-60">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW documentation_logement AS '</span>,</span>
<span id="cb11-61">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'{renommage_documentation} FROM '</span>,</span>
<span id="cb11-62">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'read_csv_auto("{path_data_sql}/dictionnaire_variables_logemt_2020.csv", header=true)'</span>,</span>
<span id="cb11-63">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb11-64">  )</span>
<span id="cb11-65">)</span>
<span id="cb11-66">documentation_logement <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"documentation_logement"</span>)</span></code></pre></div></div>
</div>
</div>
</div>
<p>Pour rapidement avoir une idÃ©e des informations prÃ©sentes dans ces donnÃ©es, le code ci-dessous peut Ãªtre utilisÃ© :</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" aria-controls="tabset-3-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" aria-controls="tabset-3-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" aria-controls="tabset-3-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" aria-controls="tabset-3-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-3-1" class="tab-pane active" aria-labelledby="tabset-3-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb12-2">schema_table_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb12-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement"</span></span>
<span id="cb12-4">  )</span>
<span id="cb12-5">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(documentation_logement)</span>
<span id="cb12-6"></span>
<span id="cb12-7">schema_table_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb12-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv"</span></span>
<span id="cb12-9">  )</span>
<span id="cb12-10">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(schema_table_individu)</span>
<span id="cb12-11"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-3-2" class="tab-pane" aria-labelledby="tabset-3-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1">schema_table_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> duckdb.sql(</span>
<span id="cb13-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv"</span></span>
<span id="cb13-3">  ).to_df()</span>
<span id="cb13-4">display(schema_table_individu.head(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb13-5"></span>
<span id="cb13-6">schema_table_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> duckdb.sql(</span>
<span id="cb13-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement"</span></span>
<span id="cb13-8">  ).to_df()</span>
<span id="cb13-9">display(schema_table_logement.head(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span></code></pre></div></div>
</div>
<div id="tabset-3-3" class="tab-pane" aria-labelledby="tabset-3-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">schema_table_individu <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb14-2">  con,</span>
<span id="cb14-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv"</span></span>
<span id="cb14-4">)</span>
<span id="cb14-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(schema_table_individu))</span>
<span id="cb14-6"></span>
<span id="cb14-7">schema_table_logement <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb14-8">  con,</span>
<span id="cb14-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement"</span></span>
<span id="cb14-10">)</span>
<span id="cb14-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(schema_table_logement))</span></code></pre></div></div>
</div>
<div id="tabset-3-4" class="tab-pane" aria-labelledby="tabset-3-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"></span>
<span id="cb15-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(documentation_indiv))</span>
<span id="cb15-3"></span>
<span id="cb15-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(documentation_logement))</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb16" data-startfrom="260" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 259;"><span id="cb16-260">schema_table_individu <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb16-261">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv"</span></span>
<span id="cb16-262">  )</span>
<span id="cb16-263">schema_table_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb16-264">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement"</span></span>
<span id="cb16-265">  )</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>Voici le dictionnaire des variables de la table logement:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb17" data-startfrom="266" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 265;"><span id="cb17-266">viewof search_logement <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">search</span>(schema_table_logement<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="cb17-267">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">placeholder</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rechercher une information dans la table logement"</span></span>
<span id="cb17-268">})</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb18" data-startfrom="273" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 272;"><span id="cb18-273">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(search_logement)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="expression">

</div>
</div>
</div>
<p>Et voici celui de la table individus:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb19" data-startfrom="280" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 279;"><span id="cb19-280">viewof search_individus <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">search</span>(schema_table_individu<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {</span>
<span id="cb19-281">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">placeholder</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rechercher une information dans la table individus"</span></span>
<span id="cb19-282">})</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb20" data-startfrom="316" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 315;"><span id="cb20-316">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(search_individus)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="expression">

</div>
</div>
</div>
<p>Pour dÃ©couvrir les informations prÃ©sentes dans la base, il est possible dâ€™utiliser les fonctions prÃ©-implÃ©mentÃ©es de <code>DuckDB</code> pour la <a href="https://duckdb.org/docs/sql/functions/char.html">manipulation de donnÃ©es textuelles</a>. Par exemple, pour extraire toutes les modalitÃ©s des variables dont la description contient le terme <em>â€œcatÃ©gorieâ€</em> :</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" aria-controls="tabset-4-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" aria-controls="tabset-4-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" aria-controls="tabset-4-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" aria-controls="tabset-4-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-4-1" class="tab-pane active" aria-labelledby="tabset-4-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb21-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb21-2">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement WHERE CONTAINS(description_variable, 'CatÃ©gorie')"</span></span>
<span id="cb21-3">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb21-4">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(query)</span>
<span id="cb21-5">)</span>
<span id="cb21-6"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-4-2" class="tab-pane" aria-labelledby="tabset-4-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement WHERE CONTAINS(description_variable, 'CatÃ©gorie')"</span></span>
<span id="cb22-2">duckdb.sql(query)</span></code></pre></div></div>
</div>
<div id="tabset-4-3" class="tab-pane" aria-labelledby="tabset-4-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement WHERE CONTAINS(description_variable, 'CatÃ©gorie')"</span></span>
<span id="cb23-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-4-4" class="tab-pane" aria-labelledby="tabset-4-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">documentation_logement <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(description_variable, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"catÃ©gorie"</span>))</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb25" data-startfrom="351" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 350;"><span id="cb25-351">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_logement WHERE CONTAINS(description_variable, 'CatÃ©gorie')"</span></span>
<span id="cb25-352">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb25-353">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(query)</span>
<span id="cb25-354">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Cette approche peut permettre de rÃ©cupÃ©rer les modalitÃ©s dâ€™une variable. Dans cette base de donnÃ©es, les valeurs <code>Z</code> sont Ã  part. Il est possible dâ€™avoir du dÃ©tail sur celles-ci avec la requÃªte suivante :</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" aria-controls="tabset-5-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" aria-controls="tabset-5-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" aria-controls="tabset-5-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" aria-controls="tabset-5-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-5-1" class="tab-pane active" aria-labelledby="tabset-5-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb26-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb26-3">  db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb26-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv WHERE CONTAINS(code_modalite, 'Z')"</span></span>
<span id="cb26-5">  )<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-6">  {</span>
<span id="cb26-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">columns</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="cb26-8">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nom_variable"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code_modalite"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-9">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description_modalite"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description_variable"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-10">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type_variable"</span></span>
<span id="cb26-11">      ]</span>
<span id="cb26-12">  }</span>
<span id="cb26-13">)</span>
<span id="cb26-14"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-5-2" class="tab-pane" aria-labelledby="tabset-5-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1">duckdb.sql(</span>
<span id="cb27-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv WHERE CONTAINS(code_modalite, 'Z')"</span></span>
<span id="cb27-3">)</span></code></pre></div></div>
</div>
<div id="tabset-5-3" class="tab-pane" aria-labelledby="tabset-5-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv WHERE CONTAINS(code_modalite, 'Z')"</span></span>
<span id="cb28-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-5-4" class="tab-pane" aria-labelledby="tabset-5-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1">documentation_indiv <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb29-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(code_modalite, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Z"</span>))</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb30" data-startfrom="397" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 396;"><span id="cb30-397">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb30-398">  db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb30-399">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM documentation_indiv WHERE CONTAINS(code_modalite, 'Z')"</span></span>
<span id="cb30-400">  )<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-401">  {</span>
<span id="cb30-402">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">columns</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="cb30-403">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nom_variable"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code_modalite"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-404">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description_modalite"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description_variable"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-405">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type_variable"</span></span>
<span id="cb30-406">      ]</span>
<span id="cb30-407">  }</span>
<span id="cb30-408">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="lecture-et-affichage-de-quelques-valeurs" class="level1">
<h1>Lecture et affichage de quelques valeurs</h1>
<p>Pour visualiser un nombre limitÃ© de valeurs, par exemple 5, deux approches sont possibles :</p>
<ul>
<li>SÃ©lectionner un Ã©chantillon restreint sur les premiÃ¨res lignes du <code>Parquet</code>, par exemple les 5 premiÃ¨res lignes ;</li>
<li>SÃ©lectionner un Ã©chantillon alÃ©atoire.</li>
</ul>
<p>Pour les premiÃ¨res lignes, la commande Ã  utiliser est <code>LIMIT</code>.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" aria-controls="tabset-6-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" aria-controls="tabset-6-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" aria-controls="tabset-6-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" aria-controls="tabset-6-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-6-1" class="tab-pane active" aria-labelledby="tabset-6-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb31-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb31-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement LIMIT 5"</span>)</span>
<span id="cb31-4">)</span>
<span id="cb31-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-6-2" class="tab-pane" aria-labelledby="tabset-6-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1">duckdb.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement LIMIT 5"</span>)</span></code></pre></div></div>
</div>
<div id="tabset-6-3" class="tab-pane" aria-labelledby="tabset-6-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb33-2">  con,</span>
<span id="cb33-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement LIMIT 5"</span></span>
<span id="cb33-4">)</span></code></pre></div></div>
</div>
<div id="tabset-6-4" class="tab-pane" aria-labelledby="tabset-6-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1">table_logement <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb35" data-startfrom="406" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 405;"><span id="cb35-406">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb35-407">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement LIMIT 5"</span>)</span>
<span id="cb35-408">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="expression">

</div>
</div>
</div>
<p>Pour un Ã©chantillon alÃ©atoire, la commande Ã  utiliser est <code>USING SAMPLE</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb36" data-startfrom="435" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 434;"><span id="cb36-435">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb36-436">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement USIN SAMPLE 5"</span>)</span>
<span id="cb36-437">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="expression">

</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" aria-controls="tabset-7-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" aria-controls="tabset-7-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" aria-controls="tabset-7-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" aria-controls="tabset-7-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-7-1" class="tab-pane active" aria-labelledby="tabset-7-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb37-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb37-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb37-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement USING SAMPLE 5"</span>)</span>
<span id="cb37-4">)</span>
<span id="cb37-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-7-2" class="tab-pane" aria-labelledby="tabset-7-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1">duckdb.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement USING SAMPLE 5"</span>)</span></code></pre></div></div>
</div>
<div id="tabset-7-3" class="tab-pane" aria-labelledby="tabset-7-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb39-2">  con,</span>
<span id="cb39-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement USING SAMPLE 5"</span></span>
<span id="cb39-4">)</span></code></pre></div></div>
</div>
<div id="tabset-7-4" class="tab-pane" aria-labelledby="tabset-7-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sql</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement USING SAMPLE 5"</span>))</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb41" data-startfrom="470" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 469;"><span id="cb41-470">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb41-471">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement USING SAMPLE 5"</span>)</span>
<span id="cb41-472">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="sÃ©lectionner-des-observations-ou-des-variables" class="level1">
<h1>SÃ©lectionner des observations ou des variables</h1>
<section id="requÃªtes-sur-les-colonnes-select" class="level2">
<h2 class="anchored" data-anchor-id="requÃªtes-sur-les-colonnes-select">RequÃªtes sur les colonnes (<code>SELECT</code>)</h2>
<p>La liste des colonnes Ã  extraire du fichier peut Ãªtre renseignÃ©e avec la clause <code>SELECT</code>. Celles-ci peuvent Ãªtre renommÃ©es en appliquant au passage la clause <code>AS</code>.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" aria-controls="tabset-8-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" aria-controls="tabset-8-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" aria-controls="tabset-8-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-8-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-4" aria-controls="tabset-8-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-8-1" class="tab-pane active" aria-labelledby="tabset-8-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb42-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb42-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb42-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, AGED, VOIT FROM table_individu LIMIT 10"</span>)</span>
<span id="cb42-4">)</span>
<span id="cb42-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-8-2" class="tab-pane" aria-labelledby="tabset-8-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1">duckdb.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, AGED, VOIT FROM table_individu LIMIT 10"</span>)</span></code></pre></div></div>
</div>
<div id="tabset-8-3" class="tab-pane" aria-labelledby="tabset-8-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb44" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb44-2">  con,</span>
<span id="cb44-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, AGED, VOIT FROM table_individu LIMIT 10"</span></span>
<span id="cb44-4">)</span></code></pre></div></div>
</div>
<div id="tabset-8-4" class="tab-pane" aria-labelledby="tabset-8-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1">table_individu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb45-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">poids =</span> IPONDI, AGED, VOIT) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb45-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb46" data-startfrom="502" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 501;"><span id="cb46-502">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb46-503">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, AGED, VOIT FROM table_individu LIMIT 10"</span>)</span>
<span id="cb46-504">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-15" data-nodetype="expression">

</div>
</div>
</div>
<p><code>DuckDB</code> propose Ã©galement des fonctionnalitÃ©s pour extraire des colonnes Ã  travers des <a href="https://fr.wikipedia.org/wiki/Expression_r%C3%A9guli%C3%A8re">expressions rÃ©guliÃ¨res</a>. De nombreux exemples peuvent Ãªtre trouvÃ©s sur <a href="https://duckdb.org/2023/08/23/even-friendlier-sql.html">cette page</a>.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" aria-controls="tabset-9-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" aria-controls="tabset-9-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" aria-controls="tabset-9-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-9-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-4" aria-controls="tabset-9-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-9-1" class="tab-pane active" aria-labelledby="tabset-9-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb47-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb47-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb47-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, COLUMNS('.*AGE.*') FROM table_individu LIMIT 10"</span>)</span>
<span id="cb47-4">)</span>
<span id="cb47-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-9-2" class="tab-pane" aria-labelledby="tabset-9-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1">duckdb.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, COLUMNS('.*AGE.*') FROM table_individu LIMIT 10"</span>)</span></code></pre></div></div>
</div>
<div id="tabset-9-3" class="tab-pane" aria-labelledby="tabset-9-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb49" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb49-2">  con,</span>
<span id="cb49-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, COLUMNS('.*AGE.*') FROM table_individu LIMIT 10"</span></span>
<span id="cb49-4">)</span></code></pre></div></div>
</div>
<div id="tabset-9-4" class="tab-pane" aria-labelledby="tabset-9-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb50" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1">table_individu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb50-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">poids =</span> IPONDI, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">contains</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AGE"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb50-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb51" data-startfrom="540" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 539;"><span id="cb51-540">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb51-541">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT IPONDI AS poids, COLUMNS('.*AGE.*') FROM table_individu LIMIT 10"</span>)</span>
<span id="cb51-542">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-16" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="requÃªtes-sur-les-lignes-where" class="level2">
<h2 class="anchored" data-anchor-id="requÃªtes-sur-les-lignes-where">RequÃªtes sur les lignes (<code>WHERE</code>)</h2>
<p>Pour extraire un sous-Ã©chantillon des donnÃ©es complÃ¨tes, la clause <code>WHERE</code> permet dâ€™appliquer des filtres Ã  partir de conditions logiques. Par exemple, il est possible de ne conserver, du fichier national, que les donnÃ©es de lâ€™Aude (11), de la Haute-Garonne (31) et de lâ€™HÃ©rault (34).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" aria-controls="tabset-10-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" aria-controls="tabset-10-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" aria-controls="tabset-10-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-10-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-4" aria-controls="tabset-10-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-10-1" class="tab-pane active" aria-labelledby="tabset-10-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb52" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb52-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb52-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb52-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_individu WHERE DEPT IN ('11', '31', '34') LIMIT 10"</span>)</span>
<span id="cb52-4">)</span>
<span id="cb52-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-10-2" class="tab-pane" aria-labelledby="tabset-10-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb53" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1">duckdb.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_individu WHERE DEPT IN ('11', '31', '34')"</span>)</span></code></pre></div></div>
</div>
<div id="tabset-10-3" class="tab-pane" aria-labelledby="tabset-10-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb54" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb54-2">  con,</span>
<span id="cb54-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_individu WHERE DEPT IN ('11', '31', '34')"</span></span>
<span id="cb54-4">)</span></code></pre></div></div>
</div>
<div id="tabset-10-4" class="tab-pane" aria-labelledby="tabset-10-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb55" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1">table_individu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb55-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(DEPT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"11"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"34"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb55-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb56" data-startfrom="573" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 572;"><span id="cb56-573">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb56-574">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_individu WHERE DEPT IN ('11', '31', '34') LIMIT 10"</span>)</span>
<span id="cb56-575">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="expression">

</div>
</div>
</div>
<p>Il est Ã©galement possible de formater cette liste telle quâ€™attendue par SQL Ã  partir dâ€™une liste <code>Python</code> ou dâ€™un vecteur <code>R</code> plus classique. Pour cela, le code suivant peut servir de modÃ¨le :</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" aria-controls="tabset-11-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" aria-controls="tabset-11-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" aria-controls="tabset-11-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-11-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-4" aria-controls="tabset-11-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-11-1" class="tab-pane active" aria-labelledby="tabset-11-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb57" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb57-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb57-2">liste_regions <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"11"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"34"</span>]</span>
<span id="cb57-3">liste_regions_sql <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> liste_regions<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(item <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>item<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">'`</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">join</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb57-4">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb57-5">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT * FROM table_individu WHERE DEPT IN (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>liste_regions_sql<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">) LIMIT 10`</span>)</span>
<span id="cb57-6">)</span>
<span id="cb57-7"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-11-2" class="tab-pane" aria-labelledby="tabset-11-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1">con <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> duckdb.<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">connect</span>()</span>
<span id="cb58-2"></span>
<span id="cb58-3">con.execute(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb58-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  CREATE OR REPLACE VIEW table_individu</span></span>
<span id="cb58-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  AS SELECT * FROM read_parquet("FD_INDCVI_2020.parquet")</span></span>
<span id="cb58-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb58-7">)</span>
<span id="cb58-8"></span>
<span id="cb58-9">liste_regions <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"11"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"34"</span>]</span>
<span id="cb58-10"></span>
<span id="cb58-11">dep_slots <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", "</span>.join([<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"?"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> _ <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> liste_regions])</span>
<span id="cb58-12">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_individu WHERE DEPT IN (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">)"</span>.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">format</span>(dep_slots)</span>
<span id="cb58-13">liste_regions_sql <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", "</span>.join([<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>dep<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> dep <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> liste_regions])</span>
<span id="cb58-14">con.execute(query, liste_regions).fetchdf()</span></code></pre></div></div>
</div>
<div id="tabset-11-3" class="tab-pane" aria-labelledby="tabset-11-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1">liste_regions <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"11"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"34"</span>)</span>
<span id="cb59-2">liste_regions_sql <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql_collapse</span>(</span>
<span id="cb59-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lapply</span>(</span>
<span id="cb59-4">    liste_regions, <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(dep) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"'{`dep`}'"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con)</span>
<span id="cb59-5">    ),</span>
<span id="cb59-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", "</span></span>
<span id="cb59-7">)</span>
<span id="cb59-8">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb59-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_individu WHERE DEPT IN ({liste_regions_sql})"</span>,</span>
<span id="cb59-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb59-11">)</span>
<span id="cb59-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-11-4" class="tab-pane" aria-labelledby="tabset-11-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb60" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1">liste_regions <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"11"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"34"</span>)</span>
<span id="cb60-2">table_individu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb60-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(DEPT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> liste_regions)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb61" data-startfrom="615" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 614;"><span id="cb61-615">liste_regions <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"11"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"34"</span>]</span>
<span id="cb61-616">liste_regions_sql <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> liste_regions<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(item <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>item<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">'`</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">join</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb61-617">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb61-618">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT * FROM table_individu WHERE DEPT IN (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>liste_regions_sql<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">) LIMIT 10`</span>)</span>
<span id="cb61-619">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Pour en savoir plus sur les <em>prepared statements</em> avec DuckDB en Python, et plus gÃ©nÃ©ralement pour avoir des exemples dâ€™utilisations diffÃ©rentes, câ€™est <a href="https://duckdb.org/docs/api/python/dbapi.html">ici</a> que Ã§a se passe.</p>
<p><br></p>
<p>Les filtres sur les observations peuvent Ãªtre faits Ã  partir de critÃ¨res sur plusieurs colonnes. Par exemple, pour ne conserver que les observations de la ville de Nice oÃ¹ la date dâ€™emmÃ©nagement est postÃ©rieure Ã  2020, la requÃªte suivante peut Ãªtre utilisÃ©e :</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" aria-controls="tabset-12-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" aria-controls="tabset-12-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" aria-controls="tabset-12-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-12-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-4" aria-controls="tabset-12-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-12-1" class="tab-pane active" aria-labelledby="tabset-12-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb62" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb62-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb62-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb62-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb62-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement WHERE COMMUNE = '06088' and AEMM &gt; 2020"</span></span>
<span id="cb62-5">    )</span>
<span id="cb62-6">)</span>
<span id="cb62-7"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-12-2" class="tab-pane" aria-labelledby="tabset-12-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb63" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement WHERE COMMUNE = '06088' and AEMM &gt; 2020"</span></span>
<span id="cb63-2">duckdb.sql(query)</span></code></pre></div></div>
</div>
<div id="tabset-12-3" class="tab-pane" aria-labelledby="tabset-12-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb64" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(</span>
<span id="cb64-2">  con,</span>
<span id="cb64-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement WHERE COMMUNE = '06088' and AEMM &gt; 2020"</span></span>
<span id="cb64-4">)</span></code></pre></div></div>
</div>
<div id="tabset-12-4" class="tab-pane" aria-labelledby="tabset-12-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1">table_logement <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb65-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(COMMUNE <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"06088"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb65-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(AEMM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2020</span>)</span>
<span id="cb65-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Peut aussi s'Ã©crire en une fois :</span></span>
<span id="cb65-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># table_logement %&gt;% filter(COMMUNE == "06088", AEMM &gt; 2020)</span></span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb66" data-startfrom="669" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 668;"><span id="cb66-669">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb66-670">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb66-671">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM table_logement WHERE COMMUNE = '06088' and AEMM &gt; 2020"</span></span>
<span id="cb66-672">    )</span>
<span id="cb66-673">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-19" data-nodetype="expression">

</div>
</div>
</div>
</section>
</section>
<section id="statistiques-agrÃ©gÃ©es" class="level1">
<h1>Statistiques agrÃ©gÃ©es</h1>
<p>Le langage <code>SQL</code> permet dâ€™exÃ©cuter de maniÃ¨re trÃ¨s efficace des requÃªtes complexes afin de construire, Ã  partir de donnÃ©es fines, des statistiques agrÃ©gÃ©es.</p>
<p>Cette partie illustre dâ€™abord ceci avec deux exemples de statistiques agrÃ©gÃ©es renvoyant une unique statistique :</p>
<ul>
<li>Extraire la liste des codes arrondissements de Paris, Lyon, Marseille oÃ¹ au moins une personne a Ã©tÃ© recensÃ©e ;</li>
<li>Reproduire lâ€™exemple de <span class="citation" data-cites="mauviere-2022">MauviÃ¨re (2022)</span> permettant de calculer le nombre dâ€™habitants de Toulouse qui ont changÃ© de logement en un an ;</li>
</ul>
<p>Ensuite, des statistiques plus fines sont construites par le biais dâ€™agrÃ©gations par groupe :</p>
<ul>
<li>Calculer le nombre de personnes recensÃ©es par cohorte pour les dÃ©partements de lâ€™Aude (11), de la Haute-Garonne (31) et de lâ€™HÃ©rault (34) ;</li>
<li>Calculer le nombre de centenaires recensÃ©s par dÃ©partement.</li>
</ul>
<p>La fonction <code>DISTINCT</code> appliquÃ©e Ã  la variable <code>ARM</code> permet dâ€™extraire la liste des codes arrondissements prÃ©sents dans la base de donnÃ©es.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" aria-controls="tabset-13-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" aria-controls="tabset-13-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" aria-controls="tabset-13-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-13-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-4" aria-controls="tabset-13-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-13-1" class="tab-pane active" aria-labelledby="tabset-13-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb67-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb67-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb67-3">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb67-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT DISTINCT(ARM) FROM table_logement WHERE NOT CONTAINS(ARM, 'ZZZZZ') ORDER BY ARM"</span></span>
<span id="cb67-5">    )</span>
<span id="cb67-6">)</span>
<span id="cb67-7"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-13-2" class="tab-pane" aria-labelledby="tabset-13-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb68" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT DISTINCT(ARM) "</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+\</span></span>
<span id="cb68-2">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FROM table_logement "</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+\</span></span>
<span id="cb68-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WHERE NOT CONTAINS(ARM, 'ZZZZZ') "</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+\</span></span>
<span id="cb68-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ORDER BY ARM"</span></span>
<span id="cb68-5">duckdb.sql(query)</span></code></pre></div></div>
</div>
<div id="tabset-13-3" class="tab-pane" aria-labelledby="tabset-13-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb69" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb69-2">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT DISTINCT(ARM) "</span>,</span>
<span id="cb69-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FROM table_logement "</span>,</span>
<span id="cb69-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WHERE NOT CONTAINS(ARM, 'ZZZZZ') "</span>,</span>
<span id="cb69-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ORDER BY ARM"</span>,</span>
<span id="cb69-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb69-7">)</span>
<span id="cb69-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-13-4" class="tab-pane" aria-labelledby="tabset-13-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb70" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1">table_logement <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb70-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(ARM, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZZZZZ"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">negate =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb70-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ARM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">distinct</span>(ARM)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb70-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(ARM)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb71" data-startfrom="703" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 702;"><span id="cb71-703">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb71-704">    db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb71-705">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT DISTINCT(ARM) FROM table_logement WHERE NOT CONTAINS(ARM, 'ZZZZZ') ORDER BY ARM"</span></span>
<span id="cb71-706">    )</span>
<span id="cb71-707">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="expression">

</div>
</div>
</div>
<p>Il est possible dâ€™extraire des statistiques beaucoup plus raffinÃ©es par le biais dâ€™une requÃªte SQL plus complexe. Par exemple pour calculer le nombre dâ€™habitants de Toulouse qui ont changÃ© de logement en un an:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" aria-controls="tabset-14-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" aria-controls="tabset-14-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-14-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-3" aria-controls="tabset-14-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-14-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-4" aria-controls="tabset-14-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-14-1" class="tab-pane active" aria-labelledby="tabset-14-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb72" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb72-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb72-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb72-3">  db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb72-4">    <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb72-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT CAST(</span></span>
<span id="cb72-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">      SUM(IPONDL*CAST(INPER AS INT)) AS INT</span></span>
<span id="cb72-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    ) AS habitants_toulouse_demenagement</span></span>
<span id="cb72-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM table_logement</span></span>
<span id="cb72-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    WHERE COMMUNE == '31555' AND IRANM NOT IN ('1', 'Z') AND INPER != 'Y'</span></span>
<span id="cb72-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    `</span></span>
<span id="cb72-11">  )</span>
<span id="cb72-12">)</span>
<span id="cb72-13"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-14-2" class="tab-pane" aria-labelledby="tabset-14-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb73" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb73-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb73-3"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT CAST(</span></span>
<span id="cb73-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  SUM(IPONDL*CAST(INPER AS INT)) AS INT</span></span>
<span id="cb73-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">) AS habitants_toulouse_demenagement</span></span>
<span id="cb73-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_logement</span></span>
<span id="cb73-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">WHERE COMMUNE == '31555' AND IRANM NOT IN ('1', 'Z') AND INPER != 'Y'</span></span>
<span id="cb73-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb73-9">duckdb.sql(query).df()</span></code></pre></div></div>
</div>
<div id="tabset-14-3" class="tab-pane" aria-labelledby="tabset-14-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb74" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(</span>
<span id="cb74-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT CAST(SUM(IPONDL*CAST(INPER AS INT)) AS INT) "</span>,</span>
<span id="cb74-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AS habitants_toulouse_demenagement"</span>,</span>
<span id="cb74-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FROM table_logement"</span>,</span>
<span id="cb74-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WHERE COMMUNE == '31555' AND IRANM NOT IN ('1', 'Z') AND INPER != 'Y'"</span>,</span>
<span id="cb74-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>)</span>
<span id="cb74-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-14-4" class="tab-pane" aria-labelledby="tabset-14-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb75" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1">table_logement <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb75-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(COMMUNE <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'31555'</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>IRANM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'1'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Z'</span>), INPER <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb75-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">INPER =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(INPER)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb75-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">habitants_toulouse_demenagement =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(IPONDL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> INPER)))</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb76" data-startfrom="758" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 757;"><span id="cb76-758">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb76-759">  db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb76-760">    <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb76-761"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT CAST(</span></span>
<span id="cb76-762"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">      SUM(IPONDL*CAST(INPER AS INT)) AS INT</span></span>
<span id="cb76-763"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    ) AS habitants_toulouse_demenagement</span></span>
<span id="cb76-764"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM table_logement</span></span>
<span id="cb76-765"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    WHERE COMMUNE == '31555' AND IRANM NOT IN ('1', 'Z') AND INPER != 'Y'</span></span>
<span id="cb76-766"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    `</span></span>
<span id="cb76-767">  )</span>
<span id="cb76-768">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-21" data-nodetype="expression">

</div>
</div>
</div>
<p>Pour reprÃ©senter la pyramide des Ã¢ges recensÃ©s dans ces trois dÃ©partements, il est possible de procÃ©der en deux Ã©tapes</p>
<ul>
<li>Effectuer une agrÃ©gation par le biais de <code>DuckDB</code> et transformer ces rÃ©sultats sous forme de <em>dataframe</em></li>
<li>Utiliser ce <em>dataframe</em> avec un <em>package</em> dâ€™analyse graphique pour reprÃ©senter la pyramide des Ã¢ges.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour illustrer le parallÃ©lisme possible entre les codes <code>R</code> et <code>Python</code>, lâ€™exemple de reprÃ©sentation graphique ci-dessus sâ€™appuie sur le <em>package</em> <code>plotnine</code> - dont la syntaxe reproduit celle du <em>package</em> <code>R</code> <code>ggplot2</code>, plutÃ´t que sur <code>matplotlib</code> ou <code>seaborn</code>.</p>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" aria-controls="tabset-15-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" aria-controls="tabset-15-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-15-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-3" aria-controls="tabset-15-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-15-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-4" aria-controls="tabset-15-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-15-1" class="tab-pane active" aria-labelledby="tabset-15-1-tab">
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>Version de <code>Plot</code> embarquÃ©e dans <code>Quarto</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Pour les versions de <code>Quarto</code> antÃ©rieures Ã  la v1.4, la version embarquÃ©e par dÃ©faut de la librairie <code>Plot</code> ne propose pas dâ€™interactivitÃ© par le biais des <a href="https://observablehq.com/plot/marks/tip"><em>tooltips</em></a>.</p>
<p>Pour utiliser une version compatible, par exemple la <code>0.6.11</code>, faire:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb77" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb77-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb77-2">Plot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">require</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6.11/dist/plot.umd.min.js"</span>)</span>
<span id="cb77-3"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
</div>
</div>
<details>
<summary>
Code pour structurer les donnÃ©es pour la reprÃ©sentation graphique.
</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb78" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb78-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb78-2">pyramide_ages <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb78-3"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb78-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT</span></span>
<span id="cb78-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  CAST(SUM(IPONDI) AS INT) AS individus,</span></span>
<span id="cb78-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  CAST(AGED AS INT) AS AGED,</span></span>
<span id="cb78-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  DEPT AS departement</span></span>
<span id="cb78-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_individu</span></span>
<span id="cb78-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  WHERE DEPT IN ('11', '31', '34')</span></span>
<span id="cb78-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY AGED, DEPT ORDER BY DEPT, AGED</span></span>
<span id="cb78-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb78-12">)</span>
<span id="cb78-13">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(pyramide_ages)</span>
<span id="cb78-14"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</details>
<details>
<summary>
Code pour produire la reprÃ©sentation graphique.
</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb79" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb79-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb79-2">Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>({</span>
<span id="cb79-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">null</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">percent</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="cb79-6">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">barY</span>(</span>
<span id="cb79-7">        pyramide_ages<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-8">        {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AGED"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">individus</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fy</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'departement'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"departement"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">tip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span>}</span>
<span id="cb79-9">        )<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-10">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ruleX</span>([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>})<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-11">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tickY</span>(</span>
<span id="cb79-12">        pyramide_ages<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-13">        {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AGED"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">individus</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fy</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'departement'</span>}</span>
<span id="cb79-14">        )<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-15">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ruleY</span>([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>])<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-16">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axisY</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Population (en milliers)"</span>})<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb79-17">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axisX</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">ticks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ticks</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ã‚ge"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fontSize</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>})</span>
<span id="cb79-18">  ]</span>
<span id="cb79-19">})</span>
<span id="cb79-20"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</details>
</div>
<div id="tabset-15-2" class="tab-pane" aria-labelledby="tabset-15-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb80" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb80-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> plotnine <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb80-3"></span>
<span id="cb80-4">pyramide_ages <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> duckdb.sql(</span>
<span id="cb80-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb80-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT</span></span>
<span id="cb80-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  SUM(IPONDI) AS individus,</span></span>
<span id="cb80-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  CAST(AGED AS int) AS AGED,</span></span>
<span id="cb80-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  DEPT AS departement</span></span>
<span id="cb80-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_individu</span></span>
<span id="cb80-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  WHERE DEPT IN ('11', '31', '34')</span></span>
<span id="cb80-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY AGED, DEPT ORDER BY DEPT, AGED</span></span>
<span id="cb80-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb80-14">).to_df()</span>
<span id="cb80-15"></span>
<span id="cb80-16">(</span>
<span id="cb80-17">    ggplot(pyramide_ages, aes(x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AGED"</span>, y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"individus"</span>)) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb80-18">    geom_bar(</span>
<span id="cb80-19">      aes(fill <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"departement"</span>),</span>
<span id="cb80-20">      stat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, show_legend<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb80-21">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb80-22">    geom_vline(xintercept <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>, color <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>, linetype <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb80-23">    facet_wrap(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'departement'</span>, scales <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>, nrow <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb80-24">    theme_minimal() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb80-25">    labs(y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Individus recensÃ©s"</span>, x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ã‚ge"</span>)</span>
<span id="cb80-26">)</span></code></pre></div></div>
</div>
<div id="tabset-15-3" class="tab-pane" aria-labelledby="tabset-15-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb81" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(labeling)</span>
<span id="cb81-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb81-3"></span>
<span id="cb81-4">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(</span>
<span id="cb81-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT SUM(IPONDI) AS individus, AGED, DEPT AS departement"</span>,</span>
<span id="cb81-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FROM table_individu"</span>,</span>
<span id="cb81-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WHERE DEPT IN ('11', '31', '34')"</span>,</span>
<span id="cb81-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GROUP BY AGED, DEPT"</span>,</span>
<span id="cb81-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ORDER BY DEPT, AGED"</span>,</span>
<span id="cb81-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span></span>
<span id="cb81-11">)</span>
<span id="cb81-12">pyramide_ages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span>
<span id="cb81-13"></span>
<span id="cb81-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pyramide_ages, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> AGED, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> individus)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb81-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> departement), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb81-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb81-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>departement, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb81-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb81-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Individus recensÃ©s"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ã‚ge"</span>)</span></code></pre></div></div>
</div>
<div id="tabset-15-4" class="tab-pane" aria-labelledby="tabset-15-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb82" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(labeling)</span>
<span id="cb82-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb82-3"></span>
<span id="cb82-4">pyramide_ages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> table_individu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb82-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(DEPT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'11'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'31'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'34'</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb82-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(AGED, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">departement =</span> DEPT) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb82-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">individus =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(IPONDI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.groups =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"drop"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb82-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(departement, AGED) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb82-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">collect</span>()</span>
<span id="cb82-10"></span>
<span id="cb82-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pyramide_ages, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> AGED, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> individus)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb82-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> departement), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb82-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb82-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>departement, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb82-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb82-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Individus recensÃ©s"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ã‚ge"</span>)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb83" data-startfrom="776" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 775;"><span id="cb83-776">pyramide_ages <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb83-777"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb83-778"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT</span></span>
<span id="cb83-779"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  CAST(SUM(IPONDI) AS INT) AS individus,</span></span>
<span id="cb83-780"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  CAST(AGED AS INT) AS AGED,</span></span>
<span id="cb83-781"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  DEPT AS departement</span></span>
<span id="cb83-782"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_individu</span></span>
<span id="cb83-783"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  WHERE DEPT IN ('11', '31', '34')</span></span>
<span id="cb83-784"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY AGED, DEPT ORDER BY DEPT, AGED</span></span>
<span id="cb83-785"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb83-786">)</span>
<span id="cb83-787">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(pyramide_ages)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-22-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-22-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb84" data-startfrom="825" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 824;"><span id="cb84-825">Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>({</span>
<span id="cb84-826">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">null</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-827">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">percent</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span>}<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-828">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">marks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="cb84-829">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">barY</span>(</span>
<span id="cb84-830">        pyramide_ages<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-831">        {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AGED"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">individus</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fy</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'departement'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fill</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"departement"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">tip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span>}</span>
<span id="cb84-832">        )<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-833">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ruleX</span>([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">stroke</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>})<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-834">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tickY</span>(</span>
<span id="cb84-835">        pyramide_ages<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-836">        {<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AGED"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">=&gt;</span> d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">individus</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fy</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'departement'</span>}</span>
<span id="cb84-837">        )<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-838">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ruleY</span>([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>])<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-839">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axisY</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Population (en milliers)"</span>})<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb84-840">    Plot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axisX</span>({<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">ticks</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> d3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ticks</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ã‚ge"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fontSize</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>})</span>
<span id="cb84-841">  ]</span>
<span id="cb84-842">})</span></code></pre></div></div>
<div id="fig-ojs-cell-23" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ojs-cell-23-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="ojs-cell-23" data-nodetype="expression">

</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ojs-cell-23-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Un exemple de reprÃ©sentation graphique produite Ã  partir du recensement de la population
</figcaption>
</figure>
</div>
</div>
<p>Si on sâ€™intÃ©resse plus spÃ©cifiquement au nombre de centenaires recensÃ©s par dÃ©partement et quâ€™on dÃ©sire classer ces derniers par ordre dÃ©croissant.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-16-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-1" aria-controls="tabset-16-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-16-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-2" aria-controls="tabset-16-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-16-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-3" aria-controls="tabset-16-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-16-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-4" aria-controls="tabset-16-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-16-1" class="tab-pane active" aria-labelledby="tabset-16-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb85" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb85-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb85-2">db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb85-3"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb85-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT</span></span>
<span id="cb85-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  SUM(IPONDI) AS individus_recenses,</span></span>
<span id="cb85-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  DEPT</span></span>
<span id="cb85-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_individu</span></span>
<span id="cb85-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  WHERE AGED &gt;= 100</span></span>
<span id="cb85-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY DEPT</span></span>
<span id="cb85-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">ORDER BY individus_recenses DESC</span></span>
<span id="cb85-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb85-12">)</span>
<span id="cb85-13"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-16-2" class="tab-pane" aria-labelledby="tabset-16-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb86" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1">duckdb.sql(</span>
<span id="cb86-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb86-3"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT</span></span>
<span id="cb86-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  SUM(IPONDI) AS individus_recenses,</span></span>
<span id="cb86-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  DEPT</span></span>
<span id="cb86-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_individu</span></span>
<span id="cb86-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  WHERE AGED &gt;= 100</span></span>
<span id="cb86-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY DEPT</span></span>
<span id="cb86-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">ORDER BY individus_recenses DESC</span></span>
<span id="cb86-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb86-11">)</span></code></pre></div></div>
</div>
<div id="tabset-16-3" class="tab-pane" aria-labelledby="tabset-16-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb87" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(</span>
<span id="cb87-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT SUM(IPONDI) AS individus_recenses, DEPT"</span>,</span>
<span id="cb87-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FROM table_individu"</span>,</span>
<span id="cb87-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WHERE AGED &gt;= 100"</span>,</span>
<span id="cb87-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GROUP BY DEPT"</span>,</span>
<span id="cb87-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ORDER BY individus_recenses DESC"</span>,</span>
<span id="cb87-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span></span>
<span id="cb87-8">)</span>
<span id="cb87-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-16-4" class="tab-pane" aria-labelledby="tabset-16-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb88" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1">table_individu <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb88-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(AGED <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb88-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(DEPT) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb88-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">individus_recenses =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(IPONDI)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.groups =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"drop"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb88-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">desc</span>(individus_recenses))</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb89" data-startfrom="923" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 922;"><span id="cb89-923">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb89-924">  db<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb89-925">  <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb89-926"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  SELECT</span></span>
<span id="cb89-927"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CAST(SUM(IPONDI) AS INT) AS individus_recenses,</span></span>
<span id="cb89-928"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    DEPT</span></span>
<span id="cb89-929"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  FROM table_individu</span></span>
<span id="cb89-930"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    WHERE AGED &gt;= 100</span></span>
<span id="cb89-931"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  GROUP BY DEPT</span></span>
<span id="cb89-932"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  ORDER BY individus_recenses DESC</span></span>
<span id="cb89-933"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  `</span></span>
<span id="cb89-934">  )</span>
<span id="cb89-935">)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-24" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="associer-Ã -dautres-sources-de-donnÃ©es" class="level1">
<h1>Associer Ã  dâ€™autres sources de donnÃ©es</h1>
<p>Le <a href="https://www.insee.fr/fr/information/6800675"><em>code officiel gÃ©ographique</em> (COG)</a> est utile pour illuster lâ€™ajout dâ€™information annexe. Le code commune va Ãªtre utilisÃ© pour associer les deux bases de donnÃ©es. Cette variable porte des noms diffÃ©rents dans les deux bases, ce qui nâ€™est pas un problÃ¨me.</p>
<p>Il est proposÃ©, ci-dessous, de tÃ©lÃ©charger les donnÃ©es de maniÃ¨re reproductible, via une fonction adaptÃ©e (ici Ã  travers le <em>package</em> <code>requests</code> pour <code>Python</code> ou via <code>download.file</code> en <code>R</code>). Bien que <code>DuckDB</code> permette lâ€™import direct depuis un <em>url</em>, ceci implique lâ€™installation en amont de lâ€™<a href="https://duckdb.org/docs/extensions/httpfs.html">extension <code>httpfs</code></a>.</p>
<p>Lâ€™association de sources de donnÃ©es passe gÃ©nÃ©ralement par un <code>JOIN</code>. Pour illustrer cette clause, il est possible dâ€™associer les agrÃ©gats de la table logement Ã  un niveau communal avec celles du COG grÃ¢ce au code commune.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-17-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-1" aria-controls="tabset-17-1" aria-selected="true" href=""><code>Observable</code> via <code>Quarto</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-17-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-2" aria-controls="tabset-17-2" aria-selected="false" href=""><code>Python</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-17-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-3" aria-controls="tabset-17-3" aria-selected="false" href=""><code>R</code></a></li><li class="nav-item"><a class="nav-link" id="tabset-17-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-4" aria-controls="tabset-17-4" aria-selected="false" href=""><code>R (dbplyr)</code></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-17-1" class="tab-pane active" aria-labelledby="tabset-17-1-tab">
<p>La lecture directe depuis <code>Observable</code> du fichier par le biais du protocole <code>https</code> vers le site de lâ€™Insee ne fonctionnant pas, il est recommandÃ© de tÃ©lÃ©charger en amont le fichier par lâ€™intermÃ©diaire de <code>Python</code> ou de <code>R</code>.</p>
<details>
<summary>
Code <code>Python</code> pour rÃ©cupÃ©rer le code officiel gÃ©ographique
</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb90" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests</span>
<span id="cb90-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb90-3"></span>
<span id="cb90-4">url_cog <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.insee.fr/fr/statistiques/fichier/6800675/v_commune_2023.csv"</span></span>
<span id="cb90-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> os.path.exists(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">is</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>:</span>
<span id="cb90-6">  response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> requests.get(url_cog)</span>
<span id="cb90-7">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">open</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>, mode<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wb"</span>) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">file</span>:</span>
<span id="cb90-8">      <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">file</span>.write(response.content)</span></code></pre></div></div>
</details>
<details>
<summary>
Code <code>R</code> pour rÃ©cupÃ©rer le code officiel gÃ©ographique
</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb91" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.insee.fr/fr/statistiques/fichier/6800675/v_commune_2023.csv"</span></span>
<span id="cb91-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">download.file</span>(url, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>)</span></code></pre></div></div>
</details>
<p>AprÃ¨s avoir rÃ©cupÃ©rÃ©es les donnÃ©es, ce code peut permettre de crÃ©er une base de donnÃ©es intÃ©grant le code officiel gÃ©ographique:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb92" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb92-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb92-2">db2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb92-3">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> db <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb92-4">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb92-5">    <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb92-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW cog2023 AS</span></span>
<span id="cb92-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT * FROM read_csv_auto('cog.csv', header = true)</span></span>
<span id="cb92-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    `</span></span>
<span id="cb92-9">    )</span>
<span id="cb92-10"></span>
<span id="cb92-11">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb92-12"></span>
<span id="cb92-13">}</span>
<span id="cb92-14"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb93" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb93-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{ojs}</span></span>
<span id="cb93-2">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb93-3">  db2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb93-4">    <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb93-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT cog2023.NCCENR, CAST(SUM(table_logement.IPONDL) AS INT) AS recenses</span></span>
<span id="cb93-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM table_logement</span></span>
<span id="cb93-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    LEFT OUTER JOIN cog2023 ON table_logement.COMMUNE = cog2023.COM</span></span>
<span id="cb93-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    GROUP BY cog2023.NCCENR</span></span>
<span id="cb93-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    ORDER BY recenses;</span></span>
<span id="cb93-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    `</span></span>
<span id="cb93-11">  )  </span>
<span id="cb93-12">)</span>
<span id="cb93-13"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div></div>
</div>
<div id="tabset-17-2" class="tab-pane" aria-labelledby="tabset-17-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb94" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests</span>
<span id="cb94-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb94-3"></span>
<span id="cb94-4">url_cog <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.insee.fr/fr/statistiques/fichier/6800675/v_commune_2023.csv"</span></span>
<span id="cb94-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> os.path.exists(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">is</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>:</span>
<span id="cb94-6">  response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> requests.get(url_cog)</span>
<span id="cb94-7">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">open</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>, mode<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wb"</span>) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">file</span>:</span>
<span id="cb94-8">      <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">file</span>.write(response.content)</span></code></pre></div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb95" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1">duckdb.sql(</span>
<span id="cb95-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CREATE OR REPLACE VIEW cog2023 AS '</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+\</span></span>
<span id="cb95-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SELECT * FROM read_csv_auto("cog.csv", header=true)'</span></span>
<span id="cb95-4">)</span></code></pre></div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb96" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1">duckdb.sql(</span>
<span id="cb96-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb96-3"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">SELECT cog2023.NCCENR, CAST(SUM(table_logement.IPONDL) AS INT) AS recenses</span></span>
<span id="cb96-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">FROM table_logement</span></span>
<span id="cb96-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">LEFT OUTER JOIN cog2023 ON table_logement.COMMUNE = cog2023.COM</span></span>
<span id="cb96-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">GROUP BY cog2023.NCCENR</span></span>
<span id="cb96-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">ORDER BY recenses;</span></span>
<span id="cb96-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb96-9">)</span></code></pre></div></div>
</div>
<div id="tabset-17-3" class="tab-pane" aria-labelledby="tabset-17-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb97" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.insee.fr/fr/statistiques/fichier/6800675/v_commune_2023.csv"</span></span>
<span id="cb97-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">download.file</span>(url, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>)</span>
<span id="cb97-3"></span>
<span id="cb97-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbExecute</span>(</span>
<span id="cb97-5">  con,</span>
<span id="cb97-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue_sql</span>(</span>
<span id="cb97-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CREATE OR REPLACE VIEW cog2023 AS "</span>,</span>
<span id="cb97-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM read_csv_auto("</span>cog.csv<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", header=true)"</span>,</span>
<span id="cb97-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.con=</span>con</span>
<span id="cb97-10">  )</span>
<span id="cb97-11">)</span>
<span id="cb97-12"></span>
<span id="cb97-13">query <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(</span>
<span id="cb97-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT cog2023.NCCENR, CAST(SUM(table_logement.IPONDL) AS INT) AS recenses"</span>,</span>
<span id="cb97-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FROM table_logement"</span>,</span>
<span id="cb97-16">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LEFT OUTER JOIN cog2023 ON table_logement.COMMUNE = cog2023.COM"</span>,</span>
<span id="cb97-17">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GROUP BY cog2023.NCCENR ORDER BY recenses"</span>,</span>
<span id="cb97-18">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span></span>
<span id="cb97-19">)</span>
<span id="cb97-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dbGetQuery</span>(con, query)</span></code></pre></div></div>
</div>
<div id="tabset-17-4" class="tab-pane" aria-labelledby="tabset-17-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb98" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.insee.fr/fr/statistiques/fichier/6800675/v_commune_2023.csv"</span></span>
<span id="cb98-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">download.file</span>(url, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cog.csv"</span>)</span></code></pre></div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb99" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1">cog <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tbl</span>(con, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'read_csv_auto("{path_data}/cog.csv", header = true)'</span>))</span></code></pre></div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb100" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1">table_logement <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb100-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(cog, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COMMUNE"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COM"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb100-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(NCCENR) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb100-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">recenses =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(IPONDL)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.groups =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"drop"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb100-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(recenses)</span></code></pre></div></div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb101" data-startfrom="944" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 943;"><span id="cb101-944">proxy <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://corsproxy.io/?"</span></span>
<span id="cb101-945">url_cog <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.insee.fr/fr/statistiques/fichier/6800675/v_commune_2023.csv"</span></span>
<span id="cb101-946">db2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb101-947">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">const</span> configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> db <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb101-948">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">await</span> configuredClient<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb101-949">    <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb101-950"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    CREATE OR REPLACE VIEW cog2023 AS</span></span>
<span id="cb101-951"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT * FROM read_csv_auto('</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">${</span>proxy <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> url_cog<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">', header = true)</span></span>
<span id="cb101-952"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    `</span></span>
<span id="cb101-953">    )</span>
<span id="cb101-954"></span>
<span id="cb101-955">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> configuredClient <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb101-956"></span>
<span id="cb101-957">}</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>Les donnÃ©es du code officiel gÃ©ographique prÃ©sentent lâ€™aspect suivant :</p>
<div class="cell">
<details class="code-fold">
<summary>RequÃªte Observable pour explorer les premiÃ¨res lignes</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb102" data-startfrom="956" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 955;"><span id="cb102-956">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb102-957">  db2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`SELECT * FROM cog2023 LIMIT 10`</span>)</span>
<span id="cb102-958">)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-26" data-nodetype="expression">

</div>
</div>
</div>
<p>Voici par exemple le rÃ©sultat dâ€™une fusion avec une agrÃ©gation produite Ã  la volÃ©e sur la table logement :</p>
<div class="cell">
<details class="code-fold">
<summary>RequÃªte pour explorer les premiÃ¨res lignes</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb103" data-startfrom="1" data-source-offset="0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb103-1">Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(</span>
<span id="cb103-2">  db2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">query</span>(</span>
<span id="cb103-3">    <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span></span>
<span id="cb103-4"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    SELECT cog2023.NCCENR, CAST(SUM(table_logement.IPONDL) AS INT) AS recenses</span></span>
<span id="cb103-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    FROM table_logement</span></span>
<span id="cb103-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    LEFT OUTER JOIN cog2023 ON table_logement.COMMUNE = cog2023.COM</span></span>
<span id="cb103-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    GROUP BY cog2023.NCCENR</span></span>
<span id="cb103-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    ORDER BY recenses;</span></span>
<span id="cb103-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    `</span></span>
<span id="cb103-10">  )  </span>
<span id="cb103-11">)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-27" data-nodetype="expression">

</div>
</div>
</div>
<section id="rÃ©fÃ©rences" class="level2">




</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">RÃ©fÃ©rences</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-dondon-lamarche-2023" class="csl-entry">
Dondon, Alexis, and Pierre Lamarche. 2023. <span>â€œQuels Formats Pour Quelles DonnÃ©es?â€</span> <em>Courrier Des Statistiques</em>, no. 9.
</div>
<div id="ref-mauviere-2022" class="csl-entry">
MauviÃ¨re, Ã‰ric. 2022. <span>â€œParquet Devrait Remplacer Le Format CSV.â€</span> Post de blog [ConsultÃ© le 12 octobre 2023]. 2022. <a href="https://www.icem7.fr/cartographie/parquet-devrait-remplacer-le-format-csv/">https://www.icem7.fr/cartographie/parquet-devrait-remplacer-le-format-csv/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Des propositions dâ€™enrichissements de cette documentation Ã  partir dâ€™implÃ©mentations alternatives, par exemple sâ€™appuyant sur <code>Arrow</code> et <code>dbplyr</code> ou sur <code>Polars</code> sont bienvenues sur le <a href="https://github.com/InseeFrLab/exemples-recensement-parquet">Github InseeFrLab/exemples-recensement-parquet</a>.â†©ï¸</p></li>
</ol>
</section></div> ]]></description>
  <category>Python</category>
  <category>R</category>
  <category>Parquet</category>
  <guid>https://ssphub.netlify.app/post/parquetRP/</guid>
  <pubDate>Mon, 23 Oct 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/post/parquetRP/ducks.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>CoÃ»ts dâ€™entrÃ©e trop Ã©levÃ©s pour lâ€™entraÃ®nement des modÃ¨les de langage qui sâ€™orientent vers lâ€™opensource ; LlaMaA et Falcon les nouveaux LLM</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_15/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_15/learning.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>Câ€™est la rentrÃ©e ! Comme les Ã©lÃ¨ves qui reviennent sur les bancs des Ã©coles, les modÃ¨les de <em>machine learning</em> ont pÃ©riodiquement besoin de mettre Ã  jour leurs connaissances.</p>
<p>Cette <em>newsletter</em> sera consacrÃ©e aux enjeux du rÃ©-entrainement et de la spÃ©cialisation de modÃ¨les, une question dâ€™actualitÃ© suite Ã  la publication estivale de plusieurs grands modÃ¨les de langage (LLM) <em>open source</em>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>La premiÃ¨re partie de cette <em>newsletter</em> se concentrera sur les enjeux principaux. La suite sera plus technique et Ã©voquera plus en dÃ©tail certains modÃ¨les et les mÃ©thodes de rÃ©-entrainement.</p>
</div>
</div>
<section id="enjeux-associÃ©s-au-rÃ©entrainement-des-modÃ¨les-de-langage" class="level1">
<h1>Enjeux associÃ©s au rÃ©entrainement des modÃ¨les de langage</h1>
<section id="un-entraÃ®nement-ex-nihilo-hors-de-portÃ©e" class="level2">
<h2 class="anchored" data-anchor-id="un-entraÃ®nement-ex-nihilo-hors-de-portÃ©e">Un entraÃ®nement <em>ex nihilo</em> hors de portÃ©e</h2>
<p>Si de nombreuses tÃ¢ches de modÃ©lisation ne nÃ©cessitent pas des modÃ¨les trÃ¨s sophistiquÃ©s, deux domaines de recherche - Ã  savoir le traitement naturel du langage (NLP) et lâ€™analyse dâ€™image - ont connu ces derniÃ¨res annÃ©es des innovations importantes grÃ¢ce Ã  des <a href="https://www.cnil.fr/fr/definition/reseau-de-neurones-artificiels-artificial-neural-network">rÃ©seaux de neurones</a> Ã  lâ€™architecture de plus en plus complexe.</p>
<p>Pour Ãªtre en mesure dâ€™entraÃ®ner un modÃ¨le complexe, du type <a href="https://fr.wikipedia.org/wiki/Grand_mod%C3%A8le_de_langage">grand modÃ¨le de langage (LLM)</a>, il faut, <em>a minima</em>, disposer des intrants suivants:</p>
<ul>
<li>Un <strong>immense volume de donnÃ©es dÃ©structurÃ©es</strong>. La constitution de ces corpus implique le moissonnage en masse de ressources en ligne, ce qui nâ€™est pas sans poser des <a href="https://www.deeplearning.ai/the-batch/time-to-update-copyright-for-generative-ai/">enjeux juridiques de propriÃ©tÃ© intellectuelle</a> qui ne sont pas encore rÃ©solus. La rÃ©cupÃ©ration de ces donnÃ©es nÃ©cessite une bonne connaissance de la structure et la nature des donnÃ©es nÃ©cessaires pour entrainer un modÃ¨le ;</li>
<li>Des <strong>ressources informatiques hors du commun</strong>. Les investissements importants pour les cartes graphiques (GPU), une <a href="https://www.nytimes.com/2023/08/16/technology/ai-gpu-chips-shortage.html">matiÃ¨re premiÃ¨re en pÃ©nurie</a> et les coÃ»ts courants associÃ©s (Ã©lectricitÃ©, maintenanceâ€¦) font quâ€™une poignÃ©e dâ€™acteurs du numÃ©rique disposent des moyens financiers adÃ©quats pour entraÃ®ner un modÃ¨le <em>ex nihilo</em>. Cet article de <a href="https://www.forbes.com/sites/craigsmith/2023/09/08/what-large-models-cost-you--there-is-no-free-ai-lunch/">Forbes</a> Ã©voque des montants de lâ€™ordre de plusieurs dizaines voire centaines de millions de dollars.</li>
<li>Des <strong>experts</strong> aux compÃ©tences Ã  lâ€™intersection entre la recherche en mathÃ©matique et informatique ainsi que des spÃ©cialistes en <em>data engineering</em> actuellement en pÃ©nurie sur le marchÃ© du travail.</li>
</ul>
<p>La combinaison de ces facteurs rend difficile, si ce nâ€™est impossible, lâ€™entrainement <em>ex nihilo</em> de tels modÃ¨les par la majoritÃ© des acteurs de la donnÃ©e. Seule une poignÃ©e de centres de recherche diposent des ressources permettant dâ€™entraÃ®ner <em>ex nihilo</em> ce type de modÃ¨les.</p>
</section>
<section id="la-rÃ©utilisation-en-pratique" class="level2">
<h2 class="anchored" data-anchor-id="la-rÃ©utilisation-en-pratique">La rÃ©utilisation en pratique</h2>
<p>NÃ©anmoins, les besoins dâ€™utilisation de ces modÃ¨les dÃ©passent le cercle des acteurs en mesure de les entraÃ®ner. En effet, les grands modÃ¨les de langage sont gÃ©nÃ©ralement entraÃ®nÃ©s sur des corpus gÃ©nÃ©riques de langage naturel principalement issus dâ€™internet (Table&nbsp;1). Cela les rend capables de comprendre les interactions avec des utilisateurs, notamment leurs instructions (<em>prompt</em>) et dâ€™interagir avec eux de maniÃ¨re assez naturelle.</p>
<p>NÃ©anmoins, pour des tÃ¢ches trÃ¨s spÃ©cialisÃ©es ou alors face Ã  des corpus particuliers, ces modÃ¨les gÃ©nÃ©riques peuvent nÃ©cessiter dâ€™Ãªtre spÃ©cialisÃ©s pour obtenir de meilleures performances. Plusieurs types de techniques, de <a href="https://www.deeplearning.ai/the-batch/tips-for-taking-advantage-of-open-large-language-models/">complexitÃ© graduelle</a>, ont ainsi Ã©mergÃ© pour Ãªtre en mesure de rÃ©utiliser et amÃ©liorer un modÃ¨le prÃ©-entraÃ®nÃ©.</p>
<p>Un frein Ã  la rÃ©utilisation massive de modÃ¨les prÃ©-entraÃ®nÃ©s est la nature propriÃ©taire de certains modÃ¨les, dont les conditions de rÃ©utilisation peuvent Ãªtre limitantes. Pour cette raison, lâ€™Ã©mergence de modÃ¨les <em>open source</em>, dont la structure est plus transparente et dont les conditions de rÃ©utilisation sur des infrastructures internes sont moins restrictives, est devenu ces derniers mois un enjeu important dans lâ€™Ã©cosystÃ¨me de la donnÃ©e.</p>
<p>Les discussions sur lâ€™ouverture des modÃ¨les sâ€™inscrivent dans le contexte dâ€™un affrontement important entre deux visions du modÃ¨le Ã©conomique du secteur numÃ©rique : si le co-crÃ©ateur dâ€™<code>OpenAI</code> a pu affirmer, pour justifier lâ€™absence de transparence scientifique sur les modÃ¨les dâ€™<code>OpenAI</code> <a href="https://www.theverge.com/2023/3/15/23640180/openai-gpt-4-launch-closed-research-ilya-sutskever-interview">â€œ<em>[on openly sharing research,] we were wrong</em>â€</a>, un <a href="https://www.theverge.com/2023/7/10/23790132/google-memo-moat-ai-leak-demis-hassabis">mÃ©mo interne de Google</a> dÃ©fendait quant Ã  lui lâ€™idÃ©e que les modÃ¨les <em>open source</em> sont amenÃ©s Ã  prendre le dessus, car ils peuvent bÃ©nÃ©ficier Ã  plus grande Ã©chelle du travail dâ€™experts et de retours dâ€™utilisateurs.</p>
<p>La publication cet Ã©tÃ© de deux modÃ¨les <em>open source</em> (<a href="https://ai.meta.com/llama/"><code>LLaMA-2</code></a> par Meta et <a href="https://falconllm.tii.ae/"><code>Falcon</code></a> par lâ€™Institut de lâ€™innovation technologique dâ€™Abu Dhabi) ouvre de nouvelles perspectives pour une rÃ©utilisation de modÃ¨les dans une infrastructure interne, Ã  condition de disposer des ressources computationnelles suffisantes et dâ€™une stratÃ©gie adaptÃ©e de rÃ©-apprentissage.</p>
<p>Pour aller plus loin sur ce sujet, la suite de cette <em>newsletter</em> Ã©voque des dÃ©tails plus techniques. La <em>masterclass</em> sur le sujet du <em>fine-tuning</em> que nous organisons avec <code>datascientest</code> (plus dâ€™informations ğŸ‘‡ï¸) permettra Ã©galement dâ€™approfondir cette question.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>DÃ©rouler pour en savoir plus sur le corpus dâ€™entraÃ®nement de <code>Falcon</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="tbl-corpus-falcon" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-corpus-falcon-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: <em><a href="https://huggingface.co/tiiuae/falcon-180B">Corpus dâ€™entraÃ®nement de Falcon 180B</a></em>
</figcaption>
<div aria-describedby="tbl-corpus-falcon-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 47%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th>Source de donnÃ©es</th>
<th>Proportion dans le corpus</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>RefinedWeb-English</code> (<em>webscraping</em>)</td>
<td>75%</td>
</tr>
<tr class="even">
<td><code>RefinedWeb-Europe</code> (<em>webscraping</em>)</td>
<td>7%</td>
</tr>
<tr class="odd">
<td>Livres</td>
<td>6%</td>
</tr>
<tr class="even">
<td>Sites de conversations (<code>Reddit</code>, <code>StackOverflow</code>, <code>HackerNews</code>â€¦)</td>
<td>5%</td>
</tr>
<tr class="odd">
<td>Code (<code>Github</code>â€¦)</td>
<td>5%</td>
</tr>
<tr class="even">
<td>Documents techniques (<code>arXiv</code>, <code>PubMed</code>â€¦)</td>
<td>2%</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="actualitÃ©s-des-modÃ¨les-de-langage" class="level1">
<h1>ActualitÃ©s des modÃ¨les de langage</h1>
<section id="de-nouveaux-grands-modÃ¨les-de-langage-llm" class="level2">
<h2 class="anchored" data-anchor-id="de-nouveaux-grands-modÃ¨les-de-langage-llm">De nouveaux grands modÃ¨les de langage (LLM)</h2>
<p>Pas de vacances pour les principaux acteurs de la <em>data science</em> ! Ce champ de recherche appliquÃ©e continue Ã  connaÃ®tre une actualitÃ© dense avec la publication, cet Ã©tÃ©, de deux modÃ¨les importants:</p>
<ul>
<li><a href="https://ai.meta.com/llama/"><code>LLaMA-2</code></a> par Meta, disponible en versions 7B, 13B et 70B câ€™est-Ã -dire, respectivement, 7, 13 et 70 milliards de paramÃ¨tres. Dans le domaine des LLM actuels, câ€™est donc un modÃ¨le plutÃ´t minimaliste (<code>GPT-3</code> comportait 175 milliards de paramÃ¨tres, <code>GPT-4</code> en comporterait 1.7 trillions soit 1700 milliards). Le site web <code>LeBonLLM</code> propose, dÃ©jÃ , des exemples de <a href="https://www.lebonllm.fr/entrainer-son-llm-avec-llama-1-et-llama-2/"><em>fine tuning</em> de <code>LLaMa</code></a> ;</li>
<li><a href="https://falconllm.tii.ae/"><code>Falcon</code></a> par lâ€™Institut dâ€™Innovation et de Technologie dâ€™Abu Dhabi. <a href="https://huggingface.co/tiiuae/falcon-40b">Falcon-40B</a> avait dÃ©jÃ  connu, cet Ã©tÃ©, un engouement important en se plaÃ§ant en tÃªte des rÃ©utilisations sur <code>HuggingFace</code>. <a href="https://huggingface.co/tiiuae/falcon-180B">Falcon 180B</a>, sorti il y a quelques jours, rapproche les performances de celles des modÃ¨les propriÃ©taires.</li>
</ul>
<p>Ces deux modÃ¨les permettent dâ€™envisager des rÃ©utilisations aprÃ¨s un rÃ©-entrainement sur des jeux de donnÃ©es <em>ad hoc</em> pour amÃ©liorer leurs performances (technique du <em>fine tuning</em>). Ceci est possible grÃ¢ce Ã  leurs licences permissives de rÃ©utilisation. Celle de <a href="https://falconllm.tii.ae/"><code>Falcon</code></a> est assez standard puisquâ€™il sâ€™agit dâ€™une <a href="https://fr.wikipedia.org/wiki/Licence_Apache">Apache 2.0</a>. Celle de <a href="https://ai.meta.com/llama/"><code>LLaMA-2</code></a> est quant Ã  elle moins traditionnelle. La rÃ©utilisation est libre, y compris Ã  des fins commerciale, sauf pour les gros acteurs du numÃ©rique, globalement les concurrents de <code>Meta</code> :</p>
<blockquote class="blockquote">
<ol start="2" type="1">
<li>Additional Commercial Terms. If, on the Llama 2 version release date, the monthly active users of the products or services made available by or for Licensee, or Licenseeâ€™s affiliates, is greater than 700 million monthly active users in the preceding calendar month, you must request a license from Meta, which Meta may grant to you in its sole discretion, and you are not authorized to exercise any of the rights under this Agreement unless or until Meta otherwise expressly grants you such rights.</li>
</ol>
<p><a href="https://github.com/facebookresearch/llama/blob/d7e2e37e163981fd674ea2a633fac2014550898d/LICENSE#L65-L71">Licence de LLaMa-2 sur <code>Github</code></a></p>
</blockquote>
</section>
<section id="le-rÃ©entrainement-des-modÃ¨les" class="level2">
<h2 class="anchored" data-anchor-id="le-rÃ©entrainement-des-modÃ¨les">Le rÃ©entrainement des modÃ¨les</h2>
<p>Lâ€™ouverture de ces modÃ¨les laisse envisager des rÃ©utilisations sur de nouveaux jeux de donnÃ©es dans des infrastructures internes. Cet Ã©tÃ©, <a href="https://www.deeplearning.ai/the-batch/tips-for-taking-advantage-of-open-large-language-models/">Andrew Ng</a>, dans sa <em>newsletter</em>, est revenu sur les mÃ©thodes pour affiner les performances dâ€™un modÃ¨le sur des donnÃ©es quâ€™il nâ€™a pas rencontrÃ©es dans son corpus dâ€™entraÃ®nement.</p>
<ul>
<li>La technique la plus simple est dâ€™<strong>affiner les instructions</strong> (<em>prompt</em>) fournies Ã  un modÃ¨le. Pour faire lâ€™analogie avec lâ€™apprentissage humain, pour obtenir une rÃ©ponse mieux ciblÃ©e Ã  une question, il est souvent nÃ©cessaire de reformuler une question. Par exemple, lors dâ€™une interaction avec une IA assistante de code, il peut Ãªtre utile de guider un LLM avec une instruction <em>â€œas a data scientistâ€</em> ;</li>
<li><strong>Fournir quelques exemples Ã  un modÃ¨le</strong> (<em>few shot learning</em>). De mÃªme quâ€™avec les humains, fournir un petit nombre dâ€™exemples peut suffire Ã  un modÃ¨le, par un raisonnement inductif, Ã  comprendre et rÃ©pondre de maniÃ¨re juste Ã  son instructeur. Selon la difficultÃ© de la tÃ¢che Ã  mettre en oeuvre, il peut suffire de trÃ¨s peu de cas pour spÃ©cialiser un modÃ¨le en modifiant les derniÃ¨res couches du rÃ©seau de neurone.</li>
<li><strong>Fournir de nouvelles sources Ã  un modÃ¨le avant de lâ€™interroger</strong> (<em>retrieval augmented generation</em>). Cette technique consiste Ã  enrichir la base de connaissance dâ€™un modÃ¨le prÃ©-entraÃ®nÃ© avec un nouveau corpus puis lâ€™interroger sur la mÃªme thÃ©matique afin, par exemple, dâ€™obtenir une synthÃ¨se ou alors une information contenue dans les documents mais nÃ©cessitant un temps dâ€™extraction non nÃ©gligeable Ã  un humain. Dans cette approche, il ne sâ€™agit pas de rÃ©entrainer le modÃ¨le pour mettre Ã  jour ses paramÃ¨tres mais de lui donner plus de contexte pour amÃ©liorer la pertinence des prÃ©dictions ou rÃ©ponses du modÃ¨le. Pour continuer lâ€™analogie avec lâ€™apprentissage humain, cette technique se rapproche dâ€™une situation oÃ¹ un humain assimile une bibliographie pour rentrer dans un nouveau sujet.</li>
<li><strong>RÃ©entrainement par spÃ©cialisation</strong> (<em>fine tuning</em>) pour affiner le modÃ¨le sur une tÃ¢che donnÃ©e. Il sâ€™agit dâ€™une approche qui peut ressembler Ã  lâ€™apprentissage dâ€™une nouvelle langue pour un humain: Ã  partir dâ€™un certain stock de connaissances antÃ©rieures (une langue natale), on accumule en sÃ©rie des exemples bien choisis pour amÃ©liorer la comprÃ©hension dâ€™une autre langue. Cette approche permet une Ã©conomie de ressources puisquâ€™elle consiste Ã  spÃ©cialiser un modÃ¨le gÃ©nÃ©raliste mais nÃ©cessite que la nature du problÃ¨me pour lequel est rÃ©-entrainÃ© un modÃ¨le ressemble Ã  celle pour lequel le modÃ¨le a Ã©tÃ© entraÃ®nÃ©. De mÃªme quâ€™essayer de transposer des rÃ¨gles dâ€™une langue latine aidera peu Ã  apprendre le japonais, spÃ©cialiser un modÃ¨le dâ€™analyse dâ€™image pour une tÃ¢che de classification de donnÃ©es textuelles sera inefficace.</li>
</ul>
<p>Le <em>fine tuning</em> est ainsi une solution intÃ©ressante Ã  condition dâ€™avoir testÃ© si des approches plus simples nâ€™apportent pas dÃ©jÃ  des solutions satisfaisantes.</p>
<p>De plus, pour Ãªtre en mesure de <em>fine tuner</em> un modÃ¨le, outre lâ€™accÃ¨s Ã  des ressources computationnelles consÃ©quentes (mais tout de mÃªme moindres quâ€™un entraÃ®nement <em>ex nihilo</em>), beaucoup de mÃ©thodes nÃ©cessitent de disposer de donnÃ©es labellisÃ©es, câ€™est-Ã -dire impliquent de possÃ©der une base de donnÃ©es permettant de juger de la qualitÃ© des prÃ©dictions du modÃ¨le. Pour pallier cette absence, il est possible de mettre en oeuvre un processus humain dâ€™annotation et fournir au modÃ¨le ces Ã©valuations pour lâ€™amener Ã  sâ€™amÃ©liorer (technique nommÃ©e <strong><em><a href="https://en.wikipedia.org/wiki/Reinforcement_learning_from_human_feedback">reinforcement learning from human feedback</a></em></strong>).</p>
<p>Comme lâ€™Ã©voque encore Andrew Ng, lâ€™accÃ¨s Ã  des modÃ¨les prÃ©-entraÃ®nÃ©s change le <a href="https://www.deeplearning.ai/the-batch/building-machine-learning-systems-is-more-debugging-than-development/">cycle de dÃ©veloppement des projets utilisateurs dâ€™IA</a>. Ces projets ne consistent plus, comme les logiciels classiques, Ã  dÃ©velopper en amont des spÃ©cifications puis dÃ©ployer un modÃ¨le correspondant Ã  celles-ci mais, au contraire, Ã  commencer par mettre en oeuvre rapidement un premier modÃ¨le dont le comportement sera Ã©valuÃ© et amÃ©liorÃ© en continu par des mÃ©thodes comme lâ€™apprentissage par renforcement.</p>
</section>
</section>
<section id="le-reste-de-lactualitÃ©" class="level1">
<h1>Le reste de lâ€™actualitÃ©</h1>
<ul>
<li>La commission dâ€™accÃ¨s aux documents administratifs (CADA) a rendu un <a href="https://www.cada.fr/20230314">avis</a> sur le sujet de la publication en <em>open source</em> des modÃ¨les dâ€™apprentissage entraÃ®nÃ©s par lâ€™administration franÃ§aise ;</li>
<li>Une association franÃ§aise a Ã©mergÃ© pour rassembler des ressources et offrir un espace communautaire autour des LLM francophones: <a href="https://www.lebonllm.fr/">Le Bon LLM</a> ;</li>
<li>La qualitÃ© des rÃ©ponses de <code>ChatGPT</code> pourrait sâ€™Ãªtre <a href="https://www.deeplearning.ai/the-batch/chatgpts-behavior-change-over-time/">dÃ©gradÃ©e</a> au cours du temps ;</li>
<li>Le <em>Financial Times</em> prÃ©sente de maniÃ¨re trÃ¨s pÃ©dagogique le <a href="https://ig.ft.com/generative-ai/">fonctionnement des LLM</a> ;</li>
<li>Meta publie <a href="https://facebookresearch.github.io/nougat/"><code>Nougat</code></a>, un modÃ¨le trÃ¨s efficace de numÃ©risation de PDF ;</li>
<li>Le risque de disparition dâ€™emplois dâ€™acteurs et scÃ©naristes du fait des IA gÃ©nÃ©ratrices est lâ€™un des facteurs Ã  lâ€™origine de la grÃ¨ve Ã  Hollywood (<a href="https://www.lemonde.fr/economie/article/2023/07/14/greve-a-hollywood-les-acteurs-craignent-d-etre-remplaces-par-des-machines_6181893_3234.html">voir <em>Le Monde</em></a>) ;</li>
<li>Le modÃ¨le <em>open source</em> de gÃ©nÃ©ration dâ€™images <code>StableDiffusion</code> sort une <a href="https://stability.ai/stable-diffusion">version XL (<code>sdxl</code>)</a><br>
amÃ©liorant encore la qualitÃ© des productions (interface <a href="https://clipdrop.co/fr/stable-diffusion">ici</a>);</li>
<li>OpenAI intÃ¨gre une nouvelle version de son gÃ©nÃ©rateur dâ€™image (<code>Dall-E 3</code>) dans <code>ChatGPT Plus</code> (<a href="https://openai.com/dall-e-3">annonce</a>) ;</li>
<li>La derniÃ¨re revue de presse de la <a href="https://code.gouv.fr/fr/bluehats/bluehats_24/#revue-de-presse">Gazette BlueHats #24</a> recense de nombreux articles sur lâ€™IA ;</li>
<li>Un <a href="https://unehistoireduconflitpolitique.fr/">site interactif</a> riche de nombreuses data visualisations est associÃ© au nouvel ouvrage de Thomas Piketty et Julia CagÃ©, <em>Une histoire du conflit politique</em>.</li>
</ul>
</section>
<section id="Ã©vÃ©nements" class="level1">
<h1>Ã‰vÃ©nements</h1>
<section id="mc-datascientest" class="level2">
<h2 class="anchored" data-anchor-id="mc-datascientest">Masterclass <em>datascientest</em> sur le <em>fine-tuning</em></h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_11/datascientest.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:20.0%"></p>
</figure>
</div>
<p>Notre cycle de <em>masterclass</em> organisÃ©es en lien avec <em>datascientest</em> continue !</p>
<p>AprÃ¨s avoir explorÃ© en dÃ©tail les thÃ©matiques du traitement automatique du langage et de lâ€™analyse dâ€™image, nous progressons dans notre parcours avec le sujet du <em>fine tuning</em>.</p>
<p>Au programme:</p>
<ul>
<li>RÃ©utilisation de <em>transformers</em> (<code>BERT</code>) et de LLM (<code>LLaMA</code>) avec les librairies dâ€™<code>HuggingFace</code> ;</li>
<li><em>Fine tuning</em> de ces modÃ¨les.</li>
</ul>
<p><strong>Rendez-vous le 6 octobre de 10h Ã  12h</strong> ! <a href="https://framaforms.org/inscription-aux-masterclass-datascientest-1695194241">Inscription ici</a></p>
</section>
<section id="autres-Ã©vÃ©nements" class="level2">
<h2 class="anchored" data-anchor-id="autres-Ã©vÃ©nements">Autres Ã©vÃ©nements</h2>
<p>Quelques Ã©vÃ©nements ou informations intÃ©ressantes :</p>
<ul>
<li><a href="https://blog.velib-metropole.fr/hackathon/?utm_source=sendgrid.com&amp;utm_medium=email&amp;utm_campaign=website">Hackathon velib</a>, fermeture des inscriptions le 29 septembre ;</li>
<li><a href="https://unstats.un.org/bigdata/events/2023/un-datathon/">Hackathon de lâ€™ONU</a>: fermeture des inscriptions Ã  la fin du mois ;</li>
<li><a href="https://mailings.isi-web.org/?na=v&amp;nk=15226-43b0d8c9de&amp;id=563">Prix du jeune statisticien de lâ€™IAOS</a> : article Ã  envoyer avant le 10 fÃ©vrier 2024.</li>
</ul>
<p>Les personnes intÃ©ressÃ©es par former une Ã©quipe pour les <em>hackathons</em> peuvent contacter <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a>.</p>
</section>
<section id="rejoindre-le-salon-tchap-ssp-hub" class="level2">
<h2 class="anchored" data-anchor-id="rejoindre-le-salon-tchap-ssp-hub">Rejoindre le salon Tchap <code>SSP Hub</code></h2>
<p>Pour Ã©changer autour des activitÃ©s du rÃ©seau et, plus largement, discuter entre pairs des sujets <em>data science</em>, il existe un <strong>salon <code>SSP Hub</code></strong> dans la messagerie sÃ©curisÃ©e de lâ€™Ã‰tat <code>Tchap</code>. Celui-ci rÃ©unit plus de 250 personnes et permet des Ã©changes plus directs, plus frÃ©quents et plus informels que la liste de diffusion mail.</p>
<p>Si vous avez un compte sur <code>Tchap</code>, vous pouvez rejoindre ce salon en cherchant celui-ci par son nom <strong><code>Â« SSP Hub Â»</code></strong>. En cas de problÃ¨me pour le rejoindre, nâ€™hÃ©sitez pas Ã  envoyer un mail Ã  <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a>.</p>


</section>
</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_15/</guid>
  <pubDate>Sun, 10 Sep 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_15/learning.png" medium="image" type="image/png" height="142" width="144"/>
</item>
<item>
  <title>Propositions de lecture estivale</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_14/</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>Cette <em>newsletter</em> propose un petit cahier de vacances de la <em>data science</em> afin de profiter de la pÃ©riode estivale pour en apprendre plus sur les sujets en vogue et ainsi Ãªtre fin prÃªt pour la rentrÃ©e ğŸ“–â›±ï¸.</p>
<section id="lectures-estivales" class="level2">
<h2 class="anchored" data-anchor-id="lectures-estivales">Lectures estivales</h2>
<p>Pour commencer, quelques conseils de lecture sur les grands modÃ¨les de langage :</p>
<ul>
<li><p><a href="https://www.washingtonpost.com/technology/interactive/2023/ai-chatbot-learning/?itid=mc_magnet-ai_inline_collection_1">Un article du <em>Washington Post</em></a> pour en savoir plus sur le corpus dâ€™entrainement des grands modÃ¨les de langage (<em>large langage model</em>, LLM) ;</p></li>
<li><p>Pour comprendre la maniÃ¨re dont <code>ChatGPT</code> et les grands modÃ¨les de langage traduisent vos phrases afin de vous rÃ©pondre, consultez ce <a href="https://simonwillison.net/2023/Jun/8/gpt-tokenizers/"><em>post</em> de blog</a> sur les <a href="https://fr.wiktionary.org/wiki/tokenizer"><em>tokenizers</em></a> (dÃ©composition dâ€™une chaine de caractÃ¨res en unitÃ© minimale comme un mot ou une syllabe);</p></li>
<li><p>Entre deux Ã©pisodes de votre sÃ©rie prÃ©fÃ©rÃ©e, vous pourrez alterner avec <a href="https://www.youtube.com/watch?v=Ku9PM26Cc2c">ce cours de 2 heures</a> sur les grands modÃ¨les de langage ;</p></li>
<li><p>Vous serez ensuite prÃªts Ã  approfondir le sujet avec <a href="https://huggingface.co/learn/nlp-course/chapter1/1">ce cours</a> complet dâ€™<code>Huggingface</code> sur le traitement automatique du langage.</p></li>
</ul>
<p>Nâ€™hÃ©sitez pas Ã  faire des pauses dessin virtuel pour stimuler votre crÃ©ativitÃ© en crÃ©ant des images avec <a href="https://huggingface.co/spaces/stabilityai/stable-diffusion">StableDiffusion</a> ou <a href="https://openai.com/dall-e-2">Dall-E 2</a>.</p>
<p>La version <code>Python</code> de lâ€™ouvrage de rÃ©fÃ©rence <a href="https://www.statlearning.com/"><em>Introduction to Statistical Learning</em></a> vient de sortir et est disponible, comme la version <code>R</code>, gratuitement. Si aprÃ¨s la lecture de celui-ci vous dÃ©sirez mieux comprendre la question de lâ€™interprÃ©tabilitÃ© des modÃ¨les de <em>machine learning</em>, câ€™est-Ã -dire les mÃ©thodes statistiques permettant de mieux comprendre la maniÃ¨re dont les algorithmes dâ€™apprentissage aboutissent Ã  une dÃ©cision, ce <a href="https://interpretable-ml-class.github.io/">site web</a> vous sera trÃ¨s utile.</p>
<p>Si vous dÃ©sirez en apprendre plus sur la question de la reproductibilitÃ©, les ressources suivantes vous seront utiles :</p>
<ul>
<li><a href="https://raps-with-r.dev/"><em>Building reproducible analytical pipelines with R</em></a> ;</li>
<li><a href="https://aeturrell.github.io/coding-for-economists/intro.html"><em>Coding for economists</em></a> ;</li>
<li><a href="https://inseefrlab.github.io/formation-bonnes-pratiques-git-R/">Formation aux bonnes pratiques <code>R</code> et <code>Git</code></a> par lâ€™INSEE ;</li>
<li>Un cours de lâ€™ENSAE sur la <a href="https://ensae-reproductibilite.github.io/website/">mise en production de projets <em>data science</em></a> et, pour approfondir sur la mise en production de modÃ¨les de <em>machine learning</em>, une formation de lâ€™Insee sur le <a href="https://inseefrlab.github.io/formation-mlops/slides/index.html#/title-slide">MLOps</a>, ensemble de techniques qui visent Ã  faciliter la mise en production et la maintenance de modÃ¨les.</li>
</ul>
<p>Si les semestres de lâ€™annÃ©e scolaire ne vous ont pas suffi, vous pouvez aussi profiter de lâ€™Ã©tÃ© pour complÃ©ter votre formation en <em>data science</em> en suivant le <a href="https://matthewrkaye.com/series.html#the-missing-semester-of-your-ds-education"><em>missing semester</em></a> de votre cursus.</p>
<p>Vous pouvez Ã©galement reprendre lâ€™ensemble des ressources mises Ã  disposition dans le cadre du <a href="https://inseefrlab.github.io/funathon2023/">Funathon 2023</a>, un Ã©vÃ©nement pour lequel les Ã©quipes innovation de lâ€™Insee et du SSM Agriculture et alimentation ont mis Ã  disposition de nombreuses ressources <code>R</code> ou <code>Python</code> sur six thÃ¨mes concernant lâ€™alimentation et la production agricole. Ces ressources couvrent un large Ã©ventail de niveaux de difficultÃ© et de techniques pour permettre Ã  la fois aux dÃ©butants en code et aux <em>data scientists</em> plus aguerris dâ€™y trouver leur compte.</p>
<p>Et pour un parcours complet de formation, rien de mieux que dâ€™explorer de fond en comble le <a href="https://www.sspcloud.fr/formation">portail de formation du SSP Cloud</a>.</p>
<p>AprÃ¨s avoir lu tout ceci, vous serez prÃªts pour les Ã©vÃ©nements <em>data science</em> de la rentrÃ©e comme le <a href="https://mobidatalab.eu/living-labs/hackathon/">hackathon du <em>mobidatalab</em></a> sur le thÃ¨me de lâ€™amÃ©lioration des services de mobilitÃ© urbaine (15 et 16 septembre).</p>
<p><strong>Bonnes vacances ! Et nâ€™oubliez pas de profiter pleinement des vacances pour oublier <code>ChatGPT</code> quelques temps !</strong> ğŸŒğŸŒŠâ›°ï¸</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_14/bye.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>


</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_14/</guid>
  <pubDate>Sat, 01 Jul 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_14/featured_copy.png" medium="image" type="image/png" height="140" width="144"/>
</item>
<item>
  <title>Onyxia: lâ€™infrastructure cloud mÃ¨re des dragons</title>
  <link>https://ssphub.netlify.app/post/onyxia/</link>
  <description><![CDATA[ 





<p><code>Onyxia</code> est un logiciel <em>open source</em> dÃ©veloppÃ© par lâ€™Insee (<a href="https://github.com/InseeFrLab/onyxia-web">disponible sur <code>Github</code> <i class="fa-brands fa-github"></i></a>) permettant de fournir un environnement de traitement de donnÃ©es Ã  lâ€™Ã©tat de lâ€™art. Principalement conÃ§u pour permettre le travail interactif des data scientists, lâ€™expÃ©rience fournie avec <code>Onyxia</code> favorise Ã©galement la reproductibilitÃ© des travaux et leur mise en production.</p>
<p>Le logiciel <code>Onyxia</code> est installÃ© par des organisations souhaitant crÃ©er un <em>datalab</em>, câ€™est-Ã -dire une plateforme interactive de traitement de donnÃ©es. Ces organisations ont toutes le point commun de vouloir construire une plateforme qui embrasse les technologies <em>cloud</em> que sont la conteneurisation et le stockage objet tout en mettant Ã  disposition celles-ci dans un environnement <em>user-friendly</em> oÃ¹ lâ€™interconnexion entre ces diffÃ©rentes briques est gÃ©rÃ©e de maniÃ¨re cohÃ©rente. Les technologies <em>cloud native</em> sont devenues indispensables dans lâ€™Ã©cosystÃ¨me de la donnÃ©e, du fait dâ€™une meilleure gestion des ressources de traitement ou de la capacitÃ© Ã  crÃ©er un environnement parfaitement reproductible pour une mise en production accÃ©lÃ©rÃ©e.</p>
<p>Ce <em>post</em> de blog a pour objectif de prÃ©senter la raison dâ€™Ãªtre dâ€™<code>Onyxia</code>, sa gÃ©nÃ¨se et les solutions quâ€™apporte cette infrastructure Ã  des irritants classiques des projets novateurs de data science.</p>
<section id="contexte" class="level2">
<h2 class="anchored" data-anchor-id="contexte">Contexte</h2>
<p>Lâ€™Ã©cosystÃ¨me de la data science est en mouvement accÃ©lÃ©rÃ© depuis 10 ans et le rÃ´le du <em>data scientist</em> dans les organisations valorisant de la donnÃ©e Ã©volue continuellement <span class="citation" data-cites="davenport2022data">(Davenport and Patil 2022)</span>. Les data scientists modernes sont amenÃ©s Ã  utiliser de plus en plus de langages et doivent Ãªtre capables de maÃ®triser plusieurs architectures informatiques. La frontiÃ¨re est ainsi moins nette que par le passÃ© entre statisticiens et informaticiens. De plus, les innovations rÃ©centes dans le monde du dÃ©veloppement logiciel, notamment lâ€™adoption massive de lâ€™approche <code>DevOps</code> - approche qui consiste Ã  automatiser la production de livrables dÃ¨s la conception du prototype - a Ã©galement fait Ã©voluer les pratiques des data scientists.</p>
<p>Ce besoin de ressources informatiques croissantes, de flexibilitÃ© dans le prototypage de solutions informatiques et lâ€™Ã©volution des pratiques consistant Ã  mettre Ã  disposition en continu des livrables ont eu des implications importantes sur les architectures informatiques dominantes dans lâ€™Ã©cosystÃ¨me de la donnÃ©e. Pour rÃ©pondre au besoin croissant de puissance de traitement, les serveurs partagÃ©s, organisÃ©s sous forme de <em>clusters</em>, se sont dÃ©veloppÃ©s dans de nombreuses organisations. AprÃ¨s avoir connue son heure de gloire au dÃ©but des annÃ©es 2010, lâ€™infrastructure <a href="https://openclassrooms.com/fr/courses/4467481-creez-votre-data-lake/4509426-decouvrez-le-systeme-de-fichiers-distribue-hdfs"><code>HDFS</code> (<em>Hadoop Distributed File System</em>)</a>, qui reposait sur des <em>clusters</em> oÃ¹ les donnÃ©es et la puissance de traitement Ã©taient distribuÃ©es et collocalisÃ©es, a laissÃ© place Ã  des infrastructures plus <em>scalables</em>, basÃ©es sur lâ€™approche de la conteneurisation.</p>
</section>
<section id="de-hdfs-Ã -la-conteneurisation" class="level2">
<h2 class="anchored" data-anchor-id="de-hdfs-Ã -la-conteneurisation">De HDFS Ã  la conteneurisation</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cette partie plus technique dÃ©veloppe des Ã©lÃ©ments pour comprendre le succÃ¨s rÃ©cent des infrastructures conteneurisÃ©es.</p>
<p>Elle pourra intÃ©resser le lecteur curieux sur les fondements des infrastructures <em>cloud</em> modernes mais nâ€™est pas nÃ©cessaire Ã  la comprÃ©hension gÃ©nÃ©rale de lâ€™article.</p>
</div>
</div>
<p>La conteneurisation, qui repose sur lâ€™idÃ©e que les serveurs de stockage de la donnÃ©e peuvent Ãªtre dissociÃ©s de ceux effectuant les traitements, sert de fondement aux principales plateformes <em>cloud</em> actuelles fournissant des services Ã  la demande.</p>
<p>Ce nouveau paradigme part de deux constats. Le premier est que les Ã©changes de donnÃ©es entre les noeuds dâ€™un serveur sont aujourdâ€™hui peu coÃ»teux. Avec des flux rÃ©seaux suffisants et une technologie performante, il est donc possible dâ€™Ã©changer Ã  un coÃ»t modÃ©rÃ© de gros volumes de donnÃ©es au sein dâ€™une infrastructure. Le deuxiÃ¨me constat est que la maintenance dâ€™une infrastructure conteneurisÃ©e, faite pour Ãªtre trÃ¨s mallÃ©able, est plus lÃ©gÃ¨re que celle dâ€™une infrastructure basÃ©e sur des machines virtuelles ou sur les infrastructrures calibrÃ©es pour lâ€™analytique <em>big data</em> comme <code>HDFS</code> reposant sur la collocalisation des donnÃ©es et des traitements<sup>1</sup>.</p>
<p>Les donnÃ©es Ã©tant stockÃ©es sur des serveurs diffÃ©rents de ceux exÃ©cutant les traitements, lâ€™accÃ¨s Ã  celles-ci se fait Ã  travers des API qui permettent de traiter le systÃ¨me de stockage distant comme un systÃ¨me de fichiers classique. <code>Onyxia</code> a adoptÃ© une implÃ©mentation <em>open source</em> du systÃ¨me de stockage <a href="https://fr.wikipedia.org/wiki/Amazon_S3"><code>S3</code></a> appelÃ©e <a href="https://min.io/"><code>MinIO</code></a>.</p>
<p>En ce qui concerne le traitement des donnÃ©es, le fait dâ€™utiliser un systÃ¨me de conteneurs, câ€™est-Ã -dire une configuration logicielle portable minimaliste prÃªte Ã  lâ€™emploi (par opposition aux machines virtuelles qui impliquent un systÃ¨me dâ€™exploitation complet), offre une grande libertÃ© sur le choix des logiciels de traitement. De nombreuses technologies <em>open source</em> devenues standards dans le monde de la <em>data science</em> (<code>Jupyter</code>, <code>RStudio</code>, <code>ElasticSearch</code>â€¦) existent dÃ©jÃ  sous cette forme et peuvent ainsi Ãªtre adoptÃ©es dans une telle infrastructure pour fournir des services prÃªts-Ã -lâ€™emploi pour les data scientists. La mise en musique de toutes ces petites boites auto-suffisantes, notamment lâ€™optimisation des ressources concurrentes sur un serveur, est permise par la technologie dâ€™orchestration <a href="https://kubernetes.io/fr/"><code>Kubernetes</code></a>.</p>
<p><br></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_logic.svg" class="img-fluid figure-img"></p>
<figcaption><em>Centralisation des ressources par <code>Onyxia</code></em></figcaption>
</figure>
</div>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Plus de dÃ©tails pour comprendre le changement de paradigme vers la conteuneurisation ğŸ‘‡
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Les infrastructures <em>big data</em> reposent sur le principe du <em>cluster</em> (grappe) informatique. Des serveurs sont connectÃ©s entre eux, ce qui forme de maniÃ¨re imagÃ©e une grappe. Cette interconnexion de plusieurs serveurs entre eux peut se faire au niveau :</p>
<ul>
<li>du <strong>stockage</strong> : les donnÃ©es volumineuses ne sont pas stockÃ©es sur un seul serveur mais au contraire rÃ©parties ;</li>
<li>du <strong>traitement</strong> : les calculs sont effectuÃ©s par blocs sur plusieurs serveurs et le rÃ©sultat de ceux-ci est ensuite transmis Ã  un serveur maÃ®tre.</li>
</ul>
<p>Le systÃ¨me <em>Hadoop Distributed File System</em> a Ã©tÃ© pensÃ© pour tirer parti de lâ€™algorithme de traitement parallÃ©lisÃ© <a href="https://fr.wikipedia.org/wiki/MapReduce"><code>MapReduce</code></a> proposÃ© en 2004 par <code>Google</code>. Les fichiers volumineux sont fractionnÃ©s et rÃ©partis sur plusieurs serveurs.</p>
<p><img src="https://i0.wp.com/datascientest.com/wp-content/uploads/2021/04/illu_schema_mapreduce-04.png?w=1024&amp;ssl=1" class="img-fluid"></p>
<p><em>Fonctionnement dâ€™une architecture <code>MapReduce</code> (source: <a href="https://datascientest.com/mapreduce">Datascientest</a>)</em></p>
<p>La spÃ©cificitÃ© de lâ€™architecture <code>HDFS</code> est que non seulement le stockage est distribuÃ© mais Ã©galement aussi la puissance de traitement associÃ©e. On parle Ã  ce propos de <strong>collocalisation</strong> : les traitements ont lieu sur les mÃªmes serveurs que ceux oÃ¹ sont stockÃ©s les donnÃ©es. Cela permet de rÃ©duire les mouvements de donnÃ©es (<em>shuffle</em> dans lâ€™image ci-dessus) qui sont coÃ»teux du point de vue de la performance. Cette collocalisation a permis au systÃ¨me <code>HDFS</code> de devenir, au dÃ©but de la dÃ©cennie 2010, le paradigme dominant. En tirant parti de la parallÃ©lisation permise par des langages trÃ¨s efficaces comme <code>Spark</code> tout en limitant les Ã©changes rÃ©seaux pouvant faire perdre en performance, cette architecture a attirÃ© au-delÃ  de lâ€™Ã©cosystÃ¨me du <em>big data</em>.</p>
<p>Le systÃ¨me HDFS prÃ©sente nÃ©anmoins certaines limites qui expliquent sa perte de succÃ¨s avec lâ€™Ã©mergence dâ€™un nouveau paradigme plus flexible.</p>
<p>En premier lieu, ce systÃ¨me nÃ©cessite beaucoup de ressources du fait de son <em>design</em>. Comme les traitements sont lourds et partagÃ©s pour des usages concurrents, les noeuds constituant le <em>cluster</em> peuvent subir des arrÃªts Ã  cause de surcharge des ressources. Pour tenir compte de la nature instable de cette infrastructure <em>big data</em>, les fichiers sont dupliquÃ©s. Ainsi, lors dâ€™une erreur sur le serveur gÃ©nÃ©rant un arrÃªt du nÅ“ud (par exemple Ã  cause de traitements trop gourmands), les traitements sur lâ€™ensemble des donnÃ©es sont sÃ©curisÃ©s Ã©vitant Ã©galement la perte partielle ou totale de ces derniÃ¨res.</p>
<p>Lâ€™implication est que les donnÃ©es, dÃ©jÃ  volumineuses, sont dupliquÃ©es plusieurs fois impliquant des architectures assez monumentales. Si la duplication de la donnÃ©e nâ€™est pas en soi choquante afin dâ€™Ã©viter la perte de donnÃ©es, cela a un effet pervers dans un systÃ¨me de collocalisation. A chaque ajout de noeuds pour le stockage de donnÃ©es, il est Ã©galement nÃ©cessaire dâ€™ajouter des ressources pour les traiter. Il est donc compliquÃ© de dÃ©corrÃ©ler lâ€™ajout de ressources de stockage et de traitement. Cette absence de flexibilitÃ© est pÃ©nalisante dans un monde oÃ¹ les donnÃ©es sont mises Ã  jour frÃ©quemment et oÃ¹ les technologies de traitement, donc les besoins associÃ©s, Ã©voluent rapidement. Les infrastructures <code>HDFS</code> sont donc lourdes Ã  changer, que ce soit pour ajouter des ressources ou faire Ã©voluer les distributions logicielles prÃ©sentes dessus.</p>
<p>Le deuxiÃ¨me facteur qui a favorisÃ© le changement de paradigme est lâ€™amÃ©lioration des Ã©changes rÃ©seaux. Il nâ€™est plus aussi coÃ»teux que par le passÃ© de transfÃ©rer des volumes importants de donnÃ©es au sein dâ€™une infrastructure. Cela facilite la dÃ©corrÃ©lation entre environnement de stockage et de traitement.</p>
<p>Cette sÃ©paration des environnements de stockage et de traitement permet alors dâ€™adopter pour chacun les technologies les plus performantes. Dans le domaine du stockage, celle qui a rencontrÃ© le plus de succÃ¨s est le systÃ¨me de stockage <a href="https://aws.amazon.com/fr/s3/"><code>S3</code></a> dÃ©veloppÃ© par Amazon. Lâ€™implÃ©mentation <em>open source</em> du systÃ¨me S3 est <a href="https://min.io/"><code>MinIO</code></a>, utilisÃ©e par <code>Onyxia</code>.</p>
<p>Dans le domaine du traitement, la technologie la plus performante dÃ©pend de la nature de la tÃ¢che rÃ©alisÃ©e. Selon quâ€™on dÃ©sire effectuer de la recherche textuelle, des visualisations de donnÃ©es ou de lâ€™analyse dâ€™image, on ne va pas vouloir utiliser la mÃªme technologie. Pour mettre Ã  disposition des logiciels sur un serveur, il existe principalement deux approches concurrentes.</p>
<p>La premiÃ¨re repose sur le principe des machines virtuelles. Cette approche nâ€™est pas nouvelle et de nombreuses organisations ont proposÃ© ou proposent encore ce type dâ€™infrastructures pour des serveurs collectifs de traitement. Cette approche est nÃ©anmoins lourde : elle nÃ©cessite un systÃ¨me dâ€™exploitation complet dont il faudra ensuite adapter la configuration lors de lâ€™installation de chaque logiciel. Plusieurs logiciels coexistent donc dans ce systÃ¨me dâ€™exploitation mÃªme si un seul, par exemple, <code>Python</code>, est utilisÃ©. Les machines virtuelles sont des infrastructures assez polluantes puisque pour faire fonctionner un systÃ¨me dâ€™exploitation dans son ensemble, il est nÃ©cessaire de mobiliser des ressources plus importantes que celles seulement nÃ©cessaires aux traitements. De plus, la configuration dâ€™un systÃ¨me dâ€™exploitation, et notamment, la gestion de la dÃ©pendance de multiples logiciels Ã  des configurations systÃ¨mes qui peuvent ne pas correspondre, nâ€™est pas triviale. Il est donc lourd de faire Ã©voluer une infrastructure reposant sur des machines virtuelles. Lâ€™absence de flexibilitÃ© dâ€™une infrastructure reposant sur le principe des machines virtuelles est pÃ©nalisante dans un Ã©cosystÃ¨me mouvant comme celui de la <em>data science</em>, oÃ¹ une partie importante du travail de prototypage consiste Ã  tester plusieurs technologies pour dÃ©terminer celle sâ€™intÃ©grant le mieux dans un processus de traitement de donnÃ©es.</p>
<p>Le systÃ¨me de la conteneurisation a justement Ã©tÃ© pensÃ© pour cela : plutÃ´t quâ€™installer de nombreuses librairies au niveau du systÃ¨me, pour une fraction dâ€™utilisateurs limitÃ©e Ã  chacune, il est plus intÃ©ressant de crÃ©er des environnements complets qui vont exister de maniÃ¨re conjointe. Chaque <em>framework</em> va Ãªtre construit comme un conteneur autosuffisant avec un systÃ¨me dâ€™exploitation minime et un nombre minimal de couches de configurations supplÃ©mentaires. Un <em>framework</em> est livrÃ© sous la forme dâ€™une image <a href="https://fr.wikipedia.org/wiki/Docker_(logiciel)"><code>Docker</code></a>, une technologie qui permet dâ€™empaqueter un logiciel et ses dÃ©pendances sous la forme de boites minimalistes et les mettre Ã  disposition facilement pour une rÃ©utilisation. Il existe par exemple des images <code>Docker</code> pour pouvoir utiliser <code>RStudio</code>, <code>Jupyter</code>, <code>VSCode</code> avec des configurations minimales afin dâ€™exÃ©cuter du <code>Python</code> ou du <code>R</code>. A partir de celles-ci, lâ€™utilisateur qui dÃ©sire des configurations supplÃ©mentaires peut ajouter les couches qui lui sont utiles.</p>
<p>Mais les images <code>Docker</code> ne se rÃ©duisent pas Ã  la mise Ã  disposition dâ€™environnements de dÃ©veloppement. Une partie des technologies les plus apprÃ©ciÃ©es de lâ€™Ã©cosystÃ¨me de la data science sont Ã©galement livrÃ©es sous forme dâ€™images <code>Docker</code>. Par exemple, le moteur de recherche <code>ElasticSearch</code>, trÃ¨s utilisÃ© pour la recherche textuelle, peut Ãªtre empaquetÃ© dans une image <code>Docker</code>. Le logiciel <code>Onyxia</code> propose dÃ¨s lors, dans un catalogue vivant, un certain nombre de logiciels trÃ¨s utiles pour les <em>data scientists</em> ayant fait lâ€™objet dâ€™un tel empaquetage. Les nombreuses images <code>Docker</code> servant Ã  crÃ©er des services pour les <em>data scientists</em> sont disponibles en <em>open source</em> sur <a href="https://github.com/InseeFrLab/images-datascience"><code>Github</code></a>.</p>
<p>Pour organiser sur un serveur la coexistence de multiples utilisateurs de services gourmands en ressource, la solution <a href="https://kubernetes.io/fr/"><code>Kubernetes</code></a> fait aujourdâ€™hui office de rÃ©fÃ©rence. Entre sa crÃ©ation en 2014 et aujourdâ€™hui, cette solution dâ€™orchestration, câ€™est-Ã -dire de gestion dâ€™une infrastructure, est devenue incontournable. Outre son allocation dynamique des ressources, elle permet de transformer facilement le livrable dâ€™une chaine de traitement en application disponible en continu. Ceci est particuliÃ¨rement adaptÃ© dans un contexte de diversification des livrables fournis par les <em>data scientists</em> (API, application web, modÃ¨leâ€¦) et dâ€™adoption dâ€™une dÃ©marche <code>DevOps</code> voire <code>MLOps</code>.</p>
</div>
</div>
</div>
</section>
<section id="la-solution-onyxia" class="level2">
<h2 class="anchored" data-anchor-id="la-solution-onyxia">La solution Onyxia</h2>
<section id="dun-cloud-de-ladministration-Ã -un-logiciel-ouvert" class="level3">
<h3 class="anchored" data-anchor-id="dun-cloud-de-ladministration-Ã -un-logiciel-ouvert">Dâ€™un <em>cloud</em> de lâ€™administration Ã  un logiciel ouvert</h3>
<p>Pour permettre aux <em>data scientists</em> des administrations franÃ§aises de bÃ©nÃ©ficier de technologies <em>cloud</em> sans Ãªtre dÃ©pendant dâ€™un fournisseur de service privÃ©, lâ€™Ã©quipe innovation de lâ€™Insee a eu lâ€™idÃ©e de crÃ©er un <em>datalab</em> basÃ© sur la philosophie de la conteneurisation en mobilisant exclusivement des composants open-source.</p>
<p>Ce <em>datalab</em>, nÃ© Ã  lâ€™Insee en 2018, a Ã©tÃ© ouvert Ã  lâ€™administration publique sous la forme dâ€™une instance https://www.sspcloud.fr/ Ã  condition dâ€™utiliser des donnÃ©es ouvertes. En plus des agents dÃ©jÃ  en poste dans lâ€™administration, cette infrastructure sert depuis deux ans Ã  former les Ã©lÃ¨ves de lâ€™ENSAE et de lâ€™ENSAI dans le cadre de leur formation en <em>data science</em>.</p>
<p>DÃ©but 2023, ce sont plus de 3000 agents et Ã©tudiants qui sont inscrits sur cette infrastructure avec, en moyenne, 300 utilisateurs hebdomadaires. Lâ€™infrastructure de traitement propose 10 TB de RAM, 1100 CPU disponibles et 34 GPU. La capacitÃ© de stockage associÃ©e est de 150 TB.</p>
<p>Pour les utilisations internes de donnÃ©es plus sensibles, lâ€™Ã©quipe innovation de lâ€™Insee a rendu disponible le code source derriÃ¨re le <code>SSP Cloud</code> dans le cadre dâ€™un logiciel nommÃ© <code>Onyxia</code> (https://www.onyxia.sh/). Ce logiciel est pensÃ© comme un kit qui peut Ãªtre installÃ© sur un <em>cluster</em> <code>Kubernetes</code>, technologie dÃ©taillÃ©e prÃ©cÃ©demment.</p>
</section>
</section>
<section id="onyxia-en-bref" class="level2">
<h2 class="anchored" data-anchor-id="onyxia-en-bref">Onyxia en bref</h2>
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_ecailles.svg" class="img-fluid"></p>
<p><code>Onyxia</code> propose principalement deux composants de valeur :</p>
<ul>
<li>une <strong>interface web</strong> qui agit comme la porte dâ€™entrÃ©e du <em>data scientist</em> sur son datalab, lui facilitant lâ€™accÃ¨s aux technologies cloud et lui permettant de dÃ©marrer ses environnements de traitement de la donnÃ©e. Lâ€™interface ergonomique permet aux utilisateurs de donnÃ©es nÃ©ophytes de dÃ©marrer des services standardisÃ©s sans se prÃ©occuper de la configuration mais aussi aux <em>data scientists</em> plus aguerris de bÃ©nÃ©ficier de vastes possibilitÃ©s de personnalisation du service.</li>
<li>des <strong>catalogues de logiciels</strong> : une petite vingtaine de services interactifs dont les plus utilisÃ©s sont <code>RStudio</code>, <code>Jupyter</code>, <code>VScode</code>, une quinzaine de services spÃ©cialisÃ©s dans les bases de donnÃ©es (<code>Postgres</code>, <code>ElasticSearch</code>â€¦), 5 services dâ€™automatisation (<code>MLflow</code>â€¦) et 2 services de <em>dataviz</em> (<code>Redash</code> et <code>Superset</code>)</li>
</ul>
<p><img src="https://ssphub.netlify.app/post/onyxia/catalogue.svg" alt="Le catalogue Onyxia"></p>
<p><em>Le catalogue des services disponibles dans <code>Onyxia</code>.</em></p>
<p><br></p>
<p>Ces deux composants peuvent Ãªtre adaptÃ©s en fonction des besoins internes de chaque organisation. Tous les services interactifs sont automatiquement connectÃ©s Ã  lâ€™espace de stockage <code>S3</code>, et au coffre de secret <code>Vault</code>. La gestion des droits dâ€™accÃ¨s aux donnÃ©es stockÃ©es dans lâ€™espace de stockage <code>S3</code> ou dans des services de bases de donnÃ©es (<code>ElasticSearch</code>, <code>PostGreSQL</code>â€¦) est automatisÃ©e afin que chaque service puisse accÃ©der aux donnÃ©es sur lesquelles lâ€™utilisateur dÃ©tient des droits.</p>
<p><code>Onyxia</code> Ã©tant un ensemble mallÃ©able de logiciels conteneurisÃ©s, il est possible de ne pas adopter lâ€™ensemble des services proposÃ©s par lâ€™Ã©quipe de lâ€™Insee qui maintient <code>Onyxia</code>. Il est Ã©galement possible de changer certaines des briques de base pour lâ€™adapter Ã  des Ã©lÃ©ments dâ€™infrastructure interne. Par exemple, il est possible dâ€™adapter la destination du service de stockage ou les configurations des environnements data science pour lâ€™adapter Ã  des ressources.</p>
</section>
<section id="linterface-et-les-services-proposÃ©s-par-onyxia" class="level2">
<h2 class="anchored" data-anchor-id="linterface-et-les-services-proposÃ©s-par-onyxia">Lâ€™interface et les services proposÃ©s par <code>Onyxia</code></h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/onyxia/multiple_instances.svg" class="img-fluid figure-img"></p>
<figcaption><em>Onyxia offre des marges de manoeuvre sur lâ€™interface</em></figcaption>
</figure>
</div>
<p>Lâ€™une des principales forces dâ€™<code>Onyxia</code> est dâ€™offrir une multiplicitÃ© de services diffÃ©rents avec une interconnexion entre eux gÃ©rÃ©e de maniÃ¨re cohÃ©rente.</p>
<p>Les conteneurs sont dÃ©marrÃ©s comme des services Ã  la demande et la configuration automatique de ceux-ci permet dâ€™assurer aux <em>data scientists</em> lâ€™accÃ¨s aux donnÃ©es disponibles dans des espaces de stockage ou des bases de donnÃ©es crÃ©Ã©es par lâ€™utilisateur.</p>
<p>Le catalogue de services se prÃ©sente par le biais dâ€™un formulaire ergonomique oÃ¹ lâ€™utilisateur choisit la brique quâ€™il dÃ©sire utiliser:</p>
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_ui1.png" class="img-fluid"></p>
<p>Les <em>data scientists</em> et statisticiens nâ€™ont donc pas besoin de connaÃ®tre les dÃ©tails du fonctionnement des briques techniques dâ€™<code>Onyxia</code> pour utiliser la plateforme. Les Ã©lÃ©ments techniques comme la connexion au systÃ¨me de stockage sont, par dÃ©faut, dÃ©jÃ  configurÃ©s :</p>
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_ui2.png" class="img-fluid"></p>
<p>Lâ€™interface ergonomique permet de paramÃ©trer certaines configurations si besoin, notamment les ressources Ã  disposition du conteneur. NÃ©anmoins lâ€™allocation dynamique des ressources offre dÃ©jÃ  de la flexibilitÃ© :</p>
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_ui3.png" class="img-fluid"></p>
<p>Lâ€™utilisateur a accÃ¨s Ã  lâ€™ensemble des services quâ€™il a ouvert depuis une page dÃ©diÃ©e :</p>
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_ui4.png" class="img-fluid"></p>
<p>Les services interactifs comme <code>Jupyter</code>, <code>VSCode</code> ou <code>RStudio</code> permettent alors Ã  lâ€™utilisateur dâ€™accÃ©der Ã  une interface pour exÃ©cuter des traitements <code>Python</code> ou <code>R</code>.</p>
<p><img src="https://ssphub.netlify.app/post/onyxia/onyxia_ui5.png" class="img-fluid"></p>
<p>Lâ€™accÃ¨s aux donnÃ©es peut se faire depuis la ligne de commande (via un utilitaire <a href="https://min.io/docs/minio/linux/reference/minio-mc.html">Minio Client</a>) ou par un package <code>Python</code> ou <code>R</code> dÃ©diÃ© qui permet de traiter le systÃ¨me de stockage distant comme un systÃ¨me local. Les traitements sont exÃ©cutÃ©s sur les serveurs de la plateforme qui hÃ©berge les notebooks, indÃ©pendamment de la machine par laquelle lâ€™utilisateur accÃ¨de au service. Par exemple, dans le cas du <code>SSPCloud</code>, les traitements sont exÃ©cutÃ©s depuis des serveurs hÃ©bergÃ©s Ã  lâ€™Insee.</p>
</section>
<section id="la-communautÃ©-onyxia" class="level2">
<h2 class="anchored" data-anchor-id="la-communautÃ©-onyxia">La communautÃ© <code>Onyxia</code></h2>
<p>Tous les composants sont proposÃ©s en <em>open source</em> par lâ€™Insee ce qui permet de fÃ©dÃ©rer une communautÃ© dâ€™utilisateurs et de dÃ©veloppeurs de ce produit. Il sâ€™agit dâ€™un bel exemple de mutualisation au sein de lâ€™Ã‰tat et au delÃ . Les dÃ©pÃ´ts peuvent Ãªtre retrouvÃ©s sur le <code>Github</code> de lâ€™Ã©quipe innovation (celui de <a href="https://github.com/InseeFrLab/onyxia-web">lâ€™interface web</a>, celui des <a href="https://github.com/InseeFrLab/images-datascience">images pour la data-science</a>â€¦). La communautÃ© peut proposer de nouveaux services dans le catalogue.</p>
<p>Cette approche <em>bottom up</em> a dÃ©jÃ  permis dâ€™adapter des services aux besoins des utilisateurs ou dâ€™amÃ©liorer la solution grÃ¢ce Ã  des retours des rÃ©-utilisateurs dâ€™<code>Onyxia</code>.</p>
<!-----
<iframe width="100%" height="500px" marginheight="0" marginwidth="0" src="./template/index.html">
Fallback text here for unsupporting browsers, of which there are scant few.
</iframe>
----->
</section>
<section id="les-plateformes-basÃ©es-sur-onyxia" class="level2">
<h2 class="anchored" data-anchor-id="les-plateformes-basÃ©es-sur-onyxia">Les plateformes basÃ©es sur Onyxia</h2>
<p>La plateforme dâ€™origine, le <code>SSPCloud</code>, est ouverte Ã  tous les agents de lâ€™Ã‰tat et Ã  plusieurs Ã©coles. Celle-ci est exclusivement limitÃ©e Ã  lâ€™exploitation de donnÃ©es <em>open data</em>. Cette stratÃ©gie dâ€™offreur de services de traitement sur lâ€™open data permet de montrer lâ€™expertise de lâ€™Insee sur les sujets <em>data science</em>.</p>
<p>Les principaux usages de cette plateforme sont les suivants :</p>
<ul>
<li>la formation ;</li>
<li>lâ€™organisation de hackathons ;</li>
<li>la mise Ã  disposition de services innovants et visualisations utilisant de lâ€™open data ;</li>
</ul>
<p>GrÃ¢ce Ã  la mise Ã  disposition de la solution <code>Onyxia</code> sur <code>Github</code>, il est nÃ©anmoins possible dâ€™adapter cette plateforme pour des <em>datalab</em> internes, sur donnÃ©es plus sensibles.</p>
<p>Lâ€™Insee nâ€™est donc dÃ©sormais plus seul et fÃ©dÃ¨re de nombreux acteurs autour de son projet. Fin 2021, <code>Eurostat</code> a Ã©tÃ© la premiÃ¨re organisation en dehors de lâ€™Insee Ã  choisir <code>Onyxia</code> pour construire son <a href="https://github.com/eurostat/datalab"><em>Cloud Agnostic Data Lab</em></a>. Expertise France pour le projet <code>DATAFID</code> a fait le choix dâ€™Onyxia tout comme le CASD, le GENES ou encore le <em>BercyHub</em> avec le projet <code>Nubonyxia</code>.</p>
<p>Dâ€™autres organisations sont plus dans une phase de POC ou dâ€™Ã©tude : lâ€™INS norvÃ©gien, Pole Emploi, Data4Good, le ministÃ¨re de lâ€™IntÃ©rieur, le ministÃ¨re de la Justice, lâ€™Inriaâ€¦</p>
<p>Dans le cadre du <a href="https://tosit.fr/">TOSIT</a>, association qui rÃ©unit de gros acteurs publics et privÃ©s autour de solutions <em>open source</em>, un certain nombre dâ€™entreprises sâ€™intÃ©ressent Ã  <code>Onyxia</code>.</p>
</section>
<section id="vidÃ©o-de-prÃ©sentation-donyxia" class="level2">
<h2 class="anchored" data-anchor-id="vidÃ©o-de-prÃ©sentation-donyxia">VidÃ©o de prÃ©sentation dâ€™<code>Onyxia</code></h2>
{{&lt; youtube zwKiO6LcIWE &gt;}}
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/zwKiO6LcIWE" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="rÃ©fÃ©rences" class="level2">
<h2 class="anchored" data-anchor-id="rÃ©fÃ©rences">RÃ©fÃ©rences</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-davenport2022data" class="csl-entry">
Davenport, Thomas H, and DJ Patil. 2022. <span>â€œIs Data Scientist Still the Sexiest Job of the 21st Century?â€</span> <em>Harvard Business Review</em>. <a href="https://hbr.org/2022/07/is-data-scientist-still-the-sexiest-job-of-the-21st-century">https://hbr.org/2022/07/is-data-scientist-still-the-sexiest-job-of-the-21st-century</a>.
</div>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>On peut ajouter que cette question nâ€™est pas exclusivement technologique. MÃªme sâ€™il est volontairement polÃ©mique, lâ€™article de <a href="https://motherduck.com/blog/big-data-is-dead/">Jordan Tigani â€œBig Data is Deadâ€</a> illustre bien le changement de paradigme du monde de la <em>tech</em>.â†©ï¸</p></li>
</ol>
</section></div> ]]></description>
  <category>Insee</category>
  <category>onyxia</category>
  <category>sspcloud</category>
  <guid>https://ssphub.netlify.app/post/onyxia/</guid>
  <pubDate>Wed, 10 May 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/post/onyxia/featured.png" medium="image" type="image/png" height="161" width="144"/>
</item>
<item>
  <title>Des innovations rapides sur lâ€™IA qui lancent un dÃ©bat sur sa place dans la sociÃ©tÃ© ; algorithme de recommandation de Twitter</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_13/</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<section id="actualitÃ©s-de-la-data-science" class="level1">
<h1>ActualitÃ©s de la data science</h1>
<section id="un-foisonnement-davancÃ©es" class="level2">
<h2 class="anchored" data-anchor-id="un-foisonnement-davancÃ©es">Un foisonnement dâ€™avancÃ©esâ€¦</h2>
<p>Lâ€™actualitÃ© des modÃ¨les dâ€™intelligence artificielle est trÃ¨s chargÃ©e (<a href="https://twitter.com/dustinvtran/status/1639159641635717120?t=tUqtzOHFvolL7MJef-M2Cw&amp;s=19">rÃ©sumÃ© des annonces du mois de mars</a>) et cette lettre se concentrera sur les actualitÃ©s majeures.</p>
<p><code>Github Copilot</code>, lâ€™assistant de code de <code>Microsoft</code>, devrait prochainement <a href="https://github.blog/2023-03-22-github-copilot-x-the-ai-powered-developer-experience/">utiliser <code>ChatGPT</code></a>. AprÃ¨s <code>ChatGPT</code>, le navigateur <code>Bing</code> sâ€™enrichit Ã©galement dâ€™un <a href="https://www.bing.com/create">crÃ©ateur dâ€™image</a> basÃ© sur <code>Dall-E</code>. Pendant ce temps, <code>Midjourney</code> (une des principales alternatives de crÃ©ation dâ€™images) sort sa <a href="https://www.lesnumeriques.com/intelligence-artificielle/midjourney-v5-est-disponible-comment-l-utiliser-n208168.html">V5</a>, amÃ©liorant encore le rÃ©alisme du rendu.</p>
<p>Face Ã  la recrudescence des montages utilisant <code>Midjourney</code>, quâ€™il sâ€™agisse de <em>deep fakes</em> ou dâ€™images Ã  vocation humoristique, <em>Le Monde</em> a publiÃ© un guide pour <a href="https://www.lemonde.fr/les-decodeurs/article/2023/03/30/comment-reconnaitre-une-image-generee-par-midjourney_6167525_4355770.html#xtor=AL-32280270-%5Bdefault%5D-%5Bios%5D">reconnaÃ®tre une image gÃ©nÃ©rÃ©e par une IA</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://preview.redd.it/pope-francis-goes-to-space-v0-7e9161rhoypa1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=75d424b86993ca3b081e4182e774b51b4b6d3bce" class="img-fluid figure-img"></p>
<figcaption>Exemple dâ€™image gÃ©nÃ©rÃ©e par IA (<em>source: <a href="https://www.reddit.com/r/midjourney/comments/1221l3j/pope_francis_goes_to_space/">Reddit</a></em>)</figcaption>
</figure>
</div>
</section>
<section id="qui-alimentent-les-dÃ©bats-autour-de-la-place-de-lia-dans-la-sociÃ©tÃ©-et-notre-Ã©conomie-numÃ©rique" class="level2">
<h2 class="anchored" data-anchor-id="qui-alimentent-les-dÃ©bats-autour-de-la-place-de-lia-dans-la-sociÃ©tÃ©-et-notre-Ã©conomie-numÃ©rique">â€¦ qui alimentent les dÃ©bats autour de la place de lâ€™IA dans la sociÃ©tÃ© et notre Ã©conomie numÃ©riqueâ€¦</h2>
<p>Alors que <code>ChatGPT</code> est dÃ©jÃ  utilisÃ© par plus de 100 millions dâ€™utilisateurs, seulement quatre mois aprÃ¨s sa sortie, il est lÃ©gitime de se poser la question, comme le fait <a href="https://www.linkedin.com/posts/gaspard-koenig-36b49647_je-persiste-et-signe-in-les-echos-du-jour-activity-7049265627668078592-Nzm5?utm_source=share&amp;utm_medium=member_desktop">Gaspard Koenig dans <em>Les Echos</em></a>, du rapport Ã  la vÃ©ritÃ© des IA gÃ©nÃ©ratrices et des implications sociÃ©tales de la gÃ©nÃ©ralisation de ces assistants.</p>
<p>Les prospectivistes, aprÃ¨s sâ€™Ãªtre consacrÃ©s au <em>bitcoin</em> et Ã  la <em>blockchain</em>, comme <a href="http://www.leseditionsdeminuit.fr/livre-La_Cl%C3%A9_USB-3304-1-1-0-1.html">Jean Detrez - le hÃ©ros de Jean Philippe Toussaint -</a>, commencent Ã  proposer des Ã©valuations des consÃ©quences Ã©conomiques de cette (r)Ã©volution. Dernier chiffre en date : dâ€™aprÃ¨s <a href="https://www.forbes.com/sites/jackkelly/2023/03/31/goldman-sachs-predicts-300-million-jobs-will-be-lost-or-degraded-by-artificial-intelligence/">Goldman Sachs</a>, 300 millions dâ€™emplois au niveau mondial pourraient Ãªtre supprimÃ©s ou amenÃ©s Ã  Ã©voluer.</p>
<p>Par ailleurs, la question de lâ€™ouverture des corpus ayant servi Ã  entraÃ®ner ces modÃ¨les ou de la licence Ã  rÃ©utiliser des modÃ¨les prÃ©-entraÃ®nÃ©s est importante Ã  plusieurs Ã©gards. Dâ€™abord, dans une perspective scientifique, il apparaÃ®t compliquÃ© dâ€™Ã©valuer la qualitÃ© dâ€™un modÃ¨le ou lui proposer des alternatives sans accÃ¨s Ã  des donnÃ©es scientifiques de base comme le nombre de paramÃ¨tres (inconnu pour GPT-4 par exemple). Mais câ€™est aussi une question Ã©conomique : si ces outils deviennent de plus en plus incontournables, quel sera le <em>business model</em> de ce secteur ? Ces services resteront-ils gratuits avec en contrepartie une rÃ©utilisation des donnÃ©es fournies, potentiellement opaque et difficilement contrÃ´lable par lâ€™utilisateur, ou seront-ils monÃ©tisÃ©s ?</p>
<p>La publication en <em>open source</em> de modÃ¨les de langage est donc un enjeu dâ€™indÃ©pendance pour les organisations intÃ©ressÃ©es par lâ€™utilisation de <em>chatbots</em> ou lâ€™extraction dâ€™information. Cette publication continue Ã  suivre un rythme presque quotidien. Cet <a href="https://arxiv.org/pdf/2301.04655.pdf">Ã©tat de lâ€™art des modÃ¨les publiÃ©s en open source</a> publiÃ© en janvier est dÃ©jÃ  largement dÃ©passÃ©. Et <a href="https://arxiv.org/pdf/2303.18223.pdf">celui-ci</a> ne sera probablement plus Ã  jour tout aussi rapidement.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_13/featured.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Dans la derniÃ¨re quinzaine, lâ€™une des principales annonces est la publication par <a href="https://laion.ai/blog/"><code>LAION</code></a> dâ€™<a href="https://laion.ai/blog/open-flamingo/"><code>OpenFlamingo</code></a>, une version <em>open source</em> de <a href="https://www.deepmind.com/blog/tackling-multiple-tasks-with-a-single-visual-language-model">Flamingo</a>, modÃ¨le dÃ©veloppÃ© par DeepMind (filiale de Google) pour dÃ©crire de maniÃ¨re automatique une scÃ¨ne prÃ©sente sur une image et offrir des informations contextuelles.</p>
<p>Afin de pouvoir intÃ©grer Ã  la fois des fonctionnalitÃ©s de reconnaissance dâ€™image et textuelle, celui-ci sâ€™appuie sur des composantes <em>open source</em> pour les modÃ¨les de langage et de reconnaissance dâ€™image et sur un jeu de donnÃ©es ouvertes. Des exemples de rÃ©utilisation en <code>Python</code> sont disponibles sur le <a href="https://github.com/mlfoundations/open_flamingo">dÃ©pÃ´t <code>Github</code></a>.</p>
<p>Dans le registre IA ouverte, une Ã©quipe de chercheurs de plusieurs universitÃ©s amÃ©ricaines a mis en oeuvre un <code>chatbot</code> ouvert, Ã  partir des modÃ¨les <code>LLaMA</code> (Meta, voir <a href="https://ssphub.netlify.app/infolettre/infolettre_11/">Newsletter #11</a>) ou <code>Alpaca</code> (Stanford) : <a href="https://vicuna.lmsys.org/"><code>Vicuna</code></a>. Ce chatbot gÃ©nÃ©raliste permet Ã  un internaute de discuter sur une grande variÃ©tÃ© de sujets. En plus de sâ€™appuyer sur des modÃ¨les ouverts, ce qui peut faciliter sa rÃ©-utilisation dans un cadre interne, ce <em>chat</em> prÃ©sente un avantage technique puisquâ€™il sâ€™appuie sur des modÃ¨les de langage plus Ã©conomes en ressources que les modÃ¨les type GPT-4.</p>
<p>Dans le mÃªme temps, <code>Databricks</code> sâ€™est Ã©galement appuyÃ© sur <code>LLaMA</code> et <code>Alpaca</code> pour proposer un autre modÃ¨le de langage ouvert avec lequel il est possible dâ€™Ã©changer. Ce modÃ¨le sâ€™appelle <a href="https://www.databricks.com/blog/2023/03/24/hello-dolly-democratizing-magic-chatgpt-open-models.html"><code>Dolly</code></a> et est pensÃ© comme premier clone du modÃ¨le <a href="https://github.com/tatsu-lab/stanford_alpaca"><code>Alpaca</code></a>. <code>Dolly</code> peut Ãªtre entrainÃ© en 30 minutes sur un corpus massif et ne prÃ©sente <em>â€œqueâ€</em> 6 milliards de paramÃ¨tres (quâ€™il hÃ©rite dâ€™<code>Alpaca</code>) ce qui en fait, dans lâ€™Ã©cosystÃ¨me actuel des modÃ¨les de langage (LLM), un nain : Ã  titre de comparaison <code>GPT-3</code> comporte 175 milliards de paramÃ¨tres et le nombre de paramÃ¨tres de <code>GPT-4</code> est inconnu mais pourrait Ãªtre de lâ€™ordre de la centaine de trillions.</p>
<p>Mozilla rejoint Ã©galement le bal en investissant 30 millions de dollars pour lancer la <em>startup</em> <a href="https://blog.mozilla.org/en/mozilla/introducing-mozilla-ai-investing-in-trustworthy-ai/">Mozilla.ai</a>. Pour Mozilla, cette startup sert Ã  adapter la philosophie Ã  lâ€™origine du navigateur Firefox au dÃ©veloppement dâ€™intelligences artificielles : proposer des outils ouverts indÃ©pendants des principaux acteurs marchands du numÃ©rique, sur le modÃ¨le des communs plutÃ´t que du bien privÃ©.</p>
<p>La question de la sÃ©curitÃ© et de la confidentialitÃ© des informations fournies Ã  <code>OpenAI</code> a Ã©galement Ã©tÃ© au centre de lâ€™attention au cours de la derniÃ¨re quinzaine. <code>OpenAI</code> a rÃ©vÃ©lÃ© une faille de sÃ©curitÃ© Ã  lâ€™origine dâ€™une <a href="https://twitter.com/OpenAI/status/1639297361729191936?t=j1gdTehqAT8OraZRC34iqg&amp;s=19">fuite de donnÃ©es</a>. Cette question de la confidentialitÃ© des informations fournies Ã  <code>ChatGPT</code> a dâ€™ailleurs amenÃ© la CNIL italienne Ã  demander le blocage temporaire de lâ€™outil dâ€™OpenAI (<a href="https://www.lefigaro.fr/secteur/high-tech/rgpd-la-cnil-italienne-bloque-temporairement-l-acces-au-robot-conversationnel-chatgpt-20230331">voir ici</a>).</p>
<p>Cette interdiction prend place dans un contexte de discussions intenses autour de la place Ã  venir dans nos sociÃ©tÃ©s de ces robots conversationnels. Une <a href="https://futureoflife.org/open-letter/pause-giant-ai-experiments/">lettre ouverte</a> au <a href="https://www.lemonde.fr/economie/article/2023/03/29/elon-musk-et-des-centaines-d-experts-reclament-une-pause-dans-le-developpement-de-l-ia_6167461_3234.html#xtor=AL-32280270-%5Bdefault%5D-%5Bios%5D">fort Ã©cho mÃ©diatique</a> publiÃ©e par des figures de la <em>tech</em> (dont Elon Musk) et des universitaires rÃ©clame un moratoire dans le dÃ©veloppement de nouveaux modÃ¨les dâ€™intelligence artificielle, dont les signataires soulignent Ã  quel point il est difficile de les <em>â€œcomprendre, prÃ©dire ou contrÃ´ler de maniÃ¨re fiableâ€</em>.</p>
<p>Cette lettre a Ã©tÃ© rapidement critiquÃ©e. En premier lieu par <a href="https://twitter.com/AndrewYNg/status/1641121451611947009?t=VyRYGWCjBeOxFOr0-bIJcQ&amp;s=19">Andrew Ng</a> qui souligne quâ€™en plus de lâ€™impossibilitÃ© pratique de mettre en oeuvre un tel moratoire dans le cadre dâ€™une recherche privÃ©e, ce type de sursis retarde la recherche sur des applications bÃ©nÃ©fiques, notamment dans le domaine de la santÃ©. Mais la critique est aussi venue de <a href="https://www.dair-institute.org/blog/letter-statement-March2023">Timnit Gebru (DAIR), Emily Bender (University of Washington), Angelina McMillan-Major (University of Washington) et Margaret Mitchell (Hugging Face)</a>, autrices citÃ©es dans la lettre en rÃ©fÃ©rence au concept de <em><a href="https://dl.acm.org/doi/abs/10.1145/3442188.3445922">â€œStochastic Parrotsâ€</a></em> (les modÃ¨les de langage rÃ©pÃ¨tent des sÃ©quences de formes linguistiques comme des ensemble de mots observÃ©s dans les corpus dâ€™apprentissage, en fonction de critÃ¨res probabilistes sur la faÃ§on dont ces informations se combinent, mais sans aucune rÃ©fÃ©rence au sens).</p>
</section>
<section id="mais-ne-nous-font-pas-oublier-certaines-autres-nouveautÃ©s-dignes-dintÃ©rÃªt" class="level2">
<h2 class="anchored" data-anchor-id="mais-ne-nous-font-pas-oublier-certaines-autres-nouveautÃ©s-dignes-dintÃ©rÃªt">â€¦ mais ne nous font pas oublier certaines autres nouveautÃ©s dignes dâ€™intÃ©rÃªt</h2>
<p>Lâ€™intensitÃ© de lâ€™actualitÃ© autour de <code>ChatGPT</code> occulte beaucoup de faits qui auraient, dans un autre contexte, amenÃ© Ã  des discussions passionnÃ©es.</p>
<p>Ainsi, la <a href="https://www.lesechos.fr/tech-medias/medias/elon-musk-ouvre-une-partie-de-twitter-en-open-source-les-annonceurs-mefiants-1921111">publication en open source de lâ€™algorithme de recommandation de Twitter</a> permet de mieux comprendre la maniÃ¨re dont fonctionne lâ€™<a href="https://www.theverge.com/2023/3/31/23664849/twitter-releases-algorithm-musk-open-source">algorithme de recommandation</a> de <code>Twitter</code>, notamment la maniÃ¨re dont des <a href="https://www.cnil.fr/fr/definition/bulle-de-filtre">bulles de filtre</a> peuvent advenir aprÃ¨s avoir cliquÃ© sur un <em>post</em> par curiositÃ©.</p>
<p>La publication de ce code prend place quelques jours aprÃ¨s la dÃ©couverte quâ€™une partie importante du code de <code>Twitter</code> Ã©tait <a href="https://www.theverge.com/2023/3/27/23657928/twitter-source-code-leak-github">dÃ©jÃ  sur <code>Github</code></a>, sans doute suite Ã  une fuite aprÃ¨s lâ€™un des licenciements massifs des derniers mois.</p>
<p>Peut-Ãªtre nâ€™avez-vous pas remarquÃ© mais Twitter nâ€™a plus le mÃªme logo depuis lundi. Lâ€™oiseau bleu a Ã©tÃ© remplacÃ© par un chien (un Shiba Inu), logo dâ€™une cryptomonnaie, le <em>dogecoin</em>, dont Elon Musk avait fait une <a href="https://gizmodo.com/elon-musk-crypto-dogecoin-tesla-1850293273">promotion controversÃ©e</a> et dont les cours ont <a href="https://techcrunch.com/2023/04/03/twitters-new-dog-icon-is-sending-dogecoin-sigh-to-the-moon/?guccounter=1&amp;guce_referrer=aHR0cHM6Ly90LmNvLw&amp;guce_referrer_sig=AQAAAJNxrMnEUPBmdQSt0itSK2mkXlYk2q2oU6Xlfk4DvUuTbtY0ycbsOICeiE4h9nfrCDw7vMehvG9RnBo3-AtvTmylVThzobsrraE27Rr-5pKjCdFf6fp97WB-dWGKoIxuYhipoFCua_PzoJG8x1PR5STbJqGbZqXhmos0IdWM26Rr">connu une envolÃ©e depuis</a>.</p>
<p>Le logiciel de crÃ©ation dâ€™applications <a href="https://fr.wikipedia.org/wiki/Docker_(logiciel)"><code>Docker</code></a> (principal logiciel de <a href="https://www.redhat.com/fr/topics/cloud-native-apps/what-is-containerization">conteneurisation</a>) noue un <a href="https://www.docker.com/blog/docker-and-hugging-face-partner-to-democratize-ai/">partenariat</a> avec <a href="https://huggingface.co/"><code>HuggingFace</code></a>, qui rassemble une immense bibliothÃ¨que de modÃ¨les, pour faciliter la rÃ©utilisation de modÃ¨les de <em>deep learning</em>. Avec cette approche, il est plus facile de proposer aux rÃ©-utilisateurs de modÃ¨les des applications prÃªtes Ã  lâ€™emploi pour tester ou enrichir un modÃ¨le sur des infrastructures compatibles avec la technique de la conteneurisation, approche utilisÃ©e par les principales plateformes de <em>data science</em> modernes (notamment par celles sâ€™appuyant sur le logiciel <a href="https://ssphub.netlify.app/post/onyxia/"><code>Onyxia</code></a>).</p>
<p>La plateforme <code>Observable</code> propose un <a href="https://observablehq.com/@observablehq/data-wrangling-translations">comparatif</a> des principales syntaxes de manipulation de donnÃ©es (<code>JavaScript</code>, <code>Python</code>, <code>R</code> et <code>SQL</code>).</p>
<p>Enfin, si vous apprÃ©ciez les cartes, un <em>hashtag</em> Ã  suivre est le <a href="https://twitter.com/hashtag/MapPromptMonday">#MapPromptMonday</a>.</p>
</section>
</section>
<section id="actualitÃ©s-du-rÃ©seau-Ã©vÃ©nements-Ã -venir" class="level1">
<h1>ActualitÃ©s du rÃ©seau: Ã©vÃ©nements Ã  venir</h1>
<p>Place aux actualitÃ©s de notre rÃ©seau avec les prochains Ã©vÃ©nements que nous organisons.</p>
<section id="premiÃ¨re-journÃ©e-du-rÃ©seau-le-17-avril" class="level2">
<h2 class="anchored" data-anchor-id="premiÃ¨re-journÃ©e-du-rÃ©seau-le-17-avril">PremiÃ¨re journÃ©e du rÃ©seau le 17 avril</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_13/treso.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:30.0%"></p>
</figure>
</div>
<p>Nous rappelons la <strong>journÃ©e du rÃ©seau le 17 avril, en prÃ©sentiel</strong> ğŸ“… (<a href="https://ssphub.netlify.app/infolettre/infolettre_12/"><em>Newsletter #12</em></a>). Les places en prÃ©sentiel sont presque Ã©puisÃ©es, ne tardez pas Ã  vous inscrire ! Si vous dÃ©sirez tout de mÃªme suivre les Ã©changes, inscrivez-vous Ã  la retransmission par Zoom.</p>
</section>
<section id="les-masterclass-avec-datascientest-continuent" class="level2">
<h2 class="anchored" data-anchor-id="les-masterclass-avec-datascientest-continuent">Les masterclass avec <code>DataScientest</code> continuent</h2>
<p>Nos cycles de <em>masterclass</em> <code>datascientest</code> continuent ! Les cycles parallÃ¨les NLP et analyse dâ€™image continuent.</p>
<p>Au programme:</p>
<ul>
<li>Analyse dâ€™image, niveau confirmÃ© (ğŸ“… 14 avril, 10h-12h )</li>
<li>NLP, niveau avancÃ© (ğŸ“… 12 mai, 10h-12h )</li>
<li>Analyse dâ€™image, niveau avancÃ© (ğŸ“… 9 juin, 10h-12h )</li>
</ul>
<p>Inscription <a href="https://framaforms.org/participation-aux-masterclass-datascientest-2e-serie-1680103227">ici</a> !</p>
</section>
</section>
<section id="actualitÃ©s-du-rÃ©seau-derniÃ¨res-nouveautÃ©s" class="level1">
<h1>ActualitÃ©s du rÃ©seau: derniÃ¨res nouveautÃ©s</h1>
<section id="replay-bonnes-pratiques-pour-la-mise-en-production-de-projets-data-science-30-mars" class="level2">
<h2 class="anchored" data-anchor-id="replay-bonnes-pratiques-pour-la-mise-en-production-de-projets-data-science-30-mars">Replay â€œBonnes pratiques pour la mise en production de projets <em>data science</em>â€ (30 mars)</h2>
<p>Le replay de la prÃ©sentation succincte du contenu du cours de lâ€™ENSAE <a href="https://ensae-reproductibilite.netlify.app/">â€œBonnes pratiques pour la mise en production de projets <em>data science</em>â€</a> ayant eu lieu dans le cadre du programme 10% (voir <a href="https://ssphub.netlify.app/infolettre/infolettre_12/"><em>Newsletter #12</em></a>) est disponible <a href="https://bbb-dinum-scalelite.visio.education.fr/playback/presentation/2.3/871ab1ad6290d683201d2996582dffe96174d9a6-1680176731865">sur le site du programme 10%</a>.</p>
</section>
<section id="replay-de-lÃ©vÃ©nement-autour-de-locrisation-avec-christopher-kermorvant-29-mars" class="level2">
<h2 class="anchored" data-anchor-id="replay-de-lÃ©vÃ©nement-autour-de-locrisation-avec-christopher-kermorvant-29-mars">Replay de lâ€™Ã©vÃ©nement autour de lâ€™OCRisation avec Christopher Kermorvant (29 mars)</h2>
<p><a href="https://www.linkedin.com/in/christopher-kermorvant-87158b2/?originalSubdomain=fr">Christopher Kermorvant</a>, chercheur spÃ©cialisÃ© en OCRisation et fondateur de <a href="https://teklia.com/">Teklia</a>, a proposÃ© au rÃ©seau une prÃ©sentation trÃ¨s pÃ©dagogique sur lâ€™extraction de texte avec des mÃ©thodes de <em>deep learning</em>.</p>
<p>A partir de lâ€™exemple de recensements de la fin du XIXe siÃ¨cle, nous avons ainsi bÃ©nÃ©ficiÃ© dâ€™une excellente introduction Ã  lâ€™histoire des techniques dâ€™OCRisation et la maniÃ¨re dont aujourdâ€™hui ces modÃ¨les fonctionnent en associant reconnaissance dâ€™image et analyse textuelle.</p>
<p>Le replay est <a href="https://ssphub.netlify.app/talk/ocrisation-teklia/">ici</a> !</p>
</section>
<section id="replay-de-la-prÃ©sentation-de-la-documentation-collaborative-carpentries-28-mars" class="level2">
<h2 class="anchored" data-anchor-id="replay-de-la-prÃ©sentation-de-la-documentation-collaborative-carpentries-28-mars">Replay de la prÃ©sentation de la documentation collaborative <em>Carpentries</em> (28 mars)</h2>
<p>Kate Burnett-Isaacs, de Statistics Canada, nous a prÃ©sentÃ© lâ€™initiative Meta Academy / Carpentries permettant de construire une documentation francophone de rÃ©fÃ©rence sur <code>R</code>, <code>Python</code> et <code>Git</code> Ã  destination des utilisateurs de donnÃ©es.</p>
<p>Le replay est <a href="https://ssphub.netlify.app/talk/presentation-du-projet-meta-academy-carpentries/">ici</a> !</p>


</section>
</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_13/</guid>
  <pubDate>Sat, 01 Apr 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_13/featured.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Tapis rouge et graph de lâ€™Insee ; questionnement sur lâ€™IA ; faillite dans la Silicon Valley</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_12/</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>Du fait de la densitÃ© des actualitÃ©s dans le monde de la <em>data science</em> et des multiples Ã©vÃ©nements Ã  venir dans le cadre de ce rÃ©seau, nous proposons dâ€™accÃ©lÃ©rer le rythme de publication des <em>newsletters</em>. <br></p>
<section id="actualitÃ©s-de-la-data-science" class="level1">
<h1>ActualitÃ©s de la data science</h1>
<section id="la-charte-graphique-de-linsee-sur-le-tapis-rouge" class="level2">
<h2 class="anchored" data-anchor-id="la-charte-graphique-de-linsee-sur-le-tapis-rouge">La charte graphique de lâ€™Insee sur le tapis rouge</h2>
<p>La semaine derniÃ¨re avait lieu la cÃ©rÃ©monie des Oscars. GrÃ¢ce Ã  un <a href="https://twitter.com/claradealberto/status/1635310454628298753">fil de Clara Dealberto</a>, on peut mesurer lâ€™influence des graphistes de lâ€™Insee sur les stylistes des stars :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_12/oscars.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Tweet de Clara Dealberto</figcaption>
</figure>
</div>
<p>Le <a href="https://twitter.com/claradealberto/status/1635310454628298753?s=20">fil</a>, qui met Ã  lâ€™honneur lâ€™Insee, vaut le dÃ©tour ; nâ€™hÃ©sitez pas Ã  le consulter ! Ou Ã  dÃ©couvrir celui sur le <a href="https://twitter.com/claradealberto/status/1521417299210686464"><em>Met Gala</em></a>.</p>
</section>
<section id="chatgpt-encore-et-toujours" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-encore-et-toujours">ChatGPT encore et toujours</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/retrospective2022/featured.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p><code>ChatGPT</code> continue de focaliser lâ€™attention. Dans la veine de lâ€™article dÃ©signant les modÃ¨les de langages sous le terme de <a href="https://dl.acm.org/doi/10.1145/3442188.3445922"><em>â€œstochastic parrotsâ€</em></a> (â€œperroquets stochastiquesâ€), Arthur Charpentier parle lui de <a href="https://freakonometrics.hypotheses.org/66144">â€œsociÃ©tÃ© du bullshitâ€</a> pour dÃ©signer la maniÃ¨re dont <code>ChatGPT</code> offre, sous un raisonnement en apparence logique, de maniÃ¨re indiffÃ©renciÃ©e des absurditÃ©s et des vÃ©ritÃ©s.</p>
<p>EspÃ©rons que lorsque <code>ChatGPT</code> sera <a href="https://arstechnica.com/cars/2023/03/gm-plans-to-let-you-talk-to-your-car-with-chatgpt-knight-rider-style/">embarquÃ© dans les voitures <em>General Motors</em></a>, il ne nous donnera pas de fausse indication pour changer un pneu ou ne se retournera pas contre le conducteur comme le ferait HAL 9000.</p>
<p>Un article intÃ©ressant de <a href="https://www.wired.com/story/the-generative-ai-search-race-has-a-dirty-secret/">Wired</a> questionne dâ€™ailleurs lâ€™empreinte carbone que pourrait impliquer la gÃ©nÃ©ralisation des modÃ¨les de langage dans les moteurs de recherche, qui font face Ã  des milliards de requÃªtes quotidiennes.</p>
<p>Au moment oÃ¹ <code>OpenAI</code> rend public <a href="https://openai.com/product/gpt-4">GPT-4</a>, une version plus riche de son modÃ¨le <code>GPT-3</code> qui servait de base Ã  <code>ChatGPT</code>, lâ€™un des cofondateurs dâ€™<code>OpenAI</code> revient sur la stratÃ©gie dâ€™ouverture (ou plutÃ´t lâ€™absence dâ€™ouverture) dâ€™<code>OpenAI</code> : <em>â€œNous avions tordâ€</em> (<a href="https://www.theverge.com/2023/3/15/23640180/openai-gpt-4-launch-closed-research-ilya-sutskever-interview">voir <em>The Verge</em></a>). Hasard du calendrier, cette dÃ©claration a eu lieu presque au mÃªme moment que la publication dâ€™un robot conversationnel ouvert <a href="https://www.together.xyz/blog/openchatkit"><code>OpenChatKit</code></a>. La concurrence est nÃ©anmoins Ã¢pre puisquâ€™une Ã©quipe de Microsoft a dÃ©jÃ  proposÃ© lâ€™intÃ©gration Ã  <code>ChatGPT</code> dâ€™un module permettant dâ€™interagir avec <code>ChatGPT</code> Ã©galement par le <a href="https://www.linkedin.com/posts/thomas-wolf-a056857_ai-opensource-chatgpt-activity-7040347000814383104-eCXz/?utm_source=share&amp;utm_medium=member_android">biais dâ€™images</a>.</p>
</section>
<section id="des-turbulences-dans-la-silicon-valley" class="level2">
<h2 class="anchored" data-anchor-id="des-turbulences-dans-la-silicon-valley">Des turbulences dans la Silicon Valley</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_12/bank_failures.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Une infographie des faillites bancaires par Mike Bostock. Source: <a href="https://observablehq.com/@mbostock/bank-failures">Notebook Observable</a></figcaption>
</figure>
</div>
<p>Lâ€™autre actualitÃ© phare des quinze derniers jours est la faillite de la <em>Silicon Valley Bank</em>. Aux Etats-Unis, il sâ€™agit de la plus principale faillite bancaire depuis 2008 aux Etats-Unis.</p>
<p>La Fed est rapidement intervenue pour endiguer la panique bancaire, mÃªme si la banque Ã©tait en fait dÃ©jÃ  dans ses radars bien avant sa faillite (<a href="https://www.nytimes.com/2023/03/19/business/economy/fed-silicon-valley-bank.html">voir NYT</a>).</p>
</section>
<section id="retour-sur-les-Ã©volutions-rÃ©centes-du-monde-de-la-data-science" class="level2">
<h2 class="anchored" data-anchor-id="retour-sur-les-Ã©volutions-rÃ©centes-du-monde-de-la-data-science">Retour sur les Ã©volutions rÃ©centes du monde de la data science</h2>
<p>Le <a href="https://mattturck.com/mad2023/">panorama technologique 2023 de Matt Turck</a> confirme la tendance Ã  la diversification des technologies Ã  maÃ®triser pour mener un projet de <em>data science</em>. Cette complexification des outils et des rÃ´les dans lâ€™Ã©cosystÃ¨me de la donnÃ©e, Ã©voquÃ©e dans lâ€™article <a href="https://hbr.org/2022/07/is-data-scientist-still-the-sexiest-job-of-the-21st-century"><em>â€œIs Data Scientist Still the Sexiest Job of the 21st Century?â€</em></a>, est ici confirmÃ©e.</p>
<p>Les derniers sondages auprÃ¨s des recruteurs amÃ©ricains montrent la popularitÃ© des <em>data engineers</em>, plus spÃ©cialisÃ©s que les <em>data scientists</em> dans la mise en oeuvre dâ€™infrastructures techniques pour valoriser des donnÃ©es. Le profil de <em>data engineer</em> apparaÃ®t en deuxiÃ¨me place dans le classement des profils les plus recherchÃ©s par les recruteurs alors que les <em>data scientists</em> nâ€™apparaissent plus dans les premiÃ¨res places du classement.</p>
</section>
<section id="le-big-data-nest-pas-mort" class="level2">
<h2 class="anchored" data-anchor-id="le-big-data-nest-pas-mort">Le big data nâ€™est pas mort</h2>
<p>Une <a href="https://ponder.io/big-data-is-dead-long-live-big-data/">rÃ©ponse intÃ©ressante</a> Ã  lâ€™article <em>â€œBig data is deadâ€</em> (<a href="https://ssphub.netlify.app/infolettre/infolettre_11/">voir Newsletter #11</a>) revient sur lâ€™intÃ©rÃªt de disposer de donnÃ©es historiques longues pour lâ€™entrainement de modÃ¨les dâ€™apprentissage.</p>
</section>
<section id="r-directement-dans-le-navigateur" class="level2">
<h2 class="anchored" data-anchor-id="r-directement-dans-le-navigateur"><code>R</code> directement dans le navigateur</h2>
<p>Avec un peu de retard sur <a href="https://github.com/pyodide/pyodide"><code>Python</code></a>, il devient maintenant possible de faire du <code>R</code> directement depuis le navigateur web, câ€™est-Ã -dire sans installation du logiciel <code>R</code>, grÃ¢ce Ã  <a href="https://www.tidyverse.org/blog/2023/03/webr-0-1-0/"><code>WebR</code></a>. Cette approche est typique du <em>Web Assembly</em> oÃ¹ les langages de programmation sont directement utilisÃ©s depuis le navigateur, sans installation prÃ©alable.</p>
</section>
</section>
<section id="actualitÃ©s-du-rÃ©seau-Ã©vÃ©nements-Ã -venir" class="level1">
<h1>ActualitÃ©s du rÃ©seau: Ã©vÃ©nements Ã  venir</h1>
<p>Place aux actualitÃ©s de notre rÃ©seau avec les prochains Ã©vÃ©nements que nous organisons.</p>
<section id="premiÃ¨re-journÃ©e-du-rÃ©seau-en-avril-17-avril" class="level2">
<h2 class="anchored" data-anchor-id="premiÃ¨re-journÃ©e-du-rÃ©seau-en-avril-17-avril">PremiÃ¨re journÃ©e du rÃ©seau en avril (17 avril)</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_12/treso.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:30.0%"></p>
</figure>
</div>
<p>DÃ©jÃ  annoncÃ©e dans la <a href="https://ssphub.netlify.app/infolettre/infolettre_11/"><em>Newsletter #11</em></a>, nous rappelons la <strong>journÃ©e du rÃ©seau le 17 avril, en prÃ©sentiel</strong> ğŸ“….</p>
<p>Le nombre de places dans lâ€™espace Ã  disposition Ã©tant limitÃ©, une invitation par mail et un lien dâ€™inscription seront communiquÃ©s dans la semaine pour pouvoir participer Ã  cet Ã©vÃ©nement en prÃ©sentiel dans le tiers-lieu <a href="https://www.latreso.fr/">la TrÃ©so</a> Ã  Malakoff.</p>
</section>
<section id="bonnes-pratiques-en-python-prÃ©sentation-lors-des-ateliers-du-programme-10-30-mars" class="level2">
<h2 class="anchored" data-anchor-id="bonnes-pratiques-en-python-prÃ©sentation-lors-des-ateliers-du-programme-10-30-mars">Bonnes pratiques en <code>Python</code> : prÃ©sentation lors des ateliers du programme 10% (30 mars)</h2>
<p>Dans le cadre du programme 10%, des prÃ©sentations ont lieu avant certains ateliers de travail sur les projets communautaires.</p>
<p>La prochaine prÃ©sentation, qui aura lieu le <strong>jeudi 30 mars de 14h Ã  15h ğŸ“…</strong>, sera donnÃ©e par des membres du rÃ©seau. Elle portera sur une prÃ©sentation des outils favorisant les bonnes pratiques de dÃ©veloppement en <code>Python</code> et de lâ€™intÃ©rÃªt de ces bonnes pratiques pour faciliter la mise en production de projets de <em>data science</em>. Il sâ€™agira dâ€™une prÃ©sentation succincte du contenu du cours de lâ€™ENSAE <a href="https://ensae-reproductibilite.netlify.app/">â€œBonnes pratiques et mise en production de projets data scienceâ€</a>.</p>
<p>Plus dâ€™infos Ã  venir par le biais du canal <code>Tchap</code> de notre rÃ©seau.</p>
</section>
<section id="un-Ã©vÃ©nement-autour-de-locrisation-avec-christopher-kermorvant-29-mars" class="level2">
<h2 class="anchored" data-anchor-id="un-Ã©vÃ©nement-autour-de-locrisation-avec-christopher-kermorvant-29-mars">Un Ã©vÃ©nement autour de lâ€™OCRisation avec Christopher Kermorvant (29 mars)</h2>
<p>Le <strong>mercredi 29 mars de 15h Ã  16h ğŸ“…</strong> nous recevons <a href="https://www.linkedin.com/in/christopher-kermorvant-87158b2/?originalSubdomain=fr">Christopher Kermorvant</a>, chercheur spÃ©cialisÃ© en OCRisation et fondateur de <a href="https://teklia.com/">Teklia</a>. Christopher mÃ¨ne actuellement plusieurs projets de numÃ©risation de textes anciens, notamment dâ€™OCRisation de vieux recensements avec lâ€™INED.</p>
<p>Pendant cet Ã©vÃ©nement, Christopher nous fera un Ã©tat de lâ€™art de lâ€™OCRisation puis nous prÃ©sentera des projets quâ€™il a pu mener rÃ©cemment avec Teklia.</p>
<p>Il est possible de suivre la prÃ©sentation via <a href="https://insee-fr.zoom.us/j/99414476694?pwd=NTg2UTl4TUdzMi9TOGk5QzdKOUZjdz09"><strong>Zoom</strong></a> ou, pour les personnes prÃ©sentes Ã  lâ€™Insee, en <strong>2-C-496</strong>.</p>
</section>
<section id="prÃ©sentation-de-la-documentation-collaborative-carpentries-28-mars" class="level2">
<h2 class="anchored" data-anchor-id="prÃ©sentation-de-la-documentation-collaborative-carpentries-28-mars">PrÃ©sentation de la documentation collaborative <em>Carpentries</em> (28 mars)</h2>
<p>Pour rappel, Kate Burnett-Isaacs, de Statistics Canada, nous prÃ©sentera lâ€™initiative Meta Academy / Carpentries le <strong>mardi 28 mars Ã  15h</strong> ğŸ“…. Plus de dÃ©tails dans la <a href="https://ssphub.netlify.app/infolettre/infolettre_11/"><em>Newsletter #11</em></a>.</p>
<p><strong><a href="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2023-03-carpentries/carpentries.ics">Invitation <code>Outlook</code> ici</a></strong>.</p>
</section>
</section>
<section id="actualitÃ©s-du-rÃ©seau-derniÃ¨res-nouveautÃ©s" class="level1">
<h1>ActualitÃ©s du rÃ©seau: derniÃ¨res nouveautÃ©s</h1>
<section id="post-de-blog-sur-polars" class="level2">
<h2 class="anchored" data-anchor-id="post-de-blog-sur-polars">Post de blog sur <code>Polars</code></h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_12/polar.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p>Pour faire suite Ã  la <a href="https://ssphub.netlify.app/infolettre/infolettre_11/"><em>Newsletter #11</em></a> qui prÃ©sentait lâ€™Ã©cosystÃ¨me autour du package <a href="https://www.pola.rs/"><code>Python</code> <code>Polars</code></a>, Romain Tailhurat (Insee) nous propose un <a href="https://ssphub.netlify.app/post/polars/">post de blog</a> pour dÃ©couvrir ce <em>package</em>.</p>
<p>Celui-ci est accompagnÃ© par un tutoriel pas-Ã -pas pour dÃ©couvrir les principales fonctionnalitÃ©s de la librairie. Il est possible de tester le <em>notebook</em> en un seul clic sur le <code>SSP Cloud</code> ou sur <code>Google Colab</code>.</p>
<p>Vous pouvez Ã©galement retrouver ce tutoriel depuis lâ€™<a href="https://www.sspcloud.fr/formation">espace formation</a> du SSP Cloud.</p>


</section>
</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_12/</guid>
  <pubDate>Wed, 15 Mar 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_12/oscars.png" medium="image" type="image/png" height="121" width="144"/>
</item>
<item>
  <title>ChatGPT continue de faire parler ; Arrow et Polars pour le traitement de donnÃ©es tabulaires ; lâ€™API Huggingface accessible depuis un navigateur web</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_11/</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Lâ€™inscription se fait <a href="https://grist.numerique.gouv.fr/o/ssphub/forms/jSjAV3L2F8mmiRVuVEpfF7/103">ici</a>.</em></strong></p>
</div>
</div>
<p>Ce numÃ©ro reprend le format expÃ©rimentÃ© Ã  la fin de lâ€™annÃ©e 2022: un rÃ©sumÃ© des derniÃ¨res actualitÃ©s du monde de la <em>data science</em> prÃ©cÃ¨de la prÃ©sentation plus classique des nouvelles du rÃ©seau.</p>
<section id="actualitÃ©s-de-la-data-science" class="level1">
<h1>ActualitÃ©s de la data science</h1>
<section id="chatgpt-continue-de-faire-parler" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-continue-de-faire-parler">ChatGPT continue de faire parler</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/retrospective2022/featured.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p>Lâ€™actualitÃ© est encore largement dominÃ©e par les discussions autour de <code>ChatGPT</code>. Les dÃ©bats continuent notamment sur la pertinence de ce type dâ€™outil dans lâ€™enseignement (<a href="https://www.telerama.fr/enfants/chatgpt-a-l-ecole-et-si-c-etait-bien-7014474.php">cf.&nbsp;TÃ©lÃ©rama</a>). Lâ€™article du <a href="https://www.newyorker.com/tech/annals-of-technology/chatgpt-is-a-blurry-jpeg-of-the-web?utm_campaign=Data_Elixir&amp;utm_source=Data_Elixir_424"><em>New Yorker</em> â€œChatGPT is a blurry JPEG of the webâ€</a> propose une analyse en profondeur de la maniÃ¨re dont les modÃ¨les de langage reconstruisent des rÃ©ponses originales en mÃ©langeant des corpus rencontrÃ©s lors de la phase dâ€™entraÃ®nement.</p>
<p>Alors quâ€™il est difficile dâ€™avoir des informations sur le corpus de <code>ChatGPT</code> ou les mÃ©thodes dâ€™apprentissage mises en oeuvre, des dÃ©veloppeurs ont mis en place de nombreux chatbots thÃ©matiques sur https://beta.character.ai/ sâ€™appuyant sur des modÃ¨les de langage ouverts.</p>
<p>Ce mois-ci, Facebook-Meta est Ã©galement rentrÃ© dans la danse avec son <a href="https://ai.facebook.com/blog/large-language-model-llama-meta-ai/">modÃ¨le <code>LLaMa</code></a>, ouvert aux chercheurs et ayant vocation Ã  fonctionner sur des installations moins gourmandes en ressources que les modÃ¨les <code>GPT</code> ou <a href="https://ai.googleblog.com/2022/04/pathways-language-model-palm-scaling-to.html"><code>PaLM</code></a>.</p>
<p>A peine deux mois aprÃ¨s le lancement tonitruant de <code>ChatGPT</code>, et la crÃ©ation dâ€™un <em><a href="https://www.nytimes.com/2022/12/21/technology/ai-chatgpt-google-search.html">â€œcode rougeâ€</a></em> du cÃ´tÃ© de <code>Google</code>, le <a href="https://www.lemonde.fr/economie/article/2023/02/22/les-rates-du-robot-conversationnel-de-microsoft-sur-bing_6162869_3234.html">lancement difficile</a> par Microsoft dâ€™une version de test de son robot conversationnel dans son navigateur <code>Bing</code> montre que lâ€™intÃ©gration Ã  un moteur de recherche traditionnel nâ€™est pas Ã©vidente, notamment pour Ã©viter la diffusion de fausses informations. Alors que <code>ChatGPT</code> avait bÃ©nÃ©ficiÃ© dâ€™un gros travail humain pour <a href="https://time.com/6247678/openai-chatgpt-kenya-workers/">cadrer son comportement</a>, il semblerait que lâ€™IA de Bing soit moins consensuelle dans ses propos.</p>
<p>Pendant ce temps, la recherche sur les modÃ¨les de diffusion continue Ã  avancer Ã  grande vitesse. La derniÃ¨re innovation est la capacitÃ© Ã  <a href="https://sites.google.com/view/stablediffusion-with-brain/">reconstruire des images Ã  partir dâ€™IRM de lâ€™activitÃ© du cerveau</a> grÃ¢ce au modÃ¨le <code>Stable Diffusion</code>.</p>
</section>
<section id="traitement-de-donnÃ©es-tabulaires-arrow-et-polars-au-centre-du-jeu" class="level2">
<h2 class="anchored" data-anchor-id="traitement-de-donnÃ©es-tabulaires-arrow-et-polars-au-centre-du-jeu">Traitement de donnÃ©es tabulaires: <code>Arrow</code> et <code>Polars</code> au centre du jeu</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_11/polars-arrow.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p>Du cÃ´tÃ© des donnÃ©es tabulaires plus traditionnelles, Apache <code>Arrow</code> continue de sâ€™affirmer comme un incontournable.</p>
<p>La version 2.0 de <code>Pandas</code> qui vient de sortir permet de plus facilement sâ€™appuyer, en arriÃ¨re-plan, sur <code>Arrow</code> plutÃ´t que <code>Numpy</code> qui offre des performances et des fonctionnalitÃ©s limitÃ©es sur donnÃ©es non numÃ©riques (cf.&nbsp;<a href="https://datapythonista.me/blog/pandas-20-and-the-arrow-revolution-part-i">https://datapythonista.me</a>). Il sâ€™agissait dâ€™une des limites majeures de <code>Pandas</code>, identifiÃ©es dÃ¨s 2017 par son crÃ©ateur Wes McKinney (<a href="https://wesmckinney.com/blog/apache-arrow-pandas-internals/">voir ici</a>) qui est Ã©galement trÃ¨s impliquÃ© dans le dÃ©veloppement dâ€™Apache <code>Arrow</code>.</p>
<p>La librairie <a href="https://www.pola.rs/"><code>Polars</code></a> connait une certaine <a href="https://airbyte.com/blog/pandas-2-0-ecosystem-arrow-polars-duckdb#the-alternatives"><em>hype</em></a> et va sans doute devenir dans les mois Ã  venir une librairie incontournable, en alternative Ã  <code>Pandas</code>. La <a href="https://duckdb.org/2023/02/13/announcing-duckdb-070.html">derniÃ¨re version de <code>DuckDB</code></a> (sortie mi-fÃ©vrier) renforce lâ€™interconnexion entre ces deux Ã©cosystÃ¨mes (<a href="https://duckdb.org/docs/guides/python/polars.html">exemples</a>). Si vous voulez en savoir plus sur <code>Polars</code>, il est recommandÃ© de suivre lâ€™Ã©volution de la liste <em><a href="https://github.com/ddotta/awesome-polars">â€œAwesome Polarsâ€</a></em> faite par Damien Dotta (relayÃ©e par la trÃ¨s bonne <em>newsletter</em> du site <a href="https://dataelixir.com/">Data Elixir</a>) et de lire le <em>post</em> Ã  venir prochainement sur le blog de notre rÃ©seau.</p>
<p>Par ailleurs, lâ€™article de Jordan Tigani <a href="https://motherduck.com/blog/big-data-is-dead/?utm_campaign=Data_Elixir&amp;utm_source=Data_Elixir_424">â€œBig data is deadâ€</a> vaut le dÃ©tour.</p>
</section>
<section id="huggingface.js-lapi-dhuggingface-directement-accessible-depuis-un-navigateur-web" class="level2">
<h2 class="anchored" data-anchor-id="huggingface.js-lapi-dhuggingface-directement-accessible-depuis-un-navigateur-web"><code>Huggingface.js</code>: lâ€™API dâ€™<code>HuggingFace</code> directement accessible depuis un navigateur web</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_11/hf-js.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p><code>Huggingface</code> et <code>Observable</code> sont chacun devenus des incontournables dans leur domaine (voir notre <a href="https://ssphub.netlify.app/post/retrospective2022/"><em>newsletter</em> de dÃ©cembre</a>). Alors un rapprochement entre ces deux univers, permettant dâ€™utiliser de nombreux modÃ¨les dâ€™apprentissage via lâ€™API dâ€™<code>HuggingFace</code> directement dans le navigateur, Ã§a donne envie de sâ€™amuser.</p>
<p>Le <em>notebook</em>, disponible sur <a href="https://observablehq.com/@huggingface/hello-huggingface-js-inference"><code>Observable</code></a>, illustre la richesse des fonctionnalitÃ©s disponibles.</p>
</section>
</section>
<section id="actualitÃ©s-du-rÃ©seau-Ã©vÃ©nements-Ã -venir" class="level1">
<h1>ActualitÃ©s du rÃ©seau: Ã©vÃ©nements Ã  venir</h1>
<p>Place aux actualitÃ©s de notre rÃ©seau avec les prochains Ã©vÃ©nements que nous organisons.</p>
<section id="premiÃ¨re-journÃ©e-du-rÃ©seau-en-avril" class="level2">
<h2 class="anchored" data-anchor-id="premiÃ¨re-journÃ©e-du-rÃ©seau-en-avril">PremiÃ¨re journÃ©e du rÃ©seau en avril</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_11/treso.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:30.0%"></p>
</figure>
</div>
<p>Notre rÃ©seau organise des Ã©vÃ©nements virtuels depuis un an. Pour renforcer lâ€™esprit communautaire, nous proposons une <strong>journÃ©e du rÃ©seau le 17 avril, en prÃ©sentiel</strong> ğŸ“….</p>
<p>Cet Ã©vÃ©nement aura lieu dans le tiers-lieu <a href="https://www.latreso.fr/">la TrÃ©so</a> Ã  Malakoff. Pendant la journÃ©e se succÃ¨deront plusieurs sÃ©quences pour construire ensemble le rÃ©seau, partager autour du sujet de la <em>data science</em> et Ã©changer ensemble.</p>
<p>Le programme et les modalitÃ©s pratiques dâ€™inscription seront communiquÃ©s prochainement ! Vous pouvez nÃ©anmoins dÃ©jÃ  marquer la date dans votre calendrier.</p>
</section>
<section id="prÃ©sentation-de-la-documentation-collaborative-carpentries" class="level2">
<h2 class="anchored" data-anchor-id="prÃ©sentation-de-la-documentation-collaborative-carpentries">PrÃ©sentation de la documentation collaborative <em>Carpentries</em></h2>
<p>Pour favoriser lâ€™adoption des langages <code>R</code>, <code>Python</code> et <code>Git</code> dans les administrations, le programme <code>ModernStat</code> pilotÃ© par lâ€™OCDE et Statistics Canada, a lancÃ© un projet nommÃ© <code>Meta Academy</code> et sâ€™est rapprochÃ© de lâ€™organisation amÃ©ricaine <code>Carpentries</code> dont lâ€™objectif est de proposer des parcours progressifs de formation dans les langages <em>open source</em>, associÃ©s Ã  des documentations disponibles de maniÃ¨re ouverte.</p>
<p>Lâ€™absence de contenu en FranÃ§ais et lâ€™orientation principalement acadÃ©mique des <a href="https://datacarpentry.org/lessons/">contenus</a> a amenÃ© le programme <code>ModernStat</code> Ã  proposer aux <em>Carpentries</em> de crÃ©er de nouveaux parcours de formations en FranÃ§ais. Ces programmes seraient crÃ©Ã©s par des membres de la communautÃ© francophone des utilisateurs des langages <code>R</code>, <code>Python</code> et <code>Git</code>.</p>
<p>Kate Burnett-Isaacs, de Statistics Canada, nous prÃ©sentera lâ€™initiative le <strong>mardi 28 mars Ã  15h</strong> ğŸ“… (<a href="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2023-03-carpentries/carpentries.ics">invitation <code>Outlook</code></a>). La prÃ©sentation aura lieu en Anglais et sera suivie dâ€™un Ã©change (FranÃ§ais et Anglais possibles). Si vous Ãªtes intÃ©ressÃ©s par la maniÃ¨re dont les nombreux contenus crÃ©Ã©s par les membres du rÃ©seau pourraient prendre place dans ce cadre, nâ€™hÃ©sitez pas Ã  venir pour en savoir plus ! Informations pratiques <a href="https://ssphub.netlify.app/talk/presentation-du-projet-meta-academy-carpentries/">ici</a> !</p>
</section>
<section id="masterclass-datascientest" class="level2">
<h2 class="anchored" data-anchor-id="masterclass-datascientest">Masterclass datascientest</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_11/datascientest.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:25.0%"></p>
</figure>
</div>
<p>Les inscriptions Ã  nos cycles de <em>masterclass</em> <code>datascientest</code> sont toujours ouvertes ! Pendant le mois de mars, nous continuerons dâ€™avancer dans les <strong>deux cursus parallÃ¨les</strong>.</p>
<p>En premier lieu, la masterclass dâ€™introduction au deep learning (<strong>10 mars de 10h Ã  12h</strong> ğŸ“…) permettra dâ€™initier notre parcours de <em>computer vision</em> avec la prÃ©sentation de certains concepts centraux du <em>deep learning</em> (perceptron, convolution, <em>transfer learning</em>â€¦).</p>
<p>La deuxiÃ¨me session mensuelle, ayant lieu le <strong>24 mars de 10h Ã  12h</strong> ğŸ“… sera elle lâ€™occasion dâ€™avancer dans notre parcours NLP grÃ¢ce au sujet de la similaritÃ© textuelle et de la classification de textes avec des mÃ©thodes dâ€™<em>embeddings</em>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Pour vous inscrire, il suffit de remplir <a href="https://framaforms.org/participation-aux-masterclass-datascientest-1675096179">ce formulaire</a> !</strong></p>
</div>
</div>
</section>
</section>
<section id="actualitÃ©s-du-rÃ©seau-derniÃ¨res-nouveautÃ©s" class="level1">
<h1>ActualitÃ©s du rÃ©seau: derniÃ¨res nouveautÃ©s</h1>
<section id="onyxia" class="level2">
<h2 class="anchored" data-anchor-id="onyxia">Onyxia</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/onyxia/featured.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:45.0%"></p>
</figure>
</div>
<p>Le <a href="https://ssphub.netlify.app/post/onyxia/">dernier post</a> sur le site web du rÃ©seau revient sur le projet <code>Onyxia</code>, le logiciel initiÃ© par lâ€™Ã©quipe innovation de lâ€™Insee et mis Ã  disposition sur <a href="https://github.com/InseeFrLab/onyxia-web"><code>Github</code></a> pour permettre Ã  dâ€™autres organisations de dÃ©velopper une infrastructure de <em>data science</em> Ã  lâ€™Ã©tat de lâ€™art.</p>
<p>Pour en savoir plus sur le contexte de naissance dâ€™Onyxia, les choix techniques mis en oeuvre ou la communautÃ© des rÃ©utilisateurs, câ€™est <a href="https://ssphub.netlify.app/post/onyxia/">par ici</a>.</p>
</section>
<section id="replay-de-lÃ©vÃ©nement-autour-des-packages-facilitant-laccÃ¨s-Ã -lopen-data-de-linsee" class="level2">
<h2 class="anchored" data-anchor-id="replay-de-lÃ©vÃ©nement-autour-des-packages-facilitant-laccÃ¨s-Ã -lopen-data-de-linsee">Replay de lâ€™Ã©vÃ©nement autour des packages facilitant lâ€™accÃ¨s Ã  lâ€™open data de lâ€™Insee</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_11/dessin-opendata.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p>Le <em>replay</em> des prÃ©sentations des packages <a href="https://inseefrlab.github.io/DoReMIFaSol/"><code>Doremifasol</code></a> (<code>R</code>) et <a href="https://github.com/InseeFrLab/pynsee"><code>Pynsee</code></a> (<code>Python</code>) lors de notre Ã©vÃ©nement du <strong>13 fÃ©vrier</strong> autour des packages facilitant lâ€™accÃ¨s Ã  lâ€™open data de lâ€™Insee est en ligne !</p>
<p>La vidÃ©o et les supports prÃ©sentÃ©s sont mis Ã  disposition sur le <a href="https://ssphub.netlify.app/talk/presentation-des-packages-r-et-python-pour-acceder-a-lopen-data-de-linsee/">site web du rÃ©seau</a></p>
</section>
<section id="programme-10" class="level2">
<h2 class="anchored" data-anchor-id="programme-10">Programme 10%</h2>
<p>La journÃ©e de lancement du programme 10% annonce une saison prometteuse ! Plus de 50 personnes, issues dâ€™un large panel dâ€™administrations, se sont rencontrÃ©es et ont Ã©changÃ©es autour de projets mutualisables. Au final, une demi-douzaine de projets ont dÃ©jÃ  Ã©tÃ© identifiÃ©s.</p>
<p>Si vous nâ€™Ã©tiez pas disponible lors de cette premiÃ¨re journÃ©e, il est possible Ã  tout moment de rejoindre cette communautÃ©. Le prochain atelier a lieu le <strong>14 mars au Lieu de la Transformation Publique</strong> ğŸ“… !</p>


</section>
</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_11/</guid>
  <pubDate>Wed, 01 Mar 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_11/polars-arrow.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Polars, une alternative fraÃ®che Ã  Pandas</title>
  <link>https://ssphub.netlify.app/post/polars/</link>
  <description><![CDATA[ 





<p>Le concept de <strong><a href="https://www.databricks.com/glossary/what-are-dataframes"><em>dataframe</em></a></strong> est central pour le <em>data scientist</em> qui manipule des donnÃ©es tabulaires. En <code>Python</code>, <a href="https://pandas.pydata.org/"><code>Pandas</code></a> est la solution de loin la plus populaire. En moyenne, le <em>package</em> est tÃ©lÃ©chargÃ© 4 millions de fois par semaine, depuis des annÃ©es.</p>
<p>Un petit nouveau apporte un vent de fraÃ®cheur dans le domaine : <a href="https://www.pola.rs/"><code>Polars</code></a>.</p>
<p>Ses atouts ? Dâ€™excellentes performances et une expressibilitÃ© qui le rapproche dâ€™un <a href="https://dplyr.tidyverse.org/"><code>dplyr</code></a>.</p>
<p>Ce post de blog revient sur les principaux atouts de <code>Polars</code>, sans vouloir Ãªtre exhaustif. Un <em>notebook</em> illustrant les principales fonctionnalitÃ©s du package vise Ã  le complÃ©ter :</p>
<p><a href="https://datalab.sspcloud.fr/launcher/ide/jupyter-python?version=1.13.22&amp;autoLaunch=true&amp;init.personalInit=Â«https%3A%2F%2Fraw.githubusercontent.com%2FInseeFrLab%2Fssphub%2Fmain%2Fpost%2Fpolars%2Finit.shÂ»&amp;init.personalInitArgs=Â«polars-tutoÂ»&amp;onyxia.friendlyName=Â«Tutoriel PolarsÂ»" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/SSPcloud-Tester%20via%20SSP--cloud-informational&amp;color=yellow?logo=Python" alt="Onyxia"></a> <a href="https://colab.research.google.com/github/inseefrlab/ssphub/blob/main/post/polars/polars-tuto.ipynb" target="_blank" rel="noopener"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>
<section id="les-secrets-de-la-performance" class="level1">
<h1>Les secrets de la performance</h1>
<p>Les <em>benchmarks</em> disponibles <a href="https://h2oai.github.io/db-benchmark/">sont clairs</a> : <code>Polars</code> est un ours qui court vite !</p>
<p>Le benchmark suivant, <a href="https://h2oai.github.io/db-benchmark/">effectuÃ© par H2O</a>, propose un comparatif de la vitesse des principaux frameworks de manipulation de donnÃ©es pour effectuer une agrÃ©gation par groupe avec un jeu de donnÃ©es de 50GB:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/polars/polars-benchmark-short.png" class="img-fluid figure-img"></p>
<figcaption>Benchmark H2O</figcaption>
</figure>
</div>
<p><code>Polars</code> devance des solutions connues pour leur efficacitÃ© sur ce type dâ€™opÃ©rations, comme le package <code>R</code> <code>data.table</code>. Lâ€™utilisateur habituel de <code>Pandas</code> ne pourrait mÃªme pas traiter ces donnÃ©es, qui excÃ¨dent les capacitÃ©s computationnelles de sa machine.</p>
<section id="lÃ©valuation-lazy" class="level2">
<h2 class="anchored" data-anchor-id="lÃ©valuation-lazy">Lâ€™Ã©valuation <em>lazy</em></h2>
<p>Plusieurs Ã©lÃ©ments expliquent cette rapiditÃ©.</p>
<p>En premier lieu, <code>Polars</code> est conÃ§u pour optimiser les requÃªtes : grÃ¢ce au mode <em>lazy</em> (<em>â€œparesseuxâ€</em>), on laisse la possibilitÃ© au moteur dâ€™analyser ce quâ€™on souhaite faire pour proposer une exÃ©cution optimale (pour la lecture comme pour la transformation des jeux de donnÃ©es). La <em>lazy evaluation</em> est une mÃ©thode assez commune pour amÃ©liorer la vitesse des traitements et est utilisÃ©e, entre autres, par <code>Spark</code>.</p>
<p>Du fait de la <em>lazy evaluation</em> il est ainsi possible, par exemple, si un filtre sur les lignes arrive tardivement, de le remonter dans lâ€™ordre des opÃ©rations effectuÃ©es par <code>Python</code> afin que les opÃ©rations ultÃ©rieures ne soient effectuÃ©es que sur lâ€™ensemble optimal de donnÃ©es. Ces optimisations sont dÃ©taillÃ©es dans la <a href="https://pola-rs.github.io/polars-book/user-guide/optimizations/intro.html">documentation officielle</a>.</p>
</section>
<section id="lecture-optimisÃ©e-des-fichiers" class="level2">
<h2 class="anchored" data-anchor-id="lecture-optimisÃ©e-des-fichiers">Lecture optimisÃ©e des fichiers</h2>
<p>Lâ€™utilisateur <code>Pandas</code> est habituÃ© Ã  lire du CSV avec <code>pd.read_csv</code>. Avec <code>Polars</code>, il existe deux maniÃ¨res, trÃ¨s ressemblantes de le faire.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> polars <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pl</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># CrÃ©ation d'une requÃªte</span></span>
<span id="cb1-4">q <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb1-5">    pl.scan_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"iris.csv"</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Lecture lazy</span></span>
<span id="cb1-6">    .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">filter</span>(pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sepal_length"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb1-7">    .groupby(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"species"</span>)</span>
<span id="cb1-8">    .agg(pl.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">all</span>().<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>())</span>
<span id="cb1-9">)</span>
<span id="cb1-10"></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ExÃ©cution de la requÃªte</span></span>
<span id="cb1-12">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> q.collect()</span></code></pre></div></div>
<p>Avec cette syntaxe, les connaisseurs de <code>Pyspark</code> retrouveront facilement leurs petits (ours ğŸ»).</p>
<p>On peut toujours lire de maniÃ¨re plus directe (en mode <em>eager</em>, <em>â€œimpatientâ€</em>) en utilisant la fonction <code>read_csv</code>, et ensuite appliquer des transformations optimisables en glissant habilement <code>lazy</code> :</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pl.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"iris.csv"</span>)</span>
<span id="cb2-2"></span>
<span id="cb2-3">df_res <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df.lazy() <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># â†  ici :)</span></span>
<span id="cb2-4">  .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">filter</span>(pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sepal_length"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb2-5">  .groupby(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"species"</span>)</span>
<span id="cb2-6">  .agg(pl.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">all</span>().<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>())</span>
<span id="cb2-7">  .collect()</span></code></pre></div></div>
<p><code>Polars</code> fonctionne Ã©galement trÃ¨s bien avec le format <code>Parquet</code>, comme illustrÃ© dans le <em>notebook</em> qui accompagne ce <em>post</em>.</p>
</section>
<section id="parallÃ©lisation" class="level2">
<h2 class="anchored" data-anchor-id="parallÃ©lisation">ParallÃ©lisation</h2>
<p><code>Polars</code> parallÃ©lise les traitements dÃ¨s que cela est possible, notamment dans le cas dâ€™agrÃ©gation. Chaque coeur se charge dâ€™une partie de lâ€™agrÃ©gation et envoie des donnÃ©es plus lÃ©gÃ¨res Ã  <code>Python</code> qui va finaliser lâ€™agrÃ©gation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/polars/polars-split-parallel-apply-combine.svg" class="img-fluid figure-img"></p>
<figcaption>ParallÃ©lisation</figcaption>
</figure>
</div>
<p><em>Illustration du principe de la parallÃ©lisation</em></p>
<p>Sur les systÃ¨mes proposant de nombreux coeurs, cela peut faire gagner beaucoup de temps.</p>
</section>
<section id="des-couches-basses-Ã -la-pointe" class="level2">
<h2 class="anchored" data-anchor-id="des-couches-basses-Ã -la-pointe">Des couches basses Ã  la pointe</h2>
<p>Enfin, le choix dâ€™utiliser Ã  la fois le format de reprÃ©sentation en mÃ©moire <a href="https://arrow.apache.org/">Arrow</a> et le langage <a href="https://www.rust-lang.org/fr">Rust</a> pour le coeur de la bibliothÃ¨que nâ€™est pas Ã©tranger Ã  cette performance.</p>
</section>
<section id="calculs-out-of-memory" class="level2">
<h2 class="anchored" data-anchor-id="calculs-out-of-memory">Calculs <em>out of memory</em></h2>
<p><code>Polars</code> travaille vite mais prÃ©sente aussi lâ€™avantage de lire naturellement des jeux de donnÃ©es hors des limites de la mÃ©moire de lâ€™ordinateur grÃ¢ce Ã  <a href="https://www.youtube.com/watch?v=3-C0Afs5TXQ">sa capacitÃ© de lire en flux</a> (mÃ©thode quâ€™on appelle le <em>streaming</em>).</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># La mÃªme requÃªte que tout Ã  l'heure va lire le fichier "en flux"</span></span>
<span id="cb3-2">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> q.collect(streaming<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span></code></pre></div></div>
<p>De plus, <code>Polars</code> lit nativement les fichiers <code>Parquet</code> qui par ses propriÃ©tÃ©s permet dâ€™aller beaucoup plus vite que le CSV !</p>
</section>
</section>
<section id="une-api-fluide" class="level1">
<h1>Une API fluide</h1>
<p>Câ€™est un reproche rÃ©guliÃ¨rement fait Ã  <code>Pandas</code> : la syntaxe de manipulations des donnÃ©es est parfois complexe ou peu lisible, et les choix dâ€™Ã©criture ne sont pas transparents du point de vue des performances.</p>
<p>Lâ€™API proposÃ©e par Polars est Ã  la fois expressive et transparente. Voici un exemple dâ€™exploitation de la BPE, issu du <em>notebook</em> accompagnant ce <em>post</em> :</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">df.lazy()</span>
<span id="cb4-2">  .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">filter</span>(</span>
<span id="cb4-3">    pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TYPEQU"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"B316"</span></span>
<span id="cb4-4">  )</span>
<span id="cb4-5">  .groupby(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DEP"</span>)</span>
<span id="cb4-6">  .agg(</span>
<span id="cb4-7">    pl.count().alias(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NB_STATION_SERVICE"</span>)</span>
<span id="cb4-8">  )</span>
<span id="cb4-9">  .collect()</span></code></pre></div></div>
<p>On retrouve une sÃ©mantique dâ€™opÃ©rations de haut niveau qui sâ€™enchaÃ®nent Ã  la maniÃ¨re de <a href="https://www.book.utilitr.org/03_fiches_thematiques/fiche_tidyverse#comment-utiliser-lop%C3%A9rateur-pipe-avec-le-tidyverse">ce que lâ€™on peut faire en <code>dplyr</code></a>.</p>
</section>
<section id="les-autres-concurrents" class="level1">
<h1>Les autres concurrents</h1>
<p><code>Pandas</code> et <code>Polars</code> ne sont pas seuls dans le grand zoo de la manipulation de donnÃ©es en Python : des solutions comme <a href="https://github.com/vaexio/vaex">Vaex</a> ou <a href="https://github.com/dask/dask">Dask</a> ont des arguments Ã  faire valoir. <code>DuckDB</code>, un autre <em>framework</em> de manipulation de donnÃ©es, sâ€™intÃ¨gre quand Ã  lui trÃ¨s bien avec <code>Polars</code> dans la mÃ©nagerie.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/polars/dalle_polar_duck.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p><em>Le duo DuckDB-Polars illustrÃ© par Dall-E-2</em></p>
</section>
<section id="ressources-supplÃ©mentaires" class="level1">
<h1>Ressources supplÃ©mentaires</h1>
<ul>
<li><a href="https://github.com/ddotta/awesome-polars"><em>Awesome Polars</em> par Damien Dotta (INSEE)</a></li>
<li><a href="https://rpolars.github.io/">Polars pour R</a></li>
<li><a href="https://www.rhosignal.com/tags/polars/">rhosignal.com/tags/polars/</a></li>
<li><a href="https://kevinheavey.github.io/modern-polars/">kevinheavey.github.io/modern-polars/</a></li>
</ul>
<p>Le <em>notebook</em> accompagnant ce <em>post</em>:</p>
<p><a href="https://datalab.sspcloud.fr/launcher/ide/jupyter-python?autoLaunch=false&amp;init.personalInit=%C2%ABhttps%3A%2F%2Fraw.githubusercontent.com%2Fromaintailhurat%2Fssphub%2Fblog%2Fpolars%2Fcontent%2Fnotebooks%2Finit.sh%C2%BB&amp;init.personalInitArgs=%C2%ABpolars-tuto%C2%BB&amp;onyxia.friendlyName=%C2%ABTutoriel%20Polars%C2%BB" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/SSPcloud-Tester%20via%20SSP--cloud-informational&amp;color=yellow?logo=Python" alt="Onyxia"></a> <a href="http://colab.research.google.com/github/inseefrlab/ssphub/blob/main/content/notebooks/polars-tuto.ipynb" target="_blank" rel="noopener"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>


</section>

 ]]></description>
  <category>Python</category>
  <category>Pandas</category>
  <category>Polars</category>
  <category>Data wrangling</category>
  <guid>https://ssphub.netlify.app/post/polars/</guid>
  <pubDate>Fri, 10 Feb 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/post/polars/featured.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>DoReMiFaSol pour rÃ©cupÃ©rer des donnÃ©es de lâ€™Insee ; une masterclass datascientest sur les NLP et lâ€™analyse dâ€™images</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_10/</link>
  <description><![CDATA[ 





<p><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Un mail Ã  <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a> suffit</em></p>
<section id="un-Ã©vÃ©nement-autour-des-packages-facilitant-laccÃ¨s-Ã -lopen-data-de-linsee" class="level2">
<h2 class="anchored" data-anchor-id="un-Ã©vÃ©nement-autour-des-packages-facilitant-laccÃ¨s-Ã -lopen-data-de-linsee">Un Ã©vÃ©nement autour des packages facilitant lâ€™accÃ¨s Ã  lâ€™open data de lâ€™Insee</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_10/dessin-opendata.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p>AprÃ¨s les prÃ©sentations <a href="../../talk/presentation-dobservable-par-nicolas-lambert/">dâ€™<code>observable</code></a> et de <a href="../../talk/presentation-de-gridviz-par-julien-gaffuri/"><code>gridviz</code></a> nous vous proposons un nouvel Ã©vÃ©nement. Celui-ci sera autour de lâ€™<em>open data</em> Ã  travers la prÃ©sentation des <strong>packages facilitant la rÃ©cupÃ©ration de donnÃ©es de lâ€™Insee</strong> disponibles depuis le site web ou les API.</p>
<p>Deux prÃ©sentations sont prÃ©vues : - Pierre Lamarche prÃ©sentera le package <i class="fa-brands fa-r-project"></i> <a href="https://github.com/InseeFrLab/DoReMIFaSol"><code>doremifasol</code></a>. Câ€™est notamment grÃ¢ce Ã  ce package que la documentation <code>utilitR</code> peut sâ€™appuyer sur des donnÃ©es bien connues des utilisateurs dâ€™<em>open data</em> (Filosofi, recensementâ€¦) - Hadrien Leclerc nous prÃ©sentera le package <i class="fa-brands fa-python"></i> <a href="https://github.com/InseeFrLab/pynsee"><code>Pynsee</code></a> qui est utilisÃ© depuis deux ans Ã  lâ€™ENSAE pour apprendre aux futurs data scientists Ã  rÃ©cupÃ©rer des donnÃ©es de cadrage.</p>
<p>Ces deux prÃ©sentations seront suivies dâ€™un temps dâ€™Ã©change.</p>
<p>Cet Ã©vÃ©nement aura lieu le <strong>13 fÃ©vrier de 15h Ã  16h30</strong> (<a href="https://minio.lab.sspcloud.fr/ssphub/diffusion/website/2023-02-opendata_Insee/PrÃ©sentation_SSPHub_packages_open_data_Insee.ics">ğŸ“… invitation <code>Outlook</code></a>). Si vous Ãªtes utilisateurs de donnÃ©es, que vous veniez de lâ€™Insee ou non, ces packages peuvent vous intÃ©resser !</p>
</section>
<section id="masterclass-datascientest" class="level2">
<h2 class="anchored" data-anchor-id="masterclass-datascientest">Masterclass datascientest</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_10/datascientest.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:25.0%"></p>
</figure>
</div>
<p>Les masterclass organisÃ©es avec lâ€™organisme de formation spÃ©cialisÃ© <code>datascientest</code> reprennent ! AprÃ¨s une premiÃ¨re masterclass au mois de dÃ©cembre consacrÃ©e au MLOps, notre rÃ©seau va proposer de nouvelles sÃ©ances.</p>
<p>Les premiÃ¨res sÃ©ances vont sâ€™organiser autour de <strong>deux cursus parallÃ¨les</strong>, qui commenceront par des introductions pour monter graduellement en niveau et se rapprocher des cas dâ€™usages que rencontrent nos data scientists.</p>
<p>Le premier parcours sera orientÃ© autour des problÃ©matiques de NLP. La premiÃ¨re sÃ©ance aura lieu le <strong>10 fÃ©vrier, de 10h Ã  12h</strong> et constituera une introduction au NLP avec un retour sur certains concepts centraux (<em>preprocessing</em>, <em>tokenisation</em>, <em>lemmatisation</em>â€¦) et des exemples dâ€™applications avec le package <a href="https://spacy.io/"><code>SpaCy</code></a>. Une deuxiÃ¨me sÃ©ance dans ce parcours est dÃ©jÃ  programmÃ©e, le <strong>24 mars de 10h Ã  12h</strong>, sur le thÃ¨me de la similaritÃ© textuelle et de la classification de textes grÃ¢ce aux mÃ©thodes dâ€™<em>embeddings</em>.</p>
<p>Le deuxiÃ¨me parcours cible la problÃ©matique de lâ€™analyse dâ€™images. Une premiÃ¨re sÃ©ance, qui aura lieu le <strong>10 mars de 10h Ã  12h</strong> reviendra sur certains concepts centraux du <em>deep learning</em> (perceptron, convolution, <em>transfer learning</em>â€¦). Les sÃ©ances suivantes, dont les dates nâ€™ont pas encore Ã©tÃ© arrÃªtÃ©es, sâ€™intÃ©resseront Ã  des cas dâ€™usages comme lâ€™OCRisation ou la dÃ©tection dâ€™objets dans des images.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Pour vous inscrire, il suffit de remplir <a href="https://framaforms.org/participation-aux-masterclass-datascientest-1675096179">ce formulaire</a> !</strong></p>
</div>
</div>
</section>
<section id="questionnaire-sur-vos-besoins-en-formation-data-science" class="level2">
<h2 class="anchored" data-anchor-id="questionnaire-sur-vos-besoins-en-formation-data-science">Questionnaire sur vos besoins en formation data science</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_10/circle-question-solid.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:15.0%"></p>
</figure>
</div>
<p>En cette pÃ©riode de recensement, le rÃ©seau propose Ã©galement le sien ! Pour dÃ©terminer au mieux la rÃ©partition des besoins en formation sur les sujets data science et ainsi pouvoir proposer des Ã©vÃ©nements pertinents, <strong>nous vous proposons un <a href="https://framaforms.org/besoin-de-formations-en-data-science-1674150129">questionnaire</a></strong> sur vos besoins en formation.</p>
</section>
<section id="utilitr-recherche-des-rÃ©dacteurs-dexercices" class="level2">
<h2 class="anchored" data-anchor-id="utilitr-recherche-des-rÃ©dacteurs-dexercices"><code>utilitR</code> recherche des rÃ©dacteurs dâ€™exercices !</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_10/utilitr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:30.0%"></p>
</figure>
</div>
<p>Dans le but de continuer Ã  dÃ©velopper <a href="https://www.book.utilitr.org/"><code>utilitR</code></a>, documentation collaborative et ouverte, lâ€™Ã©quipe du projet souhaite encourager des contributions volontaires pour <strong>ajouter des exercices Ã  chaque fiche thÃ©matique</strong>. Lâ€™objectif est de produire pour chaque chapitre un ensemble dâ€™exercices, de difficultÃ© graduelle, permettant de mettre en application les concepts prÃ©sentÃ©s dans la fiche.</p>
<!-----
Pour les dÃ©butants en <i class="fa-brands fa-r-project"></i>, associer des exercices aux fiches
prÃ©sente l'intÃ©rÃªt d'apprendre Ã  lire une documentation pour rÃ©soudre des problÃ¨mes concrets, compÃ©tence que 
des utilisateurs plus expÃ©rimentÃ©s savent mettre en oeuvre quoditiennement. 
------->
<p>Ces exercices seraient accessibles depuis le <a href="https://www.book.utilitr.org/">site web</a> mais aussi Ã  travers le <a href="https://www.sspcloud.fr/formation">portail de formation du <code>SSP Cloud</code></a>, sous la forme de <em>notebooks</em> dâ€™autoformation.</p>
<p>Lâ€™Ã©quipe du projet <code>utilitR</code> est donc Ã  la <strong>recherche des personnes motivÃ©es pour rÃ©diger des exercices ou mettre Ã  disposition des bouts de code ou des exercices dÃ©jÃ  prÃ©parÃ©s</strong>. Si vous dÃ©sirez apporter votre pierre Ã  lâ€™Ã©difice, toute contribution, mÃªme modeste, sur cette <a href="https://github.com/InseeFrLab/utilitR/issues/462">page</a>, sera apprÃ©ciÃ©e par lâ€™Ã©quipe <code>utilitr</code>.</p>
<p>Cette Ã©volution de la documentation vise Ã  prolonger lâ€™effort continu pour construire une documentation vivante, interactive et originale. Lâ€™esthÃ©tique du <a href="https://www.book.utilitr.org/">site web book.utilitr.org</a> a ainsi Ã©tÃ© revue rÃ©cemment afin de rendre la documentation plus ergonomique tout en ajoutant des fonctionnalitÃ©s utiles aux lecteurs, comme la possibilitÃ© de surligner ou de prendre des notes.</p>
</section>
<section id="proposez-un-billet-de-blog" class="level2">
<h2 class="anchored" data-anchor-id="proposez-un-billet-de-blog">Proposez un billet de blog !</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_10/write-blogpost.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:30.0%"></p>
</figure>
</div>
<p>Le site web du rÃ©seau (https://ssphub.netlify.app/) propose depuis septembre une section blog. <strong>Vos idÃ©es et contributions sont les bienvenues pour lâ€™enrichir !</strong></p>
<p>Pour souligner lâ€™aspect collectif de cette section, un <a href="https://github.com/InseeFrLab/ssphub/blob/main/CONTRIBUTING.md">guide des contributeurs</a> vient de voir le jour. Celui-ci expose la dÃ©marche Ã  suivre, de la phase de discussion pour dÃ©finir le sujet du billet aux outils proposÃ©s pour faciliter la rÃ©daction et la soumission de celui-ci depuis <a href="https://github.com/InseeFrLab/ssphub"><code>Github</code> <i class="fa-brands fa-github"></i></a>.</p>
</section>
<section id="la-saison-2-du-programme-10-arrive" class="level2">
<h2 class="anchored" data-anchor-id="la-saison-2-du-programme-10-arrive">La saison 2 du programme 10% arrive</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_10/wantyou.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:20.0%"></p>
</figure>
</div>
<p>Lâ€™attente Ã©tait insoutenable mais la nouvelle saison de 10% est enfin lÃ  ! <strong>Rejoignez ce programme</strong>, issu des recommandations du <a href="https://www.numerique.gouv.fr/uploads/RAPPORT-besoins-competences-donnee.pdf">rapport de lâ€™Inspection GÃ©nÃ©rale de lâ€™Insee et de la DINUM</a>, oÃ¹ des data scientists proposent de consacrer jusquâ€™Ã  10% de leur temps de travail Ã  des projets transversaux !</p>
<p>Au-delÃ  de la participation Ã  ces projets, le programme 10% est Ã©galement lâ€™opportunitÃ© dâ€™Ã©changer des idÃ©es avec des data scientists dâ€™autres administrations et de bÃ©nÃ©ficier de formations.</p>
<p>AprÃ¨s un <strong>webinaire dâ€™information sur le programme le 31 janvier</strong> (inscription via <a href="https://www.eventbrite.fr/e/billets-saison-2023-du-programme-10-webinaire-dinformation-520302437597">eventbrite</a>), la <strong>journÃ©e de lancement</strong> de la saison 2 se tiendra le <strong>14 fÃ©vrier au Bercy Lab</strong> (plus dâ€™infos Ã  venir).</p>
<p>Cette saison, plus longue que la premiÃ¨re, permettra de pÃ©renniser certains des projets de la saison 1 mais aussi de lancer de nouveaux projets.</p>
<p><strong>Inscrivez-vous dÃ¨s maintenant pour ne pas manquer la saison 2 de 10%!</strong></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour plus dâ€™information sur le programme : <a href="mailto:lab-ia@data.gouv.fr" class="email">lab-ia@data.gouv.fr</a></p>
</div>
</div>
<!------
# L'ENSAE adopte le dragon Onyxia

Le dragon [Onyxia](https://www.onyxia.sh/), le logiciel open source derriÃ¨re le [SSP Cloud](https://www.sspcloud.fr/)
vient de pondre un nouvel oeuf, Ã  l'ENSAE. 

Les Ã©lÃ¨ves de l'ENSAE, dÃ©jÃ  familiarisÃ©s Ã  la plateforme par le
cours de ["Python pour la data science"](https://pythonds.linogaliana.fr/) ou par celui
de [mise en production de projets data science](https://ensae-reproductibilite.netlify.app/),
devraient prochainement rencontrer celle-ci dans plus d'enseignements d'informatique. 

L'ENSAE avance bien sur le projet de dÃ©velopper sa propre
implÃ©mentation de la plateforme, afin de la proposer pour les enseignements et 
les projets de l'Ã©cole, et ainsi former les Ã©lÃ¨ves aux technologies modernes de
l'Ã©cosystÃ¨me de la data science. 
--------------->
</section>
<section id="report-de-la-journÃ©e-de-la-donnÃ©e" class="level2">
<h2 class="anchored" data-anchor-id="report-de-la-journÃ©e-de-la-donnÃ©e">Report de la journÃ©e de la donnÃ©e</h2>
<p>La <strong>journÃ©e de la donnÃ©e</strong> organisÃ©e par lâ€™Administrateur MinistÃ©riel des DonnÃ©es, Algorithmes et Codes sources (AMDAC) du MinistÃ¨re de la SantÃ©, <strong>initialement prÃ©vue le 31 janvier, est reportÃ©e Ã  une date ultÃ©rieure</strong>.</p>


</section>

 ]]></description>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_10/</guid>
  <pubDate>Mon, 30 Jan 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_10/dessin-opendata.png" medium="image" type="image/png" height="106" width="144"/>
</item>
<item>
  <title>Retex sur 2022, premiÃ¨re annÃ©e du rÃ©seau des datascientists ; snapshot de lâ€™Ã©tat du rÃ©seau Ã  date ; prÃ©sentation de Gridviz</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_09/</link>
  <description><![CDATA[ 





<p><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Un mail Ã  <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a> suffit</em></p>
<p>La <a href="https://ssphub.netlify.app/post/retrospective2022/">rÃ©trospective de lâ€™annÃ©e 2022</a> promettait une version plus personnalisÃ©e, inspirÃ©e des visualisations proposÃ©es par les rÃ©seaux sociaux pour synthÃ©tiser lâ€™activitÃ© de leurs utilisateurs.</p>
<p>Cette <em>newsletter</em> un peu spÃ©ciale propose un retour sur la premiÃ¨re annÃ©e du rÃ©seau des data scientists de la statistique publique dont la prÃ©figuration a commencÃ© en mars 2022 et qui a Ã©tÃ© lancÃ© officiellement en septembre. Vous pourrez retrouver Ã  la fin de la <em>newsletter</em> des informations plus classiques: Ã©vÃ©nements, retour sur les actions du rÃ©seau, formations, etc.</p>
<p>Elle permet aussi dâ€™illustrer le potentiel dâ€™outils qui ont Ã©tÃ© prÃ©sentÃ©s dans la <a href="https://ssphub.netlify.app/post/retrospective2022/">rÃ©trospective de lâ€™annÃ©e 2022</a>. Toutes les figures sont rÃ©actives, notamment quand vous passez votre souris dessus. Les principaux ingrÃ©dients qui ont Ã©tÃ© ici utilisÃ©s, et qui avaient Ã©tÃ© mentionnÃ©s dans la premiÃ¨re partie de la rÃ©trospective, sont <code>Observable</code>, <code>Quarto</code> et <code>DuckDB</code>. Les donnÃ©es sont stockÃ©es sur le systÃ¨me de stockage <code>S3</code> du <code>SSPCloud</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ce <em>notebook</em> utilise certaines les fonctionalitÃ©s dâ€™<code>Observable</code> pour proposer des visualisations interactives de maniÃ¨re efficace.</p>
<details>
<summary>
<p>Si vous Ãªtes intÃ©ressÃ©s par le <em>making-of</em> de cette page <em>web</em>, cliquez sur le menu dÃ©roulant (partie plus technique).</p>
</summary>
<p><br> <code>Observable</code> est Ã  la fois un langage visant Ã  simplifier lâ€™usage de <code>JavaScript</code> pour mettre en oeuvre des visualisations interactives et une <a href="https://observablehq.com/">plateforme</a> permettant de simplifier la mise Ã  disposition de ces visualisations sous une forme de <em>notebook</em>.</p>
<p>Les statistiques de comptage sont enregistrÃ©es sous format <code>Parquet</code> sur le systÃ¨me de stockage <code>S3</code> du <code>SSPCloud</code>. Lâ€™intÃ©gration native de <code>DuckDB</code> Ã  <code>Observable</code> permet au navigateur <em>web</em> de lire et dâ€™effectuer des manipulations de donnÃ©es Ã  travers des requÃªtes SQL de maniÃ¨re trÃ¨s efficace. Sur ce sujet, outre la <a href="https://observablehq.com/@observablehq/duckdb">documentation officielle dâ€™<code>Observable</code></a>, je recommande vivement le <a href="https://observablehq.com/@ericmauviere/duckdb-redonne-nouvelle-vie-sql">tutoriel dâ€™Eric MauviÃ¨re</a>.</p>
<p>La librairie <a href="https://observablehq.com/@observablehq/plot"><code>Plot</code></a> propose de nombreuses fonctionalitÃ©s utiles pour construire des visualisations interactives. Sa logique est assez proche de celle des <em>frameworks</em> <a href="https://observablehq.com/@observablehq/plot-from-ggplot2"><code>ggplot2</code> en <code>R</code></a> ou <a href="https://observablehq.com/@observablehq/plot-overview-for-matplotlib-users"><code>matplotlib</code> en <code>Python</code></a>. Lorsque la librairie <code>Plot</code> nâ€™est plus suffisante, comme pour le <em>treemap</em> sur cette page, le <em>framework</em> <code>d3.js</code> est utile.</p>
<p>Lâ€™intÃ©gration de figures construites Ã  partir du langage <code>Observable</code> peut Ãªtre faite de plusieurs maniÃ¨res:</p>
<ul>
<li>Utiliser <a href="https://quarto.org/docs/interactive/ojs/"><code>Quarto</code></a> qui permet de crÃ©er une page <em>web</em> statique autosuffisante Ã  partir dâ€™une suite dâ€™instructions dans des blocs <code>{ojs}</code>. Cette mÃ©thode est trÃ¨s intÃ©ressante pour lâ€™intÃ©gration de figures <code>JavaScript</code> dans des sites <em>web</em> complets gÃ©nÃ©rÃ©s de maniÃ¨re automatique. Bien quâ€™initialement envisagÃ©e, cette mÃ©thode ne fait pas encore bon mÃ©nage avec <a href="https://gohugo.io/"><code>Hugo</code></a> qui nâ€™attend pas des <code>Quarto Markdown</code> mais des <code>Markdown</code> classiques</li>
<li>Utiliser la plateforme <a href="https://observablehq.com/@linogaliana"><code>observablehq</code></a> pour crÃ©er un <em>notebook</em> proposant le code Ã  lâ€™origine des visualisations puis intÃ©grer ces derniÃ¨res par le biais dâ€™<code>&lt;iframe&gt;</code> ou de lâ€™intÃ©gration via <code>Runtime JS</code>. Cela permet dâ€™avoir ces visualisations sur une page statique sans stocker au mÃªme endroit le code ayant permis de les gÃ©nÃ©rer et permettant de les reproduire, qui nâ€™intÃ©resse pas nÃ©cessairement le mÃªme public.</li>
</ul>
<p>La deuxiÃ¨me approche, celle de lâ€™intÃ©gration depuis un <em>notebook</em> <code>observable</code> a Ã©tÃ© choisie. Ce <em>notebook</em> est disponible sur <a href="https://observablehq.com/@linogaliana/2022-year-recap-data-scientists-network">la plateforme</a> pour les utilisateurs intÃ©ressÃ©s par la rÃ©utilisation des figures, des donnÃ©es sous-jacentes ou des utilitaires ayant permis dâ€™aboutir Ã  certaines visualisations. Le code source de cette page, disponible sur le <a href="https://raw.githubusercontent.com/InseeFrLab/ssphub/main/content/post/recap2022/index.md"><code>Github inseefrlab/ssphub</code></a> illustre la maniÃ¨re dont les figures peuvent Ãªtre intÃ©grÃ©es Ã  un site <em>web</em> depuis la plateforme <a href="https://observablehq.com/"><code>observablehq</code></a>. Bien que jâ€™ai privilÃ©giÃ© la mÃ©thode <code>Runtime JS</code>, qui permet dâ€™intÃ©grer la visualisation sans le bandeau <code>Observable</code> sous la figure, pour certaines dâ€™entre elles, jâ€™ai dÃ» utiliser la mÃ©thode <code>&lt;iframe&gt;</code> du fait de certaines limitations dans lâ€™hÃ©ritage de rÃ¨gles CSS aux <code>svg</code> gÃ©nÃ©rÃ©s par <code>Plot</code> qui affectaient la colorisation et donc la lecture de certaines figures.</p>
</details>
</div>
</div>
<section id="lannÃ©e-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="lannÃ©e-du-rÃ©seau">Lâ€™annÃ©e du rÃ©seau</h2>
<p>Le rÃ©seau comporte deux canaux de communication: une liste de diffusion mail et un canal de discussions instantanÃ©es. IntÃ©ressons nous dâ€™abord Ã  la liste de diffusion mail !</p>
<div id="observablehq-evolution-bbfd8ffe">

</div>
<p>Pendant lâ€™annÃ©e 2022, <strong>7 <em>newsletters</em></strong> ont Ã©tÃ© diffusÃ©es par mail. Chacune a permis dâ€™augmenter sensiblement le nombre de personnes dans la liste de diffusion. A la fin de lâ€™annÃ©e, il y avait <strong>312 inscrits</strong><sup>1</sup> dans la liste de diffusion.</p>
<p>Le rÃ©seau a organisÃ© <strong>trois Ã©vÃ©nements</strong> pendant lâ€™annÃ©e 2022. Dâ€™abord, avant lâ€™Ã©tÃ©, deux <em>open hours</em> ont eu lieu. Cet Ã©vÃ©nement informel prenant la forme de retour dâ€™expÃ©rience a Ã©tÃ© lâ€™occasion de discussions stimulantes autour de dâ€™usage de la <em>data science</em> pour lâ€™administration. En novembre, lâ€™<a href="../../talk/presentation-dobservable-par-nicolas-lambert/">Ã©vÃ©nement autour dâ€™<code>Observable</code></a> animÃ© par <a href="https://observablehq.com/@neocartocnrs">Nicolas Lambert</a> a rÃ©uni prÃ¨s de 50 personnes.</p>
</section>
<section id="rÃ©partition-des-modes-daccÃ¨s-au-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="rÃ©partition-des-modes-daccÃ¨s-au-rÃ©seau">RÃ©partition des modes dâ€™accÃ¨s au rÃ©seau</h2>
<p>Le rÃ©seau propose <strong>deux canaux de diffusion</strong> de lâ€™information: une liste de diffusion par mail et un canal de discussion instantanÃ©e qui utilise la messagerie sÃ©curisÃ©e de lâ€™Etat <a href="https://www.tchap.gouv.fr/"><code>Tchap</code></a>. Environ <strong>55%</strong> des membres de la liste de diffusion (soit plus de 180 personnes) sont Ã©galement inscrits sur le canal de discussion instantanÃ©e.</p>
<iframe width="100%" height="529" frameborder="0" src="https://observablehq.com/embed/@linogaliana/2022-year-recap-data-scientists-network?cells=repartition">
</iframe>
</section>
<section id="composition-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="composition-du-rÃ©seau">Composition du rÃ©seau</h2>
<p>La diffusion dâ€™informations par le rÃ©seau a permis de rÃ©unir des <em>data scientists</em> de <strong>27 organisations diffÃ©rentes</strong>. Lâ€™<a href="https://www.insee.fr/fr/accueil">Insee</a>, qui reprÃ©sente 47% de lâ€™effectif du rÃ©seau, est majoritaire. Suivent dans le palmarÃ¨s, les services statistiques du <a href="https://drees.solidarites-sante.gouv.fr/">MinistÃ¨re de la SantÃ© (DREES)</a> et du <a href="https://www.statistiques.developpement-durable.gouv.fr/">MinistÃ¨re du DÃ©veloppement Durable (SDES)</a>.</p>
<div id="observablehq-treemap_network-81108356">

</div>
</section>
<section id="Ã©volution-de-la-composition-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="Ã©volution-de-la-composition-du-rÃ©seau">Ã‰volution de la composition du rÃ©seau</h2>
<p>La diffusion progressive dâ€™informations par le biais des <em>newsletters</em> a permis de diversifier progressivement la composition de la liste de diffusion. Alors que la premiÃ¨re <em>newsletter</em> de lâ€™annÃ©e 2022 avait Ã©tÃ© diffusÃ©e auprÃ¨s de <strong>14 institutions</strong>, ce sont des agents de <strong>27 organisations</strong> qui ont reÃ§ues la derniÃ¨re.</p>
<p>Les Ã©vÃ©nements organisÃ©s par le rÃ©seau ou les prÃ©sentations spÃ©ciales, comme celle pour les <a href="https://prez-nouveaux-admin-ssphub-20221125.netlify.app/#/title-slide">administrateurs de lâ€™INSEE en poste Ã  lâ€™ENSAE</a>, ont Ã©galement pu motiver des personnes Ã  intÃ©grer le rÃ©seau.</p>
<div id="observablehq-grid-bbfd8ffe">

</div>
</section>
<section id="programme-10" class="level2">
<h2 class="anchored" data-anchor-id="programme-10">Programme 10%</h2>
<p>Les membres du rÃ©seau des <em>data scientists</em> ont Ã©tÃ© particuliÃ¨rement actifs dans le cadre du <strong><a href="https://10pourcent.etalab.studio/">programme interministÃ©riel 10%</a></strong>, issu des recommandations dâ€™un <a href="https://www.numerique.gouv.fr/uploads/RAPPORT-besoins-competences-donnee.pdf">rapport INSEE-DINUM â€œÃ‰valuation des besoins de lâ€™Ã‰tat en compÃ©tences et expertises en matiÃ¨re de donnÃ©eâ€</a>.</p>
<p>La saison 1 a donnÃ© sa chance Ã  <strong>quatre projets</strong>, portÃ©s par diffÃ©rentes administrations. Si lâ€™un dâ€™eux existait dÃ©jÃ  depuis plus de deux ans (projet <a href="https://github.com/spyrales/gouvdown"><code>Gouvdown</code></a>), trois sont nÃ©s pour lâ€™occasion, avec la mise en ligne de code immÃ©diate (<code>Cartiflette</code>) ou postÃ©rieure au <em>bootcamp</em> de lancement (<code>Socratext</code> et <code>matchSIRET</code>) .</p>
<p>Tous les projets sont ouverts et disponible sur <code>Github</code>. Une statistique qui permet de reprÃ©senter leur succÃ¨s est le nombre de â­: câ€™est un peu un mÃ©lange entre un site en favori sous <code>Firefox</code> puisque cela permet de facilement retrouver un projet dans <code>Github</code> et le nombre de <em>followers</em> dâ€™une page sur <code>Facebook</code> ou sur <code>Twitter</code> puisque cela permet de suivre lâ€™activitÃ© dâ€™un dÃ©pÃ´t <code>Github</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cette visualisation fait appel Ã  lâ€™API <code>Github</code>. Si les figures ne sâ€™affichent pas, cela peut Ãªtre dÃ» Ã  un dÃ©passement du nombre de requÃªtes par heure autorisÃ©es par lâ€™API <code>Github</code> sans jeton. A lâ€™heure actuelle, il nâ€™existe pas encore de fonctionalitÃ© gratuite sous <code>Observable</code> pour stocker de maniÃ¨re sÃ©curisÃ©e un jeton pour lâ€™API <code>Github</code>.</p>
<details>
<summary>
DÃ©rouler pour afficher une version non rÃ©active
</summary>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_09/cartiflette.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>cartiflette</code></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_09/socratext.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>Socratext</code></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_09/gouvdown.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>Gouvdown</code></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_09/matchsiret.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>matchSIRET</code></figcaption>
</figure>
</div>
</details>
</div>
</div>
<iframe width="100%" height="967" frameborder="0" src="https://observablehq.com/embed/@linogaliana/2022-year-recap-data-scientists-network?cells=containeur_github"></iframe>
</section>
<section id="autres-actualitÃ©s-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="autres-actualitÃ©s-du-rÃ©seau">Autres actualitÃ©s du rÃ©seau</h2>
<section id="prÃ©sentation-de-gridviz-par-julien-gaffuri" class="level3">
<h3 class="anchored" data-anchor-id="prÃ©sentation-de-gridviz-par-julien-gaffuri">PrÃ©sentation de <code>Gridviz</code> par Julien Gaffuri</h3>
<p>Pour rappel, le <strong>20 Janvier 2023 de 11h Ã  12h30</strong> Julien Gaffuri (Eurostat) viendra nous prÃ©senter la librairie open-source <a href="https://eurostat.github.io/gridviz/"><code>Gridviz</code></a>. RÃ©servez ce crÃ©neau pour dÃ©couvrir cette librairie qui ouvre de nouvelles perspectives pour la mise Ã  disposition de donnÃ©es gÃ©ographiques !</p>
<p><a href="gridviz.ics">TÃ©lÃ©charger lâ€™invitation Ã  lâ€™Ã©vÃ©nement sous format <code>Outlook</code></a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_09/gridviz.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Source: <a href="https://observablehq.com/@neocartocnrs/hello-gridviz">Notebook <code>Hello Gridviz</code> par <code>neocarto</code> sur <code>Observable</code></a></figcaption>
</figure>
</div>
</section>
<section id="premiÃ¨re-place-europÃ©enne-au-hackathon-big-data-de-lonu" class="level3">
<h3 class="anchored" data-anchor-id="premiÃ¨re-place-europÃ©enne-au-hackathon-big-data-de-lonu">PremiÃ¨re place europÃ©enne au <em>hackathon</em> Big Data de lâ€™ONU</h3>
<p>Les rÃ©sultats du <em>hackathon big data</em> de lâ€™ONU, ayant eu lieu du 7 au Novembre 2022, ont Ã©tÃ© annoncÃ©s ! Lâ€™<a href="https://github.com/InseeFrLab/hackathon-un-2022">Ã©quipe <code>Datadive</code></a> - constituÃ©e de membres du rÃ©seau de lâ€™INSEE, de la DGFIP et du CASD - est arrivÃ©e Ã  la <a href="https://unstats.un.org/bigdata/events/2022/hackathon/winners-bde.cshtml">premiÃ¨re place des Ã©quipes europÃ©ennes</a> ğŸ‰.</p>
</section>
<section id="git-et-bonnes-pratiques-des-formations-de-formateurs-prÃ©vus-pour-les-statisticiens-publics" class="level3">
<h3 class="anchored" data-anchor-id="git-et-bonnes-pratiques-des-formations-de-formateurs-prÃ©vus-pour-les-statisticiens-publics"><code>Git</code> et bonnes pratiques: des formations de formateurs prÃ©vus pour les statisticiens publics</h3>
<p>Les nouvelles formations Ã  <code>Git</code> et aux bonnes pratiques avec <code>R</code>, testÃ©es rÃ©cemment Ã  lâ€™Insee et au service statistique du MinistÃ¨re du Travail, la DARES, (voir <em>newsletters</em> de <a href="../../uploads/infolettre_6.pdf">Novembre</a> et <a href="(/uploads/infolettre_7.pdf)">DÃ©cembre</a>), deviennent des formations nationales.</p>
<p>Pour pouvoir diffuser les bonnes pratiques favorisant le partage de codes et la qualitÃ© des projets statistiques, il est nÃ©cessaire dâ€™avoir le plus dâ€™enseignants possibles pour cette formation. Pour permettre cela, un appel Ã  candidat pour une <strong>formation de formateurs</strong> a Ã©tÃ© diffusÃ©e Ã  lâ€™Insee et dans les services statistiques ministÃ©riels. Si vous Ãªtes intÃ©ressÃ©s et ne lâ€™avez pas reÃ§u, nâ€™hÃ©sitez pas Ã  envoyer un mail Ã  ssphub-contact@insee.fr</p>
<p>En attendant, les supports de ces formations sont dÃ©jÃ  disponibles sur <a href="https://inseefrlab.github.io/formation-bonnes-pratiques-git/#/title-slide">inseefrlab.github.io/formation-bonnes-pratiques-git/</a> et sur <a href="https://inseefrlab.github.io/formation-bonnes-pratiques-R/#/title-slide">inseefrlab.github.io/formation-bonnes-pratiques-R/</a>. Les codes sources sont bien-sÃ»r ouverts et disponibles sur <code>Github</code>, tant pour la <a href="https://github.com/InseeFrLab/formation-bonnes-pratiques-git">premiÃ¨re partie</a> que pour <a href="https://github.com/InseeFrLab/formation-bonnes-pratiques-R">la seconde</a>. Ceux-ci sont construits collectivement, nâ€™hÃ©sitez pas Ã  suggÃ©rer des modifications depuis <code>Github</code>.</p>
<p>Un site web plus complet devrait prochainement voir le jour pour accompagner cette formation. En complÃ©ment de celui-ci, des Ã©lÃ©ments peuvent dÃ©jÃ  Ãªtre trouvÃ©s dans le cours de 3e annÃ©e de lâ€™ENSAE sur la <a href="https://ensae-reproductibilite.netlify.app/">mise en production de projets <em>data science</em></a> et dans la documentation collaborative <a href="https://www.utilitr.org/"><code>utilitR</code></a>.</p>
<style media="screen">


  #observablehq-evolution-bbfd8ffe .has-title {
    font-size: 18px;
  }


  #observablehq-treemap_network-81108356 .has-title {
    fill: black;
    font-size: 18px;
    font-weight: bold;
  }

  .slidecontainer {
    width: 100%;
  }

  .slider {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    border-radius: 5px;
    background: #d3d3d3;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
  }

  .slider:hover {
    opacity: 1;
  }

  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #4CAF50;
    cursor: pointer;
  }

  .slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #4CAF50;
    cursor: pointer;
  }

  svg {
    background-color: white !important;
    color: black !important;
  }
  
  figure figcaption {
    /* text-align: center; */
    text-align: left;
  }
.fullwidth {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}  
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css">
<script type="module">
import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
import define from "https://api.observablehq.com/@linogaliana/2022-year-recap-data-scientists-network.js?v=3";
new Runtime().module(define, name => {
  if (name === "evolution") return new Inspector(document.querySelector("#observablehq-evolution-bbfd8ffe"));
  if (name === "treemap_network") return new Inspector(document.querySelector("#observablehq-treemap_network-81108356"));
  if (name === "grid") return new Inspector(document.querySelector("#observablehq-grid-bbfd8ffe"));
});
</script>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Les actions de communication du mois de janvier ont permis dâ€™augmenter sensiblement le nombre de personnes dans cette liste (340 dÃ©but janvier). Un retour spÃ©cial sur le mois de janvier sera lâ€™occasion idÃ©ale pour une autre rÃ©trospective quantitative.â†©ï¸</p></li>
</ol>
</section></div> ]]></description>
  <category>Insee</category>
  <category>Retrospective</category>
  <category>Infolettre</category>
  <category>Retrospective</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_09/</guid>
  <pubDate>Tue, 10 Jan 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_09/featured.png" medium="image" type="image/png" height="80" width="144"/>
</item>
<item>
  <title>Infolettre nÂ°9</title>
  <link>https://ssphub.netlify.app/post/recap2022/</link>
  <description><![CDATA[ 





<p><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Un mail Ã  <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a> suffit</em></p>
<p>La <a href="https://ssphub.netlify.app/post/retrospective2022/">rÃ©trospective de lâ€™annÃ©e 2022</a> promettait une version plus personnalisÃ©e, inspirÃ©e des visualisations proposÃ©es par les rÃ©seaux sociaux pour synthÃ©tiser lâ€™activitÃ© de leurs utilisateurs.</p>
<p>Cette <em>newsletter</em> un peu spÃ©ciale propose un retour sur la premiÃ¨re annÃ©e du rÃ©seau des data scientists de la statistique publique dont la prÃ©figuration a commencÃ© en mars 2022 et qui a Ã©tÃ© lancÃ© officiellement en septembre. Vous pourrez retrouver Ã  la fin de la <em>newsletter</em> des informations plus classiques: Ã©vÃ©nements, retour sur les actions du rÃ©seau, formations, etc.</p>
<p>Elle permet aussi dâ€™illustrer le potentiel dâ€™outils qui ont Ã©tÃ© prÃ©sentÃ©s dans la <a href="https://ssphub.netlify.app/post/retrospective2022/">rÃ©trospective de lâ€™annÃ©e 2022</a>. Toutes les figures sont rÃ©actives, notamment quand vous passez votre souris dessus. Les principaux ingrÃ©dients qui ont Ã©tÃ© ici utilisÃ©s, et qui avaient Ã©tÃ© mentionnÃ©s dans la premiÃ¨re partie de la rÃ©trospective, sont <code>Observable</code>, <code>Quarto</code> et <code>DuckDB</code>. Les donnÃ©es sont stockÃ©es sur le systÃ¨me de stockage <code>S3</code> du <code>SSPCloud</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ce <em>notebook</em> utilise certaines les fonctionalitÃ©s dâ€™<code>Observable</code> pour proposer des visualisations interactives de maniÃ¨re efficace.</p>
<details>
<summary>
<p>Si vous Ãªtes intÃ©ressÃ©s par le <em>making-of</em> de cette page <em>web</em>, cliquez sur le menu dÃ©roulant (partie plus technique).</p>
</summary>
<p><br> <code>Observable</code> est Ã  la fois un langage visant Ã  simplifier lâ€™usage de <code>JavaScript</code> pour mettre en oeuvre des visualisations interactives et une <a href="https://observablehq.com/">plateforme</a> permettant de simplifier la mise Ã  disposition de ces visualisations sous une forme de <em>notebook</em>.</p>
<p>Les statistiques de comptage sont enregistrÃ©es sous format <code>Parquet</code> sur le systÃ¨me de stockage <code>S3</code> du <code>SSPCloud</code>. Lâ€™intÃ©gration native de <code>DuckDB</code> Ã  <code>Observable</code> permet au navigateur <em>web</em> de lire et dâ€™effectuer des manipulations de donnÃ©es Ã  travers des requÃªtes SQL de maniÃ¨re trÃ¨s efficace. Sur ce sujet, outre la <a href="https://observablehq.com/@observablehq/duckdb">documentation officielle dâ€™<code>Observable</code></a>, je recommande vivement le <a href="https://observablehq.com/@ericmauviere/duckdb-redonne-nouvelle-vie-sql">tutoriel dâ€™Eric MauviÃ¨re</a>.</p>
<p>La librairie <a href="https://observablehq.com/@observablehq/plot"><code>Plot</code></a> propose de nombreuses fonctionalitÃ©s utiles pour construire des visualisations interactives. Sa logique est assez proche de celle des <em>frameworks</em> <a href="https://observablehq.com/@observablehq/plot-from-ggplot2"><code>ggplot2</code> en <code>R</code></a> ou <a href="https://observablehq.com/@observablehq/plot-overview-for-matplotlib-users"><code>matplotlib</code> en <code>Python</code></a>. Lorsque la librairie <code>Plot</code> nâ€™est plus suffisante, comme pour le <em>treemap</em> sur cette page, le <em>framework</em> <code>d3.js</code> est utile.</p>
<p>Lâ€™intÃ©gration de figures construites Ã  partir du langage <code>Observable</code> peut Ãªtre faite de plusieurs maniÃ¨res:</p>
<ul>
<li>Utiliser <a href="https://quarto.org/docs/interactive/ojs/"><code>Quarto</code></a> qui permet de crÃ©er une page <em>web</em> statique autosuffisante Ã  partir dâ€™une suite dâ€™instructions dans des blocs <code>{ojs}</code>. Cette mÃ©thode est trÃ¨s intÃ©ressante pour lâ€™intÃ©gration de figures <code>JavaScript</code> dans des sites <em>web</em> complets gÃ©nÃ©rÃ©s de maniÃ¨re automatique. Bien quâ€™initialement envisagÃ©e, cette mÃ©thode ne fait pas encore bon mÃ©nage avec <a href="https://gohugo.io/"><code>Hugo</code></a> qui nâ€™attend pas des <code>Quarto Markdown</code> mais des <code>Markdown</code> classiques</li>
<li>Utiliser la plateforme <a href="https://observablehq.com/@linogaliana"><code>observablehq</code></a> pour crÃ©er un <em>notebook</em> proposant le code Ã  lâ€™origine des visualisations puis intÃ©grer ces derniÃ¨res par le biais dâ€™<code>&lt;iframe&gt;</code> ou de lâ€™intÃ©gration via <code>Runtime JS</code>. Cela permet dâ€™avoir ces visualisations sur une page statique sans stocker au mÃªme endroit le code ayant permis de les gÃ©nÃ©rer et permettant de les reproduire, qui nâ€™intÃ©resse pas nÃ©cessairement le mÃªme public.</li>
</ul>
<p>La deuxiÃ¨me approche, celle de lâ€™intÃ©gration depuis un <em>notebook</em> <code>observable</code> a Ã©tÃ© choisie. Ce <em>notebook</em> est disponible sur <a href="https://observablehq.com/@linogaliana/2022-year-recap-data-scientists-network">la plateforme</a> pour les utilisateurs intÃ©ressÃ©s par la rÃ©utilisation des figures, des donnÃ©es sous-jacentes ou des utilitaires ayant permis dâ€™aboutir Ã  certaines visualisations. Le code source de cette page, disponible sur le <a href="https://raw.githubusercontent.com/InseeFrLab/ssphub/main/content/post/recap2022/index.md"><code>Github inseefrlab/ssphub</code></a> illustre la maniÃ¨re dont les figures peuvent Ãªtre intÃ©grÃ©es Ã  un site <em>web</em> depuis la plateforme <a href="https://observablehq.com/"><code>observablehq</code></a>. Bien que jâ€™ai privilÃ©giÃ© la mÃ©thode <code>Runtime JS</code>, qui permet dâ€™intÃ©grer la visualisation sans le bandeau <code>Observable</code> sous la figure, pour certaines dâ€™entre elles, jâ€™ai dÃ» utiliser la mÃ©thode <code>&lt;iframe&gt;</code> du fait de certaines limitations dans lâ€™hÃ©ritage de rÃ¨gles CSS aux <code>svg</code> gÃ©nÃ©rÃ©s par <code>Plot</code> qui affectaient la colorisation et donc la lecture de certaines figures.</p>
</details>
</div>
</div>
<section id="lannÃ©e-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="lannÃ©e-du-rÃ©seau">Lâ€™annÃ©e du rÃ©seau</h2>
<p>Le rÃ©seau comporte deux canaux de communication: une liste de diffusion mail et un canal de discussions instantanÃ©es. IntÃ©ressons nous dâ€™abord Ã  la liste de diffusion mail !</p>
<div id="observablehq-evolution-bbfd8ffe">

</div>
<p>Pendant lâ€™annÃ©e 2022, <strong>7 <em>newsletters</em></strong> ont Ã©tÃ© diffusÃ©es par mail. Chacune a permis dâ€™augmenter sensiblement le nombre de personnes dans la liste de diffusion. A la fin de lâ€™annÃ©e, il y avait <strong>312 inscrits</strong><sup>1</sup> dans la liste de diffusion.</p>
<p>Le rÃ©seau a organisÃ© <strong>trois Ã©vÃ©nements</strong> pendant lâ€™annÃ©e 2022. Dâ€™abord, avant lâ€™Ã©tÃ©, deux <em>open hours</em> ont eu lieu. Cet Ã©vÃ©nement informel prenant la forme de retour dâ€™expÃ©rience a Ã©tÃ© lâ€™occasion de discussions stimulantes autour de dâ€™usage de la <em>data science</em> pour lâ€™administration. En novembre, lâ€™<a href="../../talk/presentation-dobservable-par-nicolas-lambert/">Ã©vÃ©nement autour dâ€™<code>Observable</code></a> animÃ© par <a href="https://observablehq.com/@neocartocnrs">Nicolas Lambert</a> a rÃ©uni prÃ¨s de 50 personnes.</p>
</section>
<section id="rÃ©partition-des-modes-daccÃ¨s-au-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="rÃ©partition-des-modes-daccÃ¨s-au-rÃ©seau">RÃ©partition des modes dâ€™accÃ¨s au rÃ©seau</h2>
<p>Le rÃ©seau propose <strong>deux canaux de diffusion</strong> de lâ€™information: une liste de diffusion par mail et un canal de discussion instantanÃ©e qui utilise la messagerie sÃ©curisÃ©e de lâ€™Etat <a href="https://www.tchap.gouv.fr/"><code>Tchap</code></a>. Environ <strong>55%</strong> des membres de la liste de diffusion (soit plus de 180 personnes) sont Ã©galement inscrits sur le canal de discussion instantanÃ©e.</p>
<iframe width="100%" height="529" frameborder="0" src="https://observablehq.com/embed/@linogaliana/2022-year-recap-data-scientists-network?cells=repartition">
</iframe>
</section>
<section id="composition-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="composition-du-rÃ©seau">Composition du rÃ©seau</h2>
<p>La diffusion dâ€™informations par le rÃ©seau a permis de rÃ©unir des <em>data scientists</em> de <strong>27 organisations diffÃ©rentes</strong>. Lâ€™<a href="https://www.insee.fr/fr/accueil">Insee</a>, qui reprÃ©sente 47% de lâ€™effectif du rÃ©seau, est majoritaire. Suivent dans le palmarÃ¨s, les services statistiques du <a href="https://drees.solidarites-sante.gouv.fr/">MinistÃ¨re de la SantÃ© (DREES)</a> et du <a href="https://www.statistiques.developpement-durable.gouv.fr/">MinistÃ¨re du DÃ©veloppement Durable (SDES)</a>.</p>
<div id="observablehq-treemap_network-81108356">

</div>
</section>
<section id="Ã©volution-de-la-composition-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="Ã©volution-de-la-composition-du-rÃ©seau">Ã‰volution de la composition du rÃ©seau</h2>
<p>La diffusion progressive dâ€™informations par le biais des <em>newsletters</em> a permis de diversifier progressivement la composition de la liste de diffusion. Alors que la premiÃ¨re <em>newsletter</em> de lâ€™annÃ©e 2022 avait Ã©tÃ© diffusÃ©e auprÃ¨s de <strong>14 institutions</strong>, ce sont des agents de <strong>27 organisations</strong> qui ont reÃ§ues la derniÃ¨re.</p>
<p>Les Ã©vÃ©nements organisÃ©s par le rÃ©seau ou les prÃ©sentations spÃ©ciales, comme celle pour les <a href="https://prez-nouveaux-admin-ssphub-20221125.netlify.app/#/title-slide">administrateurs de lâ€™INSEE en poste Ã  lâ€™ENSAE</a>, ont Ã©galement pu motiver des personnes Ã  intÃ©grer le rÃ©seau.</p>
<div id="observablehq-grid-bbfd8ffe">

</div>
</section>
<section id="programme-10" class="level2">
<h2 class="anchored" data-anchor-id="programme-10">Programme 10%</h2>
<p>Les membres du rÃ©seau des <em>data scientists</em> ont Ã©tÃ© particuliÃ¨rement actifs dans le cadre du <strong><a href="https://10pourcent.etalab.studio/">programme interministÃ©riel 10%</a></strong>, issu des recommandations dâ€™un <a href="https://www.numerique.gouv.fr/uploads/RAPPORT-besoins-competences-donnee.pdf">rapport INSEE-DINUM â€œÃ‰valuation des besoins de lâ€™Ã‰tat en compÃ©tences et expertises en matiÃ¨re de donnÃ©eâ€</a>.</p>
<p>La saison 1 a donnÃ© sa chance Ã  <strong>quatre projets</strong>, portÃ©s par diffÃ©rentes administrations. Si lâ€™un dâ€™eux existait dÃ©jÃ  depuis plus de deux ans (projet <a href="https://github.com/spyrales/gouvdown"><code>Gouvdown</code></a>), trois sont nÃ©s pour lâ€™occasion, avec la mise en ligne de code immÃ©diate (<code>Cartiflette</code>) ou postÃ©rieure au <em>bootcamp</em> de lancement (<code>Socratext</code> et <code>matchSIRET</code>) .</p>
<p>Tous les projets sont ouverts et disponible sur <code>Github</code>. Une statistique qui permet de reprÃ©senter leur succÃ¨s est le nombre de â­: câ€™est un peu un mÃ©lange entre un site en favori sous <code>Firefox</code> puisque cela permet de facilement retrouver un projet dans <code>Github</code> et le nombre de <em>followers</em> dâ€™une page sur <code>Facebook</code> ou sur <code>Twitter</code> puisque cela permet de suivre lâ€™activitÃ© dâ€™un dÃ©pÃ´t <code>Github</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cette visualisation fait appel Ã  lâ€™API <code>Github</code>. Si les figures ne sâ€™affichent pas, cela peut Ãªtre dÃ» Ã  un dÃ©passement du nombre de requÃªtes par heure autorisÃ©es par lâ€™API <code>Github</code> sans jeton. A lâ€™heure actuelle, il nâ€™existe pas encore de fonctionalitÃ© gratuite sous <code>Observable</code> pour stocker de maniÃ¨re sÃ©curisÃ©e un jeton pour lâ€™API <code>Github</code>.</p>
<details>
<summary>
DÃ©rouler pour afficher une version non rÃ©active
</summary>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/recap2022/cartiflette.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>cartiflette</code></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/recap2022/socratext.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>Socratext</code></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/recap2022/gouvdown.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>Gouvdown</code></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/recap2022/matchsiret.png" class="img-fluid figure-img"></p>
<figcaption>Projet <code>matchSIRET</code></figcaption>
</figure>
</div>
</details>
</div>
</div>
<iframe width="100%" height="967" frameborder="0" src="https://observablehq.com/embed/@linogaliana/2022-year-recap-data-scientists-network?cells=containeur_github"></iframe>
</section>
<section id="autres-actualitÃ©s-du-rÃ©seau" class="level2">
<h2 class="anchored" data-anchor-id="autres-actualitÃ©s-du-rÃ©seau">Autres actualitÃ©s du rÃ©seau</h2>
<section id="prÃ©sentation-de-gridviz-par-julien-gaffuri" class="level3">
<h3 class="anchored" data-anchor-id="prÃ©sentation-de-gridviz-par-julien-gaffuri">PrÃ©sentation de <code>Gridviz</code> par Julien Gaffuri</h3>
<p>Pour rappel, le <strong>20 Janvier 2023 de 11h Ã  12h30</strong> Julien Gaffuri (Eurostat) viendra nous prÃ©senter la librairie open-source <a href="https://eurostat.github.io/gridviz/"><code>Gridviz</code></a>. RÃ©servez ce crÃ©neau pour dÃ©couvrir cette librairie qui ouvre de nouvelles perspectives pour la mise Ã  disposition de donnÃ©es gÃ©ographiques !</p>
<p><a href="gridviz.ics">TÃ©lÃ©charger lâ€™invitation Ã  lâ€™Ã©vÃ©nement sous format <code>Outlook</code></a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/recap2022/gridviz.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Source: <a href="https://observablehq.com/@neocartocnrs/hello-gridviz">Notebook <code>Hello Gridviz</code> par <code>neocarto</code> sur <code>Observable</code></a></figcaption>
</figure>
</div>
</section>
<section id="premiÃ¨re-place-europÃ©enne-au-hackathon-big-data-de-lonu" class="level3">
<h3 class="anchored" data-anchor-id="premiÃ¨re-place-europÃ©enne-au-hackathon-big-data-de-lonu">PremiÃ¨re place europÃ©enne au <em>hackathon</em> Big Data de lâ€™ONU</h3>
<p>Les rÃ©sultats du <em>hackathon big data</em> de lâ€™ONU, ayant eu lieu du 7 au Novembre 2022, ont Ã©tÃ© annoncÃ©s ! Lâ€™<a href="https://github.com/InseeFrLab/hackathon-un-2022">Ã©quipe <code>Datadive</code></a> - constituÃ©e de membres du rÃ©seau de lâ€™INSEE, de la DGFIP et du CASD - est arrivÃ©e Ã  la <a href="https://unstats.un.org/bigdata/events/2022/hackathon/winners-bde.cshtml">premiÃ¨re place des Ã©quipes europÃ©ennes</a> ğŸ‰.</p>
</section>
<section id="git-et-bonnes-pratiques-des-formations-de-formateurs-prÃ©vus-pour-les-statisticiens-publics" class="level3">
<h3 class="anchored" data-anchor-id="git-et-bonnes-pratiques-des-formations-de-formateurs-prÃ©vus-pour-les-statisticiens-publics"><code>Git</code> et bonnes pratiques: des formations de formateurs prÃ©vus pour les statisticiens publics</h3>
<p>Les nouvelles formations Ã  <code>Git</code> et aux bonnes pratiques avec <code>R</code>, testÃ©es rÃ©cemment Ã  lâ€™Insee et au service statistique du MinistÃ¨re du Travail, la DARES, (voir <em>newsletters</em> de <a href="../../uploads/infolettre_6.pdf">Novembre</a> et <a href="(/uploads/infolettre_7.pdf)">DÃ©cembre</a>), deviennent des formations nationales.</p>
<p>Pour pouvoir diffuser les bonnes pratiques favorisant le partage de codes et la qualitÃ© des projets statistiques, il est nÃ©cessaire dâ€™avoir le plus dâ€™enseignants possibles pour cette formation. Pour permettre cela, un appel Ã  candidat pour une <strong>formation de formateurs</strong> a Ã©tÃ© diffusÃ©e Ã  lâ€™Insee et dans les services statistiques ministÃ©riels. Si vous Ãªtes intÃ©ressÃ©s et ne lâ€™avez pas reÃ§u, nâ€™hÃ©sitez pas Ã  envoyer un mail Ã  ssphub-contact@insee.fr</p>
<p>En attendant, les supports de ces formations sont dÃ©jÃ  disponibles sur <a href="https://inseefrlab.github.io/formation-bonnes-pratiques-git/#/title-slide">inseefrlab.github.io/formation-bonnes-pratiques-git/</a> et sur <a href="https://inseefrlab.github.io/formation-bonnes-pratiques-R/#/title-slide">inseefrlab.github.io/formation-bonnes-pratiques-R/</a>. Les codes sources sont bien-sÃ»r ouverts et disponibles sur <code>Github</code>, tant pour la <a href="https://github.com/InseeFrLab/formation-bonnes-pratiques-git">premiÃ¨re partie</a> que pour <a href="https://github.com/InseeFrLab/formation-bonnes-pratiques-R">la seconde</a>. Ceux-ci sont construits collectivement, nâ€™hÃ©sitez pas Ã  suggÃ©rer des modifications depuis <code>Github</code>.</p>
<p>Un site web plus complet devrait prochainement voir le jour pour accompagner cette formation. En complÃ©ment de celui-ci, des Ã©lÃ©ments peuvent dÃ©jÃ  Ãªtre trouvÃ©s dans le cours de 3e annÃ©e de lâ€™ENSAE sur la <a href="https://ensae-reproductibilite.netlify.app/">mise en production de projets <em>data science</em></a> et dans la documentation collaborative <a href="https://www.utilitr.org/"><code>utilitR</code></a>.</p>
<style media="screen">


  #observablehq-evolution-bbfd8ffe .has-title {
    font-size: 18px;
  }


  #observablehq-treemap_network-81108356 .has-title {
    fill: black;
    font-size: 18px;
    font-weight: bold;
  }

  .slidecontainer {
    width: 100%;
  }

  .slider {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    border-radius: 5px;
    background: #d3d3d3;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
  }

  .slider:hover {
    opacity: 1;
  }

  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #4CAF50;
    cursor: pointer;
  }

  .slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #4CAF50;
    cursor: pointer;
  }

  svg {
    background-color: white !important;
    color: black !important;
  }
  
  figure figcaption {
    /* text-align: center; */
    text-align: left;
  }
.fullwidth {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}  
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css">
<script type="module">
import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
import define from "https://api.observablehq.com/@linogaliana/2022-year-recap-data-scientists-network.js?v=3";
new Runtime().module(define, name => {
  if (name === "evolution") return new Inspector(document.querySelector("#observablehq-evolution-bbfd8ffe"));
  if (name === "treemap_network") return new Inspector(document.querySelector("#observablehq-treemap_network-81108356"));
  if (name === "grid") return new Inspector(document.querySelector("#observablehq-grid-bbfd8ffe"));
});
</script>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Les actions de communication du mois de janvier ont permis dâ€™augmenter sensiblement le nombre de personnes dans cette liste (340 dÃ©but janvier). Un retour spÃ©cial sur le mois de janvier sera lâ€™occasion idÃ©ale pour une autre rÃ©trospective quantitative.â†©ï¸</p></li>
</ol>
</section></div> ]]></description>
  <category>Insee</category>
  <category>Retrospective</category>
  <category>Infolettre</category>
  <category>Retrospective</category>
  <guid>https://ssphub.netlify.app/post/recap2022/</guid>
  <pubDate>Tue, 10 Jan 2023 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/post/recap2022/featured.png" medium="image" type="image/png" height="80" width="144"/>
</item>
<item>
  <title>Lâ€™annÃ©e 2022 dans le monde de la data science : IA, transformation de RStudio, Observable</title>
  <link>https://ssphub.netlify.app/infolettre/infolettre_08/</link>
  <description><![CDATA[ 





<p><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Un mail Ã  <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a> suffit</em></p>
<p>La fin de lâ€™annÃ©e est gÃ©nÃ©ralement synonyme de bÃ©tisiers, <em>best of</em> ou rÃ©trospectives personnalisÃ©es qui nous permettent de nous rappeler les Ã©vÃ©nements marquants de lâ€™annÃ©e.</p>
<p>Pour cÃ©lÃ©brer la fin de lâ€™annÃ©e 2022, la <em>newsletter</em> de janvier adopte un format un peu spÃ©cial pour proposer, en deux temps, deux rÃ©trospectives.</p>
<p>Cette premiÃ¨re <em>newsletter</em> revient sur les principaux Ã©vÃ©nements de lâ€™annÃ©e 2022 dans le monde de la <em>data science</em>. La <a href="https://ssphub.netlify.app/post/recap2022/">seconde <em>newsletter</em></a> proposera une rÃ©trospective quantitative sur le rÃ©seau des <em>data scientists</em> de la statistique publique, Ã  la maniÃ¨re des rÃ©trospectives personnalisÃ©es de nos applications prÃ©fÃ©rÃ©es.</p>
<section id="les-ia-crÃ©atrices-de-contenu-Ã -lhonneur" class="level1">
<h1>Les IA crÃ©atrices de contenu Ã  lâ€™honneur</h1>
<p>Si lâ€™annÃ©e 2022 a Ã©tÃ© particuliÃ¨rement riche dans le domaine de la <em>data science</em>, câ€™est principalement grÃ¢ce Ã  deux coups mÃ©diatiques dâ€™<a href="https://openai.com/">OpenAI</a>, Ã  savoir <a href="https://openai.com/dall-e-2/"><code>Dall-E</code></a> et <a href="https://openai.com/blog/chatgpt/"><code>ChatGPT</code></a>.</p>
<p>Ces deux outils ont beaucoup fait parler dâ€™eux, au-delÃ  de la sphÃ¨re traditionnelle de la <em>data science</em>. Le <em>buzz</em> a Ã©tÃ© intense sur <code>Twitter</code> ou sur <code>Mastodon</code>, le rÃ©seau social dont le nombre dâ€™utilisateurs a nettement augmentÃ© en rÃ©action au rachat de <code>Twitter</code> par Elon Musk en fin dâ€™annÃ©e.</p>
<p><img src="https://i.chzbgr.com/full/9717138688/hC5E738A3/chatgpt-will-see-all-criticisms-its-training-data-on-next-update-some-are-not-surviving-uprising.png" class="img-fluid" style="width:60.0%"></p>
<p>Ces innovations, parce quâ€™elles pourraient avoir des effets Ã  long terme sur la maniÃ¨re dont le grand public apprÃ©hende lâ€™intelligence artificielle, ont beaucoup intÃ©ressÃ© les mÃ©dias traditionnels, notamment <a href="https://www.lemonde.fr/economie/article/2022/12/06/chatgpt-le-logiciel-capable-d-ecrire-des-petits-textes-confondants_6153252_3234.html"><em>Le Monde</em></a>, <a href="https://www.economist.com/news/2022/06/11/how-a-computer-designed-this-weeks-cover"><em>The Economist</em> et sa <em>â€œNouvelle FrontiÃ¨reâ€</em></a> ou <a href="https://www.theguardian.com/commentisfree/2022/dec/10/i-wrote-this-column-myself-but-how-long-before-a-chatbot-could-do-it-for-me">le <em>Guardian</em></a> qui sâ€™interroge sur la nature des tÃ¢ches que lâ€™intelligence artificielle pourra remplacer Ã  terme : procÃ©durales et rÃ©gies par des rÃ¨gles bien dÃ©finies ou bien Ã©galement des activitÃ©s nÃ©cessitant de la crÃ©ativitÃ© et des capacitÃ©s dâ€™analyse ?</p>
<p>Pour une fois, il ne sâ€™agit donc pas de souligner exclusivement les limites de ces modÃ¨les voire leurs dÃ©rives (<a href="https://fr.wikipedia.org/wiki/Deepfake"><em>deep fake</em></a>, <a href="https://www.washingtonpost.com/technology/2022/07/16/racist-robots-ai/">biais racistes</a>â€¦) mais aussi de sâ€™enthousiasmer sur leur <a href="https://www.platformer.news/p/how-dall-e-could-power-a-creative">potentiel crÃ©atif</a>. Il est difficile de rester insensible Ã  certaines des crÃ©ations artistiques des modÃ¨les <a href="https://dalle2.gallery/#search-random"><code>Dall-E</code></a>, <a href="https://stablediffusion.fr/gallery"><code>Stable Diffusion</code></a>, <a href="https://www.midjourney.com/showcase/recent/">Midjourney</a> et consorts ou de rÃ©sister Ã  la tentation de tester la capacitÃ© de <code>ChatGPT</code> Ã  rÃ©pondre Ã  des questions complexes Les chercheurs, et pas des moindres (notamment <a href="https://twitter.com/andrewyng/status/1600284752258686976?lang=fr">Andrew Ng</a> ou <a href="https://theconversation.com/beau-parleur-comme-une-ia-196084">GaÃ«l Varoquaux</a>) se sont Ã©galement saisis de cette question et ont soulignÃ© les biais de raisonnement et excÃ¨s de confiance de ces IA.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/CompVis/stable-diffusion/2ff270f4e0c884d9684fa038f6d84d8600a94b39/assets/stable-samples/txt2img/merged-0006.png" class="img-fluid figure-img"></p>
<figcaption>https://github.com/Stability-AI/stablediffusion</figcaption>
</figure>
</div>
<p>Si vous dÃ©sirez utiliser <code>Python</code> de maniÃ¨re crÃ©ative pour gÃ©nÃ©rer du contenu avec <code>Stable Diffusion</code>, vous pouvez consulter <a href="https://pythonds.linogaliana.fr/dalle/">ce tutoriel</a> qui fonctionne sur le <a href="https://www.sspcloud.fr/"><code>SSPCloud</code></a> ou sur <code>Google Colab</code>.</p>
<p><img src="https://i.chzbgr.com/full/9717140480/hD779E54E/writing-shit-like-elon-musk-suicide-note-and-robert-ebert-goncharov-review-please-stop-need-sleep.png" class="img-fluid" style="width:50.0%"></p>
</section>
<section id="le-succÃ¨s-des-modÃ¨les-de-diffusion" class="level1">
<h1>Le succÃ¨s des modÃ¨les de diffusion</h1>
<p>Ces <a href="https://pub.towardsai.net/generative-ai-and-future-c3b1695876f2">IA gÃ©nÃ©ratrices de contenu</a> reposent toutes, Ã  plusieurs niveaux, sur des rÃ©seaux de neurone.</p>
<p>Le premier Ã©tage de la fusÃ©e est un <a href="https://en.wikipedia.org/wiki/Language_model">modÃ¨le de langage</a> (<em>large language model</em>) qui synthÃ©tise un langage en un ensemble complexe de paramÃ¨tres. Les plus connus sont <a href="https://en.wikipedia.org/wiki/BERT_(language_model)">BERT</a> et <a href="https://en.wikipedia.org/wiki/GPT-3">GPT-3</a>. Lâ€™inflation dans le nombre de paramÃ¨tres nâ€™est pas prÃªte de sâ€™arrÃªter. Si les ressources nÃ©cessaires Ã  entraÃ®ner en 2018 le modÃ¨le BERT (110 millions de paramÃ¨tres) avaient dÃ©jÃ  <a href="https://arxiv.org/abs/1906.02243">Ã©tÃ© critiquÃ©es</a> en raison de leur coÃ»t financier et environnemental, cette complexitÃ© a encore augmentÃ© depuis. Le modÃ¨le <code>GPT-3</code>, sorti en 2020, et qui sert de base Ã  <code>Dall-E</code> et <code>ChatGPT</code> intÃ¨gre 175 milliards de paramÃ¨tres. Un chiffre qui apparaÃ®t minime par rapport aux 17O trillions de paramÃ¨tres attendus pour le modÃ¨le <code>GPT-4</code> en 2023.</p>
<p>En ce qui concerne les IA crÃ©atrices de contenu visuel, le deuxiÃ¨me Ã©tage de la fusÃ©e est un modÃ¨le dâ€™analyse dâ€™image qui apprend Ã  associer des images Ã  une description textuelle afin de dÃ©tecter des structures communes entre des mots ou des sÃ©quences de mots et des formes sur des images. Il sâ€™agit de dÃ©construire une forme en une structure minimale de pixels qui permet de lâ€™identifier.</p>
<figure class="figure">
<img src="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb4ef038-9c72-42b5-9383-26952d95aea0_740x141.jpeg" alt="Illustration d'un modÃ¨le de diffusion" class="figure-img">
<figcaption>
<i>Source: <a href="https://magazine.sebastianraschka.com/p/ahead-of-ai-1-a-diffusion-of-innovations" target="_blank">Sebastian Raschka</a></i>
</figcaption>
</figure>
<p>Ensuite, pour gÃ©nÃ©rer une image Ã  partir dâ€™une description inÃ©dite intervient le <a href="https://en.wikipedia.org/wiki/Diffusion_model">modÃ¨le de diffusion</a> qui reconstruit une image Ã  partir du mÃ©lange de lâ€™ensemble des pixels qui traduisent les concepts principaux dâ€™une instruction. Lâ€™une des explications les plus pÃ©dagogiques pour comprendre le fonctionnement de ces modÃ¨les vient du <a href="https://www.washingtonpost.com/technology/interactive/2022/ai-image-generator/"><em>Washington Post</em></a>.</p>
<p>Sinon, on peut demander directement Ã  <code>ChatGPT</code> de nous expliquer:</p>
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_08/diffusion.png" class="img-fluid"></p>
</section>
<section id="lactualitÃ©-dans-le-monde-du-deep-learning" class="level1">
<h1>Lâ€™actualitÃ© dans le monde du <em>deep learning</em></h1>
<p>Si le succÃ¨s dâ€™estime de ces IA gÃ©nÃ©ratrices consacre les modÃ¨les de diffusion, lâ€™annÃ©e du <em>deep learning</em> ne se rÃ©duit pas Ã  cette actualitÃ©.</p>
<p>Lâ€™annÃ©e a notamment Ã©tÃ© marquÃ©e par la compÃ©tition entre les librairies et Ã©cosystÃ¨mes <a href="https://www.tensorflow.org/?hl=fr"><code>TensorFlow</code></a>, dÃ©veloppÃ© par <code>Google</code>, et <a href="https://pytorch.org/"><code>PyTorch</code></a> projet initiÃ© par <code>Facebook/Meta</code>. <code>PyTorch</code>, plus rÃ©cent, bÃ©nÃ©ficie dâ€™une dynamique plus ascendante que <code>TensorFlow</code>. Le <a href="https://twitter.com/huggingface/status/1609162974626779136?s=20&amp;t=XUCGBC_PL60IdHjia8wXNA">succÃ¨s dâ€™<code>HuggingFace</code></a>, plateforme de mise Ã  disposition de modÃ¨les, et oÃ¹ les <a href="https://www.assemblyai.com/blog/pytorch-vs-tensorflow-in-2022/#pytorch-vs-tensorflowmodel-availability">implÃ©mentations <code>PyTorch</code> sont systÃ©matiques alors que celles en <code>TensorFlow</code> sont rares</a> a participÃ© Ã  la diffusion de <code>PyTorch</code>.</p>
<p>Preuve du succÃ¨s de <code>PyTorch</code>, cet Ã©cosystÃ¨me est dissociÃ© de <code>Meta</code> depuis septembre afin de devenir un outil gÃ©nÃ©raliste <a href="https://www.linuxfoundation.org/blog/blog/welcoming-pytorch-to-the-linux-foundation">gÃ©rÃ© par la <code>Linux Foundation</code></a>. Ã€ lâ€™inverse, <a href="https://twitter.com/ylecun/status/1538419932475555840"><code>Google</code> semble se dÃ©tacher graduellement de <code>TensorFlow</code></a> pour privilÃ©gier son nouvel Ã©cosystÃ¨me <code>JAX</code>.</p>
</section>
<section id="du-changement-cÃ´tÃ©-rstudio" class="level1">
<h1>Du changement cÃ´tÃ© <code>RStudio</code></h1>
<p>Depuis quelques annÃ©es, <code>RStudio</code> a fait le choix de devenir un Ã©cosystÃ¨me de <em>data science</em> gÃ©nÃ©raliste et non plus exclusivement attachÃ© au langage <code>R</code>.</p>
<p>Cette annÃ©e, cela sâ€™est traduit par la publication, trÃ¨s commentÃ©e, de <a href="https://quarto.org/"><code>Quarto</code></a> qui vise Ã  proposer, dans de nombreux langages de programmation, des fonctionalitÃ©s de publications reproductibles Ã©quivalentes Ã  lâ€™un des produits emblÃ©matiques de <code>RStudio</code>, Ã  savoir <a href="https://rmarkdown.rstudio.com/"><code>R Markdown</code></a>. Rien de mieux pour Ãªtre convaincu de lâ€™intÃ©rÃªt de cet outil que dâ€™observer <a href="https://quarto.org/docs/gallery/">la galerie dâ€™exemples</a>, dâ€™explorer <a href="https://quarto.org/">la documentation trÃ¨s riche</a>, ou de <a href="https://quarto.org/docs/get-started/hello/rstudio.html">tester soi-mÃªme</a> sur un exemple. Cet Ã©tÃ©, <code>RStudio</code> a Ã©galement annoncÃ© que <code>Shiny</code>, un autre produit emblÃ©matique, serait maintenant disponible sous <a href="https://shiny.rstudio.com/py/"><code>Python</code></a>, comme alternative Ã  <a href="https://dash.plotly.com/"><code>Dash</code></a> ou <a href="https://streamlit.io/"><code>Streamlit</code></a>.</p>
<p>Lâ€™annÃ©e 2022 a Ã©tÃ© lâ€™occasion, pour <code>RStudio</code>, dâ€™un autre changement, symbolique celui-ci. Afin de dÃ©tacher son image du langage <code>R</code>, lâ€™entreprise a en effet changÃ© de nom pour devenir <a href="https://posit.co/"><code>posit</code></a>. Lâ€™entreprise nâ€™a nÃ©anmoins pas abandonnÃ© son activitÃ© foisonnante dans <code>R</code> puisque Hadley Wickham a commencÃ© Ã  publier de nouveaux chapitres pour une nouvelle Ã©dition augmentÃ©e de lâ€™ouvrage de rÃ©fÃ©rence <a href="https://r4ds.had.co.nz/"><em>R For Data Science</em></a>.</p>
</section>
<section id="observable-devient-un-incontournable-dans-le-monde-de-la-dataviz" class="level1">
<h1><code>Observable</code> devient un incontournable dans le monde de la dataviz</h1>
<p>Pour permettre des visualisations interactives, cela fait plusieurs annÃ©es que <code>JavaScript</code> est un incontournable et que le <a href="https://fr.wikipedia.org/wiki/WebAssembly"><em>web assembly</em></a> retient <a href="https://twitter.com/solomonstre/status/1111004913222324225">de plus en plus dâ€™attention</a>.</p>
<p>Les journaux traditionnels utilisent ainsi de plus en plus le <em>data scrollytelling</em> , cette technique de narration qui consiste Ã  prÃ©senter des informations sous forme de rÃ©cit interactif, en utilisant une combinaison de texte et de graphiques qui apparaissent et disparaissent en fonction des actions du lecteur. Lâ€™un des exemples les plus rÃ©ussis des derniÃ¨res annÃ©es a sans doute Ã©tÃ© la visualisation du <a href="https://www.nytimes.com/interactive/2020/03/22/world/coronavirus-spread.html"><em>New York Times</em> <em>â€œHow the virus got outâ€</em></a>. Cette approche a Ã©galement Ã©tÃ© adoptÃ©e par le MinistÃ¨re de lâ€™Agriculture pour diffuser les chiffrÃ©s clÃ©s du <a href="https://vizagreste.agriculture.gouv.fr/">recensement agricole</a>. Nos voisins anglais ne sont pas en reste puisque les derniers rÃ©sultats du recensement sont proposÃ©s sur un <a href="https://www.ons.gov.uk/census/maps/choropleth/population/age/resident-age-3a/aged-16-to-64-years">site web remarquable de fluiditÃ©</a>.</p>
<p>Afin de permettre une diffusion accrue de visualisations en <code>JavaScript</code>, <a href="https://en.wikipedia.org/wiki/Mike_Bostock">Mike Bostock</a>, dÃ©jÃ  crÃ©ateur de la librairie de dataviz de rÃ©fÃ©rence <a href="https://en.wikipedia.org/wiki/D3.js"><code>D3.js</code></a>, est Ã  lâ€™origine de la plateforme <a href="https://observablehq.com/"><code>observable</code></a>, sorte de <code>Github</code> de la <em>dataviz</em> permettant du partage et de la rÃ©utilisation de <em>notebooks</em> rÃ©actifs. En cette annÃ©e 2022, la plateforme a connu un vÃ©ritable <em>boom</em> et est devenu un incontournable dans le domaine. Lâ€™une des raisons est lâ€™ajout de fonctionalitÃ©s qui permettent dâ€™Ã©tendre le public cible au delÃ  des dÃ©veloppeurs <em>web</em>, dÃ©jÃ  accoutumÃ©s Ã  <code>Javascript</code>. Parmi les fonctionalitÃ©s les plus remarquables, la possibilitÃ© depuis Novembre dâ€™utiliser des <a href="https://observablehq.com/@ericmauviere/duckdb-redonne-nouvelle-vie-sql">requÃªtes SQL</a> grÃ¢ce Ã  <a href="https://observablehq.com/@observablehq/duckdb"><code>DuckDB</code></a> permet aux habituÃ©s de <code>R</code> ou de <code>Python</code> de retrouver des manipulations auxquels ils sont habituÃ©s. La librairie <a href="https://observablehq.com/@observablehq/plot"><code>Plot</code></a> offre une <a href="https://observablehq.com/@observablehq/plot-from-ggplot2">grammaire proche de <code>ggplot2</code></a>.</p>
<p>La communautÃ© des cartographes a Ã©tÃ© particuliÃ¨rement active sur <code>Observable</code>, notamment Ã  lâ€™occasion du <a href="https://observablehq.com/collection/@observablehq/30-day-map-challenge">#30daymapchallenge</a>. <a href="https://observablehq.com/@neocartocnrs">Nicolas Bertin (<code>neocarto</code>)</a>, dont on ne peut que recommander lâ€™<a href="../../talk/presentation-dobservable-par-nicolas-lambert/">introduction Ã  <code>Observable</code></a> faite pour le rÃ©seau, ou <a href="https://observablehq.com/@ericmauviere">Eric MauviÃ¨re</a> font partie des comptes Ã  suivre dans la communautÃ© francophone.</p>
<p><code>Observable</code>, en tant que langage construit sur <code>JavaScript</code>, est Ã©galement disponible pour les utilisateurs de <a href="https://quarto.org/docs/interactive/ojs/"><code>Quarto</code></a>, ce qui permet de mettre Ã  disposition des visualisation rÃ©actives sans passer nÃ©cessairement par la plateforme <a href="https://observablehq.com/">observablehq.com</a> pour mettre Ã  disposition des visualisations rÃ©actives, ce qui constitue une alternative intÃ©ressante aux applications qui nÃ©cessitent un serveur en arriÃ¨re plan, comme <code>Shiny</code> ou <code>Dash</code>.</p>
<p><img src="https://ssphub.netlify.app/infolettre/infolettre_08/observable1.png" class="img-fluid"> <img src="https://ssphub.netlify.app/infolettre/infolettre_08/observable2.png" class="img-fluid"></p>
</section>
<section id="les-autres-actualitÃ©s-en-france" class="level1">
<h1>Les autres actualitÃ©s en France</h1>
<p>Le rapport du conseil dâ€™Ã‰tat pour la <a href="https://www.conseil-etat.fr/content/download/175739/file/Etude%20%C3%A0%20la%20demande%20du%20PM%20-%20IA%20et%20action%20publique.pdf">construction dâ€™une IA de â€œconfianceâ€</a> a donc Ã©tÃ© publiÃ© en une annÃ©e 2022 oÃ¹ les avancÃ©es techniques des derniÃ¨res annÃ©es commencent Ã  Ãªtre accessibles grÃ¢ce Ã  des outils plus grand public, ce qui va nÃ©cessairement soulever des enjeux Ã©thiques et juridiques.</p>
<p>Le <a href="https://www.onyxia.sh/">projet <code>Onyxia</code></a>, qui vise Ã  proposer une infrastructure de <em>data science</em> Ã  lâ€™Ã©tat de lâ€™art pour <em>data scientists</em>, a organisÃ© son deuxiÃ¨me <em>Openlab</em>. Lâ€™occasion de revenir sur le projet, sa philosophie, ses derniÃ¨res avancÃ©es mais aussi dâ€™Ã©changer sur les perspectives de rÃ©utilisation dans de multiples environnements et de nouer des partenariats qui permettront au projet de grandir encore en 2023.</p>
<!-----
- onyxia
- IA: rapport conseil d'Etat: https://www.conseil-etat.fr/content/download/175739/file/Etude%20%C3%A0%20la%20demande%20du%20PM%20-%20IA%20et%20action%20publique.pdf + UNECE Adasmm
- Ryanair v lastminute.com, jâ€™ai grossiÃ¨rement rÃ©sumÃ© le cas page 85 dans le support
- Data scientist 10 ans aprÃ¨s
------->


</section>

 ]]></description>
  <category>NLP</category>
  <category>Retrospective</category>
  <category>Observable</category>
  <category>Quarto</category>
  <category>Deep learning</category>
  <category>Insee</category>
  <category>Retrospective</category>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/infolettre/infolettre_08/</guid>
  <pubDate>Sat, 31 Dec 2022 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/infolettre/infolettre_08/featured.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Infolettre nÂ°8</title>
  <link>https://ssphub.netlify.app/post/retrospective2022/</link>
  <description><![CDATA[ 





<p><em>Vous dÃ©sirez intÃ©grer la liste de diffusion ? Un mail Ã  <a href="mailto:ssphub-contact@insee.fr" class="email">ssphub-contact@insee.fr</a> suffit</em></p>
<p>La fin de lâ€™annÃ©e est gÃ©nÃ©ralement synonyme de bÃ©tisiers, <em>best of</em> ou rÃ©trospectives personnalisÃ©es qui nous permettent de nous rappeler les Ã©vÃ©nements marquants de lâ€™annÃ©e.</p>
<p>Pour cÃ©lÃ©brer la fin de lâ€™annÃ©e 2022, la <em>newsletter</em> de janvier adopte un format un peu spÃ©cial pour proposer, en deux temps, deux rÃ©trospectives.</p>
<p>Cette premiÃ¨re <em>newsletter</em> revient sur les principaux Ã©vÃ©nements de lâ€™annÃ©e 2022 dans le monde de la <em>data science</em>. La <a href="https://ssphub.netlify.app/post/recap2022/">seconde <em>newsletter</em></a> proposera une rÃ©trospective quantitative sur le rÃ©seau des <em>data scientists</em> de la statistique publique, Ã  la maniÃ¨re des rÃ©trospectives personnalisÃ©es de nos applications prÃ©fÃ©rÃ©es.</p>
<section id="les-ia-crÃ©atrices-de-contenu-Ã -lhonneur" class="level1">
<h1>Les IA crÃ©atrices de contenu Ã  lâ€™honneur</h1>
<p>Si lâ€™annÃ©e 2022 a Ã©tÃ© particuliÃ¨rement riche dans le domaine de la <em>data science</em>, câ€™est principalement grÃ¢ce Ã  deux coups mÃ©diatiques dâ€™<a href="https://openai.com/">OpenAI</a>, Ã  savoir <a href="https://openai.com/dall-e-2/"><code>Dall-E</code></a> et <a href="https://openai.com/blog/chatgpt/"><code>ChatGPT</code></a>.</p>
<p>Ces deux outils ont beaucoup fait parler dâ€™eux, au-delÃ  de la sphÃ¨re traditionnelle de la <em>data science</em>. Le <em>buzz</em> a Ã©tÃ© intense sur <code>Twitter</code> ou sur <code>Mastodon</code>, le rÃ©seau social dont le nombre dâ€™utilisateurs a nettement augmentÃ© en rÃ©action au rachat de <code>Twitter</code> par Elon Musk en fin dâ€™annÃ©e.</p>
<p><img src="https://i.chzbgr.com/full/9717138688/hC5E738A3/chatgpt-will-see-all-criticisms-its-training-data-on-next-update-some-are-not-surviving-uprising.png" class="img-fluid" style="width:60.0%"></p>
<p>Ces innovations, parce quâ€™elles pourraient avoir des effets Ã  long terme sur la maniÃ¨re dont le grand public apprÃ©hende lâ€™intelligence artificielle, ont beaucoup intÃ©ressÃ© les mÃ©dias traditionnels, notamment <a href="https://www.lemonde.fr/economie/article/2022/12/06/chatgpt-le-logiciel-capable-d-ecrire-des-petits-textes-confondants_6153252_3234.html"><em>Le Monde</em></a>, <a href="https://www.economist.com/news/2022/06/11/how-a-computer-designed-this-weeks-cover"><em>The Economist</em> et sa <em>â€œNouvelle FrontiÃ¨reâ€</em></a> ou <a href="https://www.theguardian.com/commentisfree/2022/dec/10/i-wrote-this-column-myself-but-how-long-before-a-chatbot-could-do-it-for-me">le <em>Guardian</em></a> qui sâ€™interroge sur la nature des tÃ¢ches que lâ€™intelligence artificielle pourra remplacer Ã  terme : procÃ©durales et rÃ©gies par des rÃ¨gles bien dÃ©finies ou bien Ã©galement des activitÃ©s nÃ©cessitant de la crÃ©ativitÃ© et des capacitÃ©s dâ€™analyse ?</p>
<p>Pour une fois, il ne sâ€™agit donc pas de souligner exclusivement les limites de ces modÃ¨les voire leurs dÃ©rives (<a href="https://fr.wikipedia.org/wiki/Deepfake"><em>deep fake</em></a>, <a href="https://www.washingtonpost.com/technology/2022/07/16/racist-robots-ai/">biais racistes</a>â€¦) mais aussi de sâ€™enthousiasmer sur leur <a href="https://www.platformer.news/p/how-dall-e-could-power-a-creative">potentiel crÃ©atif</a>. Il est difficile de rester insensible Ã  certaines des crÃ©ations artistiques des modÃ¨les <a href="https://dalle2.gallery/#search-random"><code>Dall-E</code></a>, <a href="https://stablediffusion.fr/gallery"><code>Stable Diffusion</code></a>, <a href="https://www.midjourney.com/showcase/recent/">Midjourney</a> et consorts ou de rÃ©sister Ã  la tentation de tester la capacitÃ© de <code>ChatGPT</code> Ã  rÃ©pondre Ã  des questions complexes Les chercheurs, et pas des moindres (notamment <a href="https://twitter.com/andrewyng/status/1600284752258686976?lang=fr">Andrew Ng</a> ou <a href="https://theconversation.com/beau-parleur-comme-une-ia-196084">GaÃ«l Varoquaux</a>) se sont Ã©galement saisis de cette question et ont soulignÃ© les biais de raisonnement et excÃ¨s de confiance de ces IA.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/CompVis/stable-diffusion/2ff270f4e0c884d9684fa038f6d84d8600a94b39/assets/stable-samples/txt2img/merged-0006.png" class="img-fluid figure-img"></p>
<figcaption>https://github.com/Stability-AI/stablediffusion</figcaption>
</figure>
</div>
<p>Si vous dÃ©sirez utiliser <code>Python</code> de maniÃ¨re crÃ©ative pour gÃ©nÃ©rer du contenu avec <code>Stable Diffusion</code>, vous pouvez consulter <a href="https://pythonds.linogaliana.fr/dalle/">ce tutoriel</a> qui fonctionne sur le <a href="https://www.sspcloud.fr/"><code>SSPCloud</code></a> ou sur <code>Google Colab</code>.</p>
<p><img src="https://i.chzbgr.com/full/9717140480/hD779E54E/writing-shit-like-elon-musk-suicide-note-and-robert-ebert-goncharov-review-please-stop-need-sleep.png" class="img-fluid" style="width:50.0%"></p>
</section>
<section id="le-succÃ¨s-des-modÃ¨les-de-diffusion" class="level1">
<h1>Le succÃ¨s des modÃ¨les de diffusion</h1>
<p>Ces <a href="https://pub.towardsai.net/generative-ai-and-future-c3b1695876f2">IA gÃ©nÃ©ratrices de contenu</a> reposent toutes, Ã  plusieurs niveaux, sur des rÃ©seaux de neurone.</p>
<p>Le premier Ã©tage de la fusÃ©e est un <a href="https://en.wikipedia.org/wiki/Language_model">modÃ¨le de langage</a> (<em>large language model</em>) qui synthÃ©tise un langage en un ensemble complexe de paramÃ¨tres. Les plus connus sont <a href="https://en.wikipedia.org/wiki/BERT_(language_model)">BERT</a> et <a href="https://en.wikipedia.org/wiki/GPT-3">GPT-3</a>. Lâ€™inflation dans le nombre de paramÃ¨tres nâ€™est pas prÃªte de sâ€™arrÃªter. Si les ressources nÃ©cessaires Ã  entraÃ®ner en 2018 le modÃ¨le BERT (110 millions de paramÃ¨tres) avaient dÃ©jÃ  <a href="https://arxiv.org/abs/1906.02243">Ã©tÃ© critiquÃ©es</a> en raison de leur coÃ»t financier et environnemental, cette complexitÃ© a encore augmentÃ© depuis. Le modÃ¨le <code>GPT-3</code>, sorti en 2020, et qui sert de base Ã  <code>Dall-E</code> et <code>ChatGPT</code> intÃ¨gre 175 milliards de paramÃ¨tres. Un chiffre qui apparaÃ®t minime par rapport aux 17O trillions de paramÃ¨tres attendus pour le modÃ¨le <code>GPT-4</code> en 2023.</p>
<p>En ce qui concerne les IA crÃ©atrices de contenu visuel, le deuxiÃ¨me Ã©tage de la fusÃ©e est un modÃ¨le dâ€™analyse dâ€™image qui apprend Ã  associer des images Ã  une description textuelle afin de dÃ©tecter des structures communes entre des mots ou des sÃ©quences de mots et des formes sur des images. Il sâ€™agit de dÃ©construire une forme en une structure minimale de pixels qui permet de lâ€™identifier.</p>
<figure class="figure">
<img src="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb4ef038-9c72-42b5-9383-26952d95aea0_740x141.jpeg" alt="Illustration d'un modÃ¨le de diffusion" class="figure-img">
<figcaption>
<i>Source: <a href="https://magazine.sebastianraschka.com/p/ahead-of-ai-1-a-diffusion-of-innovations" target="_blank">Sebastian Raschka</a></i>
</figcaption>
</figure>
<p>Ensuite, pour gÃ©nÃ©rer une image Ã  partir dâ€™une description inÃ©dite intervient le <a href="https://en.wikipedia.org/wiki/Diffusion_model">modÃ¨le de diffusion</a> qui reconstruit une image Ã  partir du mÃ©lange de lâ€™ensemble des pixels qui traduisent les concepts principaux dâ€™une instruction. Lâ€™une des explications les plus pÃ©dagogiques pour comprendre le fonctionnement de ces modÃ¨les vient du <a href="https://www.washingtonpost.com/technology/interactive/2022/ai-image-generator/"><em>Washington Post</em></a>.</p>
<p>Sinon, on peut demander directement Ã  <code>ChatGPT</code> de nous expliquer:</p>
<p><img src="https://ssphub.netlify.app/post/retrospective2022/diffusion.png" class="img-fluid"></p>
</section>
<section id="lactualitÃ©-dans-le-monde-du-deep-learning" class="level1">
<h1>Lâ€™actualitÃ© dans le monde du <em>deep learning</em></h1>
<p>Si le succÃ¨s dâ€™estime de ces IA gÃ©nÃ©ratrices consacre les modÃ¨les de diffusion, lâ€™annÃ©e du <em>deep learning</em> ne se rÃ©duit pas Ã  cette actualitÃ©.</p>
<p>Lâ€™annÃ©e a notamment Ã©tÃ© marquÃ©e par la compÃ©tition entre les librairies et Ã©cosystÃ¨mes <a href="https://www.tensorflow.org/?hl=fr"><code>TensorFlow</code></a>, dÃ©veloppÃ© par <code>Google</code>, et <a href="https://pytorch.org/"><code>PyTorch</code></a> projet initiÃ© par <code>Facebook/Meta</code>. <code>PyTorch</code>, plus rÃ©cent, bÃ©nÃ©ficie dâ€™une dynamique plus ascendante que <code>TensorFlow</code>. Le <a href="https://twitter.com/huggingface/status/1609162974626779136?s=20&amp;t=XUCGBC_PL60IdHjia8wXNA">succÃ¨s dâ€™<code>HuggingFace</code></a>, plateforme de mise Ã  disposition de modÃ¨les, et oÃ¹ les <a href="https://www.assemblyai.com/blog/pytorch-vs-tensorflow-in-2022/#pytorch-vs-tensorflowmodel-availability">implÃ©mentations <code>PyTorch</code> sont systÃ©matiques alors que celles en <code>TensorFlow</code> sont rares</a> a participÃ© Ã  la diffusion de <code>PyTorch</code>.</p>
<p>Preuve du succÃ¨s de <code>PyTorch</code>, cet Ã©cosystÃ¨me est dissociÃ© de <code>Meta</code> depuis septembre afin de devenir un outil gÃ©nÃ©raliste <a href="https://www.linuxfoundation.org/blog/blog/welcoming-pytorch-to-the-linux-foundation">gÃ©rÃ© par la <code>Linux Foundation</code></a>. Ã€ lâ€™inverse, <a href="https://twitter.com/ylecun/status/1538419932475555840"><code>Google</code> semble se dÃ©tacher graduellement de <code>TensorFlow</code></a> pour privilÃ©gier son nouvel Ã©cosystÃ¨me <code>JAX</code>.</p>
</section>
<section id="du-changement-cÃ´tÃ©-rstudio" class="level1">
<h1>Du changement cÃ´tÃ© <code>RStudio</code></h1>
<p>Depuis quelques annÃ©es, <code>RStudio</code> a fait le choix de devenir un Ã©cosystÃ¨me de <em>data science</em> gÃ©nÃ©raliste et non plus exclusivement attachÃ© au langage <code>R</code>.</p>
<p>Cette annÃ©e, cela sâ€™est traduit par la publication, trÃ¨s commentÃ©e, de <a href="https://quarto.org/"><code>Quarto</code></a> qui vise Ã  proposer, dans de nombreux langages de programmation, des fonctionalitÃ©s de publications reproductibles Ã©quivalentes Ã  lâ€™un des produits emblÃ©matiques de <code>RStudio</code>, Ã  savoir <a href="https://rmarkdown.rstudio.com/"><code>R Markdown</code></a>. Rien de mieux pour Ãªtre convaincu de lâ€™intÃ©rÃªt de cet outil que dâ€™observer <a href="https://quarto.org/docs/gallery/">la galerie dâ€™exemples</a>, dâ€™explorer <a href="https://quarto.org/">la documentation trÃ¨s riche</a>, ou de <a href="https://quarto.org/docs/get-started/hello/rstudio.html">tester soi-mÃªme</a> sur un exemple. Cet Ã©tÃ©, <code>RStudio</code> a Ã©galement annoncÃ© que <code>Shiny</code>, un autre produit emblÃ©matique, serait maintenant disponible sous <a href="https://shiny.rstudio.com/py/"><code>Python</code></a>, comme alternative Ã  <a href="https://dash.plotly.com/"><code>Dash</code></a> ou <a href="https://streamlit.io/"><code>Streamlit</code></a>.</p>
<p>Lâ€™annÃ©e 2022 a Ã©tÃ© lâ€™occasion, pour <code>RStudio</code>, dâ€™un autre changement, symbolique celui-ci. Afin de dÃ©tacher son image du langage <code>R</code>, lâ€™entreprise a en effet changÃ© de nom pour devenir <a href="https://posit.co/"><code>posit</code></a>. Lâ€™entreprise nâ€™a nÃ©anmoins pas abandonnÃ© son activitÃ© foisonnante dans <code>R</code> puisque Hadley Wickham a commencÃ© Ã  publier de nouveaux chapitres pour une nouvelle Ã©dition augmentÃ©e de lâ€™ouvrage de rÃ©fÃ©rence <a href="https://r4ds.had.co.nz/"><em>R For Data Science</em></a>.</p>
</section>
<section id="observable-devient-un-incontournable-dans-le-monde-de-la-dataviz" class="level1">
<h1><code>Observable</code> devient un incontournable dans le monde de la dataviz</h1>
<p>Pour permettre des visualisations interactives, cela fait plusieurs annÃ©es que <code>JavaScript</code> est un incontournable et que le <a href="https://fr.wikipedia.org/wiki/WebAssembly"><em>web assembly</em></a> retient <a href="https://twitter.com/solomonstre/status/1111004913222324225">de plus en plus dâ€™attention</a>.</p>
<p>Les journaux traditionnels utilisent ainsi de plus en plus le <em>data scrollytelling</em> , cette technique de narration qui consiste Ã  prÃ©senter des informations sous forme de rÃ©cit interactif, en utilisant une combinaison de texte et de graphiques qui apparaissent et disparaissent en fonction des actions du lecteur. Lâ€™un des exemples les plus rÃ©ussis des derniÃ¨res annÃ©es a sans doute Ã©tÃ© la visualisation du <a href="https://www.nytimes.com/interactive/2020/03/22/world/coronavirus-spread.html"><em>New York Times</em> <em>â€œHow the virus got outâ€</em></a>. Cette approche a Ã©galement Ã©tÃ© adoptÃ©e par le MinistÃ¨re de lâ€™Agriculture pour diffuser les chiffrÃ©s clÃ©s du <a href="https://vizagreste.agriculture.gouv.fr/">recensement agricole</a>. Nos voisins anglais ne sont pas en reste puisque les derniers rÃ©sultats du recensement sont proposÃ©s sur un <a href="https://www.ons.gov.uk/census/maps/choropleth/population/age/resident-age-3a/aged-16-to-64-years">site web remarquable de fluiditÃ©</a>.</p>
<p>Afin de permettre une diffusion accrue de visualisations en <code>JavaScript</code>, <a href="https://en.wikipedia.org/wiki/Mike_Bostock">Mike Bostock</a>, dÃ©jÃ  crÃ©ateur de la librairie de dataviz de rÃ©fÃ©rence <a href="https://en.wikipedia.org/wiki/D3.js"><code>D3.js</code></a>, est Ã  lâ€™origine de la plateforme <a href="https://observablehq.com/"><code>observable</code></a>, sorte de <code>Github</code> de la <em>dataviz</em> permettant du partage et de la rÃ©utilisation de <em>notebooks</em> rÃ©actifs. En cette annÃ©e 2022, la plateforme a connu un vÃ©ritable <em>boom</em> et est devenu un incontournable dans le domaine. Lâ€™une des raisons est lâ€™ajout de fonctionalitÃ©s qui permettent dâ€™Ã©tendre le public cible au delÃ  des dÃ©veloppeurs <em>web</em>, dÃ©jÃ  accoutumÃ©s Ã  <code>Javascript</code>. Parmi les fonctionalitÃ©s les plus remarquables, la possibilitÃ© depuis Novembre dâ€™utiliser des <a href="https://observablehq.com/@ericmauviere/duckdb-redonne-nouvelle-vie-sql">requÃªtes SQL</a> grÃ¢ce Ã  <a href="https://observablehq.com/@observablehq/duckdb"><code>DuckDB</code></a> permet aux habituÃ©s de <code>R</code> ou de <code>Python</code> de retrouver des manipulations auxquels ils sont habituÃ©s. La librairie <a href="https://observablehq.com/@observablehq/plot"><code>Plot</code></a> offre une <a href="https://observablehq.com/@observablehq/plot-from-ggplot2">grammaire proche de <code>ggplot2</code></a>.</p>
<p>La communautÃ© des cartographes a Ã©tÃ© particuliÃ¨rement active sur <code>Observable</code>, notamment Ã  lâ€™occasion du <a href="https://observablehq.com/collection/@observablehq/30-day-map-challenge">#30daymapchallenge</a>. <a href="https://observablehq.com/@neocartocnrs">Nicolas Bertin (<code>neocarto</code>)</a>, dont on ne peut que recommander lâ€™<a href="../../talk/presentation-dobservable-par-nicolas-lambert/">introduction Ã  <code>Observable</code></a> faite pour le rÃ©seau, ou <a href="https://observablehq.com/@ericmauviere">Eric MauviÃ¨re</a> font partie des comptes Ã  suivre dans la communautÃ© francophone.</p>
<p><code>Observable</code>, en tant que langage construit sur <code>JavaScript</code>, est Ã©galement disponible pour les utilisateurs de <a href="https://quarto.org/docs/interactive/ojs/"><code>Quarto</code></a>, ce qui permet de mettre Ã  disposition des visualisation rÃ©actives sans passer nÃ©cessairement par la plateforme <a href="https://observablehq.com/">observablehq.com</a> pour mettre Ã  disposition des visualisations rÃ©actives, ce qui constitue une alternative intÃ©ressante aux applications qui nÃ©cessitent un serveur en arriÃ¨re plan, comme <code>Shiny</code> ou <code>Dash</code>.</p>
<p><img src="https://ssphub.netlify.app/post/retrospective2022/observable1.png" class="img-fluid"> <img src="https://ssphub.netlify.app/post/retrospective2022/observable2.png" class="img-fluid"></p>
</section>
<section id="les-autres-actualitÃ©s-en-france" class="level1">
<h1>Les autres actualitÃ©s en France</h1>
<p>Le rapport du conseil dâ€™Ã‰tat pour la <a href="https://www.conseil-etat.fr/content/download/175739/file/Etude%20%C3%A0%20la%20demande%20du%20PM%20-%20IA%20et%20action%20publique.pdf">construction dâ€™une IA de â€œconfianceâ€</a> a donc Ã©tÃ© publiÃ© en une annÃ©e 2022 oÃ¹ les avancÃ©es techniques des derniÃ¨res annÃ©es commencent Ã  Ãªtre accessibles grÃ¢ce Ã  des outils plus grand public, ce qui va nÃ©cessairement soulever des enjeux Ã©thiques et juridiques.</p>
<p>Le <a href="https://www.onyxia.sh/">projet <code>Onyxia</code></a>, qui vise Ã  proposer une infrastructure de <em>data science</em> Ã  lâ€™Ã©tat de lâ€™art pour <em>data scientists</em>, a organisÃ© son deuxiÃ¨me <em>Openlab</em>. Lâ€™occasion de revenir sur le projet, sa philosophie, ses derniÃ¨res avancÃ©es mais aussi dâ€™Ã©changer sur les perspectives de rÃ©utilisation dans de multiples environnements et de nouer des partenariats qui permettront au projet de grandir encore en 2023.</p>
<!-----
- onyxia
- IA: rapport conseil d'Etat: https://www.conseil-etat.fr/content/download/175739/file/Etude%20%C3%A0%20la%20demande%20du%20PM%20-%20IA%20et%20action%20publique.pdf + UNECE Adasmm
- Ryanair v lastminute.com, jâ€™ai grossiÃ¨rement rÃ©sumÃ© le cas page 85 dans le support
- Data scientist 10 ans aprÃ¨s
------->


</section>

 ]]></description>
  <category>NLP</category>
  <category>Retrospective</category>
  <category>Observable</category>
  <category>Quarto</category>
  <category>Deep learning</category>
  <category>Insee</category>
  <category>Retrospective</category>
  <category>Infolettre</category>
  <guid>https://ssphub.netlify.app/post/retrospective2022/</guid>
  <pubDate>Sat, 31 Dec 2022 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/post/retrospective2022/featured.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Le plongement lexical ou comment apprendre Ã  lire Ã  un ordinateur</title>
  <link>https://ssphub.netlify.app/post/embedding/</link>
  <description><![CDATA[ 





<p>Avec le dÃ©veloppement de la collecte automatisÃ©e dâ€™information numÃ©rique, les donnÃ©es textuelles sont devenues omniprÃ©sentes, que ce soit sous la forme dâ€™e-mails, de rÃ©ponses Ã  des enquÃªtes, dâ€™articles de presse ou encore de commentaires sur les rÃ©seaux sociaux. Ces donnÃ©es peuvent Ãªtre une source trÃ¨s riche dâ€™informations mobilisable par les statisticiens, pour peu quâ€™ils parviennent Ã  en faire un traitement statistique. Ainsi, une problÃ©matique rÃ©currente dans la statistique publique consiste Ã  classer des informations formulÃ©es en langage courant (professions, noms de produits, noms de communes, etc.) dans des nomenclatures standardisÃ©es (PCS<sup>1</sup>, NAF<sup>2</sup>, COG<sup>3</sup>â€¦).</p>
<p>Or, le traitement des donnÃ©es textuelles pose une difficultÃ© particuliÃ¨re: <strong>le langage naturel nâ€™a pas de sens pour un ordinateur !</strong> Un ordinateur ne travaille quâ€™avec des nombres, et ne peut pas manipuler directement des mots, des expressions ou des phrases. Câ€™est pourquoi de multiples mÃ©thodes ont Ã©tÃ© dÃ©veloppÃ©es au cours des derniÃ¨res dÃ©cennies pour proposer des solutions gÃ©nÃ©riques permettant de traiter des corpus de donnÃ©es textuelles Ã  la fois peu structurÃ©s et hÃ©tÃ©rogÃ¨nes. Cet ensemble de mÃ©thodes de traitement automatisÃ© du langage, plus connues sous lâ€™acronyme <code>NLP</code> (<em>natural langage processing</em>) constituent encore aujourdâ€™hui un champ de recherche particuliÃ¨rement actif.</p>
<p>Ce billet de blog nâ€™a pas lâ€™ambition de proposer un aperÃ§u des mÃ©thodes de NLP, mais simplement de prÃ©senter deux mÃ©thodes frÃ©quemment utilisÃ©es pour transformer lâ€™information textuelle pour la rendre comprÃ©hensible et utilisable par une machine:</p>
<ul>
<li>le sac de mots (<em>bag of words</em>),</li>
<li>le plongement lexical (<em>word embedding</em>).</li>
</ul>
<section id="traiter-un-texte-comme-une-information-numÃ©rique-les-approches-possibles" class="level2">
<h2 class="anchored" data-anchor-id="traiter-un-texte-comme-une-information-numÃ©rique-les-approches-possibles">Traiter un texte comme une information numÃ©rique : les approches possibles</h2>
<section id="bag-of-words" class="level3">
<h3 class="anchored" data-anchor-id="bag-of-words">Lâ€™approche <em>bag of words</em></h3>
<p>Le principe du <em>bag of words</em> est quâ€™on peut dÃ©crire un document comme un dictionnaire de mots (un <em>sac de mots</em>) dans lequel on pioche plus ou moins frÃ©quemment un terme en fonction de son nombre dâ€™occurrences.</p>
<p>La maniÃ¨re la plus simple de transformer des phrases ou des libellÃ©s textuels en une information numÃ©rique est de passer par un objet que lâ€™on appelle la <strong>matrice document-terme</strong>. Lâ€™idÃ©e est de compter le nombre de fois oÃ¹ les mots (les termes, en colonne) sont prÃ©sents dans chaque phrase ou libellÃ© (le document, en ligne). Cette matrice fournit alors une reprÃ©sentation <strong>numÃ©rique</strong> des donnÃ©es textuelles.</p>
<p>ConsidÃ©rons un corpus constituÃ© des trois phrases suivantes :</p>
<ul>
<li>_â€œLa pratique du tricot et du crochet_â€</li>
<li><em>â€œTransmettre la passion du timbreâ€</em></li>
<li><em>â€œVivre de sa passionâ€</em></li>
</ul>
<p>La matrice document-terme associÃ©e Ã  ce corpus est la suivante :</p>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 6%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">crochet</th>
<th style="text-align: center;">de</th>
<th style="text-align: center;">du</th>
<th style="text-align: center;">et</th>
<th style="text-align: center;">la</th>
<th style="text-align: center;">passion</th>
<th style="text-align: center;">pratique</th>
<th style="text-align: center;">sa</th>
<th style="text-align: center;">timbre</th>
<th style="text-align: center;">transmettre</th>
<th style="text-align: center;">tricot</th>
<th style="text-align: center;">vivre</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>La pratique du tricot et du crochet</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td>Transmettre sa passion du timbre</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td>Vivre de sa passion</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
<p><strong>Mission accomplie !</strong> ğŸ‰ Chaque phrase du corpus est associÃ©e Ã  un vecteur numÃ©rique.</p>
<p>Il est maintenant possible de manipuler cette matrice comme des donnÃ©es tabulaires classiques. Par exemple, on pourrait appliquer lâ€™un des algorithmes usuels de classification (rÃ©gression logistique, forÃªt alÃ©atoire, <em>gradient boosting</em>, etc.) pour classer ces phrases dans des catÃ©gories.</p>
<p>Lâ€™approche <em>bag-of-words</em> rÃ©pond donc au besoin initial de transformer les donnÃ©es pour les rendre manipulables par une machine, en reprÃ©sentant les donnÃ©es textuelles sous la forme dâ€™une matrice document-terme. Cette approche prÃ©sente nÃ©anmoins une limite: elle traite tous les termes de faÃ§on indÃ©pendante et ne restitue pas la proximitÃ© de certains termes. Par exemple, rien dans la matrice document-terme de lâ€™exemple prÃ©cÃ©dent nâ€™indique que les termes <em>â€™tricotâ€</em> et <em>â€œcrochetâ€</em> relÃ¨vent du mÃªme champ lexical. Un autre type de reprÃ©sentation plus complexe et plus riche constitue souvent comme une meilleure option : le plongement lexical.</p>
</section>
<section id="embedding" class="level3">
<h3 class="anchored" data-anchor-id="embedding">Le plongement lexical</h3>
<p>Le plongement lexical (<em>word embedding</em> en anglais) consiste Ã  projeter lâ€™ensemble des termes qui apparaissent dans le corpus dans un espace numÃ©rique Ã  <img src="https://latex.codecogs.com/png.latex?n"> dimensions. Chaque mot est reprÃ©sentÃ© par un vecteur de taille fixe (comprenant <img src="https://latex.codecogs.com/png.latex?n"> nombres), de faÃ§on Ã  ce que deux mots dont le sens est proche possÃ¨dent des reprÃ©sentations numÃ©riques proches. Ainsi les mots Â« chat Â» et Â« chaton Â» devraient avoir des vecteurs de plongement assez similaires, eux-mÃªmes Ã©galement assez proches de celui du mot Â« chien Â» et plus Ã©loignÃ©s de la reprÃ©sentation du mot Â« maison Â».</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/embedding/word_embedding.png" class="img-fluid figure-img"></p>
<figcaption>Illustration du word embedding</figcaption>
</figure>
</div>
<div style="text-align: center">
Illustration du plongement lexical. Source : Post de blog <a href="https://medium.com/@hari4om/word-embedding-d816f643140" target="_blank">Word Embedding : Basics</a>
</div>
<p>&nbsp;</p>
<p>Chacune des <img src="https://latex.codecogs.com/png.latex?n"> composantes va encoder des informations diffÃ©rentes, comme le fait dâ€™Ãªtre un Ãªtre vivant ou un objet, le genre, lâ€™Ã¢ge, le niveau dâ€™abstraction, etc. Câ€™est pour cette raison que des termes appartenant au mÃªme champ lexical auront des reprÃ©sentations numÃ©riquement proches. En pratique, les vecteurs de plongement ont des dizaines voire des centaines de composantes et il est impossible dâ€™associer Ã  chacune une interprÃ©tation univoque : toutes les notions sâ€™entremÃªlent, mais chaque composante a un rÃ´le Ã  jouer.</p>
<p>Le plongement lexical possÃ¨de deux avantages par rapport Ã  lâ€™approche <em>bag of words</em>. Dâ€™une part, il fournit une reprÃ©sentation dense des termes, qui est plus adaptÃ©e aux algorithmes dâ€™apprentissage statistique que la reprÃ©sentation creuse (matrice contenant beaucoup de zÃ©ros) de lâ€™approche <em>bag of words</em>. Dâ€™autre part, les opÃ©rations mathÃ©matiques ont un sens sur les vecteurs du plongement. Câ€™est lÃ  la magie du plongement lexical: <strong>il devient possible de faire des mathÃ©matiques avec les mots</strong>. Ainsi par exemple, les vecteurs rÃ©sultant de la diffÃ©rence entre les reprÃ©sentations des mots Â« femme Â» et Â« homme Â» dâ€™une part, et des mots Â« reine Â» et Â« roi Â» dâ€™autre part, devraient Ãªtre proches, car conceptuellement ces couples de mots sont rÃ©gis par la mÃªme relation : un changement de genre.</p>
<p>Cette formule, souvent rÃ©sumÃ©e sous la forme,</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bking%7D%20-%20%5Ctext%7Bman%7D%20+%20%5Ctext%7Bwoman%7D%20%E2%89%88%20%5Ctext%7Bqueen%7D"></p>
<p>a assurÃ© le succÃ¨s des <em>embeddings</em>, car elle permet Ã  une machine dâ€™apprÃ©hender les relations logiques entre les mots.</p>
<p>Jusquâ€™ici, nous avons parlÃ© du plongement de mots, mais comment obtenir le plongement dâ€™un libellÃ© textuel ? Une possibilitÃ© est de considÃ©rer tous les mots qui composent le libellÃ© et de calculer la moyenne de leurs vecteurs de plongement.</p>
</section>
</section>
<section id="construction-dun-plongement-lexical" class="level2">
<h2 class="anchored" data-anchor-id="construction-dun-plongement-lexical">Construction dâ€™un plongement lexical</h2>
<p>Un plongement lexical se construit en parcourant un grand corpus de textes et en repÃ©rant les mots qui apparaissent souvent dans le mÃªme contexte. Lâ€™ensemble des articles <code>Wikipedia</code> est un des corpus de prÃ©dilection des personnes ayant construit des plongements lexicaux. Il comporte en effet des phrases complÃ¨tes, contrairement Ã  des informations issues de commentaires de rÃ©seaux sociaux, et propose des rapprochements intÃ©ressants entre des personnes, des lieux, etc.</p>
<p>Le contexte dâ€™un mot est dÃ©fini par une fenÃªtre de taille fixe autour de ce mot. La taille de la fenÃªtre est un paramÃ¨tre de la construction de lâ€™<em>embedding</em>. Le corpus fournit un grand ensemble dâ€™exemples mots-contexte, qui peuvent servir Ã  entraÃ®ner un rÃ©seau de neurones.</p>
<p>Plus prÃ©cisÃ©ment, il existe deux approches :</p>
<ul>
<li><em>Continuous bag of words</em> (CBOW), oÃ¹ le modÃ¨le est entraÃ®nÃ© Ã  prÃ©dire un mot Ã  partir de son contexte ;</li>
<li><em>Skip-gram</em>, oÃ¹ le modÃ¨le tente de prÃ©dire le contexte Ã  partir dâ€™un seul mot.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/embedding/CBOW_Skipgram_training.png" class="img-fluid figure-img"></p>
<figcaption>Illustration de la diffÃ©rence entre les approches CBOW et Skip-gram</figcaption>
</figure>
</div>
<div style="text-align: center">
Illustration de la diffÃ©rence entre les approches CBOW et Skip-gram. Source : Anwarvic sur <a href="https://stackoverflow.com/questions/57507056/difference-between-max-length-of-word-ngrams-and-size-of-context-window" target="_blank">StackOverflow</a>
</div>
<p>&nbsp;</p>
<section id="algorithmes-cÃ©lÃ¨bres" class="level3">
<h3 class="anchored" data-anchor-id="algorithmes-cÃ©lÃ¨bres">Algorithmes cÃ©lÃ¨bres</h3>
<p>La mÃ©thode de construction dâ€™un plongement lexical prÃ©sentÃ©e ci-dessus est celle de lâ€™algorithme <a href="https://fr.wikipedia.org/wiki/Word2vec"><code>Word2Vec</code></a>. Il sâ€™agit dâ€™un modÃ¨le <em>open-source</em> dÃ©veloppÃ© par une Ã©quipe de <code>Google</code> en 2013. <code>Word2Vec</code> a Ã©tÃ© le pionnier en termes de modÃ¨les de plongement lexical.</p>
<p>Le modÃ¨le <a href="https://nlp.stanford.edu/projects/glove/"><code>GloVe</code></a> constitue un autre exemple<sup>4</sup>. DÃ©veloppÃ© en 2014 Ã  Stanford, ce modÃ¨le ne repose pas sur des rÃ©seaux de neurones mais sur la construction dâ€™une grande matrice de co-occurrences de mots. Pour chaque mot, il sâ€™agit de calculer les frÃ©quences dâ€™apparition des autres mots dans une fenÃªtre de taille fixe autour de lui. La matrice de co-occurrences obtenue est ensuite factorisÃ©e par une dÃ©composition en valeurs singuliÃ¨res. Il est Ã©galement possible de produire des plongements de mots Ã  partir du <a href="https://jalammar.github.io/illustrated-bert/">modÃ¨le de langage <code>BERT</code></a>, dÃ©veloppÃ© par <code>Google</code> en 2019, dont il existe des dÃ©clinaisons dans diffÃ©rentes langues, notamment en FranÃ§ais (les modÃ¨les <a href="https://camembert-model.fr/"><code>CamemBERT</code></a> ou <a href="https://github.com/getalp/Flaubert"><code>FlauBERT</code></a>)</p>
<p>Enfin, le modÃ¨le <a href="https://fasttext.cc/"><code>FastText</code></a>, dÃ©veloppÃ© en 2016 par une Ã©quipe de <code>Facebook</code>, fonctionne de faÃ§on similaire Ã  <code>Word2Vec</code> mais se distingue particuliÃ¨rement sur deux points :</p>
<ul>
<li>En plus des mots eux-mÃªmes, le modÃ¨le apprend des reprÃ©sentations pour les n-grams de caractÃ¨res (sous-sÃ©quences de caractÃ¨res de taille \(n\), par exemple <em>Â« tar Â»</em>, <em>Â« art Â»</em> et <em>Â« rte Â»</em> sont les trigrammes du mot <em>Â« tarte Â»</em>), ce qui le rend notamment robuste aux variations dâ€™orthographe ;</li>
<li>Le modÃ¨le a Ã©tÃ© optimisÃ© pour que son entraÃ®nement soit particuliÃ¨rement rapide.</li>
</ul>
<p>A <code>lâ€™Insee</code>, plusieurs modÃ¨les de classification de libellÃ©s textuels dans des nomenclatures reposent sur lâ€™algorithme de plongement lexical <a href="https://fasttext.cc/"><code>FastText</code></a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/embedding/fasttext.png" class="img-fluid figure-img"></p>
<figcaption>Illustration du modÃ¨le fastText</figcaption>
</figure>
</div>
<div style="text-align: center">
Illustration du fonctionnement du modÃ¨le fastText sur un libellÃ© de profession
</div>
<p>&nbsp;</p>
</section>
<section id="comment-utiliser-ces-modÃ¨les-en-pratique" class="level3">
<h3 class="anchored" data-anchor-id="comment-utiliser-ces-modÃ¨les-en-pratique">Comment utiliser ces modÃ¨les en pratique ?</h3>
<p>Collecter Ã  nouveau les donnÃ©es ayant servi Ã  entrainer un modÃ¨le puis le rÃ©-entraÃ®ner implique Ã©normÃ©ment de ressources, ce qui est coÃ»teux en temps et peu Ã©cologique<sup>5</sup>.</p>
<p>En <code>Python</code>, plusieurs librairies proposent les modÃ¨les <code>Word2Vec</code>, <code>GloVe</code>, <code>BERT</code> ou <code>FastText</code>. Le <a href="https://radimrehurek.com/gensim/">package <code>gensim</code></a> les met toutes en Å“uvre Ã  lâ€™exception de <code>BERT</code>. Ce dernier est disponible sur <a href="https://huggingface.co/docs/transformers/model_doc/bert"><code>HuggingFace</code></a>, la principale plateforme de mise Ã  disposition de modÃ¨les prÃ©-entraÃ®nÃ©s. Il est ainsi possible dâ€™utiliser <code>BERT</code> avec les librairies <a href="https://pytorch.org/hub/huggingface_pytorch-transformers/"><code>PyTorch</code></a> ou <a href="https://keras.io/examples/nlp/text_extraction_with_bert/"><code>Keras</code></a>. Chacun des modÃ¨les prÃ©sentÃ©s possÃ¨de Ã©galement son package dÃ©diÃ©, gÃ©nÃ©ralement dÃ©veloppÃ© par lâ€™Ã©quipe de recherche ayant entraÃ®nÃ© le modÃ¨le.</p>
<p>En <code>R</code>, il faut utiliser les packages <code>word2vec</code>, <code>text2vec</code> (pour le modÃ¨le GloVe) et <code>fastTextR</code>.</p>
</section>
</section>
<section id="bonus-le-plongement-lexical-en-version-ludique" class="level2">
<h2 class="anchored" data-anchor-id="bonus-le-plongement-lexical-en-version-ludique">Bonus : le plongement lexical en version ludique</h2>
<p>Le rÃ©sultat dâ€™un plongement lexical peut avoir de nombreux usages. Il rend notamment possible le calcul de la proximitÃ© entre deux mots quelconques.</p>
<p>Une maniÃ¨re de procÃ©der est de calculer la similaritÃ© cosinus entre les vecteurs de plongement des deux mots. Plus prÃ©cisÃ©ment, la similaritÃ© entre deux mots de reprÃ©sentations vectorielles \(u\) et \(v\) est dÃ©finie comme le cosinus de leur angle \( \) : <img src="https://latex.codecogs.com/png.latex?cos(%5Ctheta)%20=%20%5Cfrac%7Bu%20%5Ccdot%20v%7D%7B%5ClVert%20u%5CrVert%20%5ClVert%20v%5CrVert%7D"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://ssphub.netlify.app/post/embedding/similarite_cosinus.png" class="img-fluid figure-img"></p>
<figcaption>Illustration de la similaritÃ© cosinus</figcaption>
</figure>
</div>
<div style="text-align: center">
Illustration de la similaritÃ© cosinus en deux dimensions
</div>
<p>&nbsp;</p>
<p>Le calcul de la proximitÃ© entre les mots est Ã  la base du jeu <a href="https://cemantix.certitudes.org/">cemantix</a>. Le principe est proche du jeu <code>Wordle</code> mais sâ€™en distingue sur un point : il y a certes un mot Ã  trouver chaque jour et il sâ€™agit de faire des propositions de mots mais le jeu rÃ©pond en donnant la proximitÃ© entre les mots proposÃ©s et le mot du jour. Ainsi, au fil des propositions, on a une vision de plus en plus prÃ©cise du champ lexical associÃ© au mot mystÃ¨re, jusquâ€™Ã  finalement le trouver.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>La nomenclature <code>PCS</code> (professions et catÃ©gories socioprofessionnelles) sert Ã  la codification des professions dans le recensement et les enquÃªtes auprÃ¨s des mÃ©nages. Elle permet ainsi de classer un ensemble de professions dans une mÃªme catÃ©gorie. Par exemple, dans sa derniÃ¨re version (<a href="https://www.insee.fr/fr/information/6205305">PCS 2020</a>), la catÃ©gorie des <em>â€œProfessions libÃ©rales de santÃ©â€</em> (31A) regroupe diverses professions mÃ©dicales: mÃ©decins libÃ©raux, dentistes, psychologues, vÃ©terinaires, pharmaciens libÃ©rauxâ€¦ Une description plus complÃ¨te de cette nomenclature et de son historique est disponible sur <a href="https://www.insee.fr/fr/information/6208292">le site de lâ€™Insee</a>â†©ï¸</p></li>
<li id="fn2"><p>La <code>NAF</code> (nomenclature dâ€™activitÃ©s franÃ§aise), est une nomenclature des activitÃ©s Ã©conomiques productives, principalement Ã©laborÃ©e pour faciliter lâ€™organisation de lâ€™information Ã©conomique et sociale. Il sâ€™agit dâ€™une typologie facilitant la reprÃ©sentation de lâ€™Ã©conomie sous forme de secteurs. Par exemple, au sein de lâ€™industrie manufacturiÃ¨re (section C), la NAF distingue les industries alimentaires de lâ€™industrie de lâ€™habillement ou de lâ€™industrie automobile. Une description plus complÃ¨te de cette nomenclature et de son historique est disponible sur <a href="https://www.insee.fr/fr/information/2406147">le site de lâ€™Insee</a>â†©ï¸</p></li>
<li id="fn3"><p>Le Code Officiel GÃ©ographique est le rÃ©fÃ©rentiel permettant de relier des adresses, des noms de communes ou encore des noms de collectivitÃ©s locales Ã  un identifiant unique. Pour plus dâ€™informations, voir le <a href="https://www.insee.fr/fr/information/5230987">site de lâ€™Insee</a>â†©ï¸</p></li>
<li id="fn4"><p>Jeffrey Pennington, Richard Socher, and Christopher D. Manning. 2014. GloVe: Global Vectors for Word Representationâ†©ï¸</p></li>
<li id="fn5"><p>Strubell, Ganesh, and McCallum (2019) estiment que lâ€™entraÃ®nement dâ€™un modÃ¨le Ã  lâ€™Ã©tat de lâ€™art dans le domaine du NLP nÃ©cessite autant dâ€™Ã©nergie que ce que consommeraient cinq voitures, en moyenne, au cours de lâ€™ensemble de leur cycle de vie.â†©ï¸</p></li>
</ol>
</section></div> ]]></description>
  <category>Insee</category>
  <category>NLP</category>
  <guid>https://ssphub.netlify.app/post/embedding/</guid>
  <pubDate>Mon, 03 Oct 2022 00:00:00 GMT</pubDate>
  <media:content url="https://ssphub.netlify.app/post/embedding/featured.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
