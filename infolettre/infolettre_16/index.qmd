---
title: Infolettre n¬∞16
description: |
  Infolettre __D√©cembre 2023__

# Date published
date: '2023-12-14'
number: 16

image: santa.png

authors:
  - Lino Galiana

tags:
  - infolettre

categories:
  - Infolettre

css: style.css
code-annotations: hover

filters:
  - snow
---

![](santa.png){width=50% fig-align="center"}

:::{.callout-tip}

__*Vous d√©sirez int√©grer la liste de diffusion ? L'inscription se fait [ici](https://framaforms.org/integration-reseau-des-data-scientists-1676407156).*__

:::



No√´l approchant, avant d'
ouvrir ses cadeaux, de d√©vorer une 
b√ªche ou tout autre met d√©licieux, 
nous vous proposons de nous retourner pour regarder 
la progression de l'audience du r√©seau durant l'ann√©e 2023.
Cette newsletter commencera ainsi par
une r√©trospective du r√©seau, 
en √©cho √† celle de l'[ann√©e 2022](infolettre/infolettre_09/index.qmd).
Une partie consacr√©e aux actualit√©s de
la _data science_ suivra. 


<!-----
__TO DO__:

- featured image
- animation noel ?
- v√©rifier liens vers publis ssphub
- box making of
- show/hide code
------>

::: {.callout-note collapse="true"}
## Making of

`Observable` est √† la fois un langage visant √† simplifier l'usage de 
`JavaScript` {{< fa brands js-square >}} pour
mettre en oeuvre des visualisations interactives
et une [plateforme](https://observablehq.com/) permettant
de simplifier la mise √† disposition
de ces visualisations sous une forme de _notebook_. 

Les statistiques de comptage sont enregistr√©es sous format `Parquet` sur le syst√®me
de stockage `S3` du `SSPCloud`. L'int√©gration native de `DuckDB`
√† `Observable` permet au navigateur _web_
de lire et d'effectuer des manipulations de donn√©es √† travers des requ√™tes
SQL de mani√®re tr√®s efficace. Sur ce sujet, outre
la [documentation officielle d'`Observable`](https://observablehq.com/documentation/data/databases/database-clients#duckdb),
il est recommand√© de lire 
le [tutoriel d'Eric Mauvi√®re](https://observablehq.com/@ericmauviere/duckdb-redonne-nouvelle-vie-sql). 

La librairie [`Plot`](https://observablehq.com/@observablehq/plot) propose de nombreuses fonctionalit√©s
utiles pour construire des visualisations interactives. Sa logique est assez proche de celle
des _frameworks_ [`ggplot2` en `R`](https://observablehq.com/@observablehq/plot-from-ggplot2)
ou [`matplotlib` en `Python`](https://observablehq.com/@observablehq/plot-overview-for-matplotlib-users). 

Ce _post_ s'appuie sur 
[`Quarto`](https://quarto.org/docs/interactive/ojs/) qui permet de cr√©er une page _web_ 
statique autosuffisante √† partir d'une suite d'instructions dans des blocs `{ojs}`. Cette m√©thode est
tr√®s int√©ressante pour l'int√©gration de figures `JavaScript` dans des sites _web_ complets g√©n√©r√©s de
mani√®re automatique. 
Le code utilis√© est mis √† disposition des
curieux par le biais de menus d√©roulants.

L'ensemble des codes sources
n√©cessaires √† la reproduction de cette page
sont disponibles
sur le [`Github {{< fa brands github >}} inseefrlab/ssphub`](https://github.com/InseeFrLab/ssphub/blob/main/infolettre/infolettre_16/). Pour limiter les duplications de code,
les scripts ont √©t√© modularis√©s dans des fichiers s√©par√©s.  
Les √©l√©ments ne sont pas n√©cessairement pr√©sent√©s dans l'ordre
car `JavaScript` est un langage _asynchrone_, les √©l√©ments
ne sont pas execut√©s dans l'ordre de d√©finition mais 
dans l'ordre par lequel ils sont n√©cessaires pour obtenir un
objet donn√©. 

:::

## R√©trospective du r√©seau en 2023

### Une audience en progression

{{< include _snippet_progress_participants.qmd >}}

A l'exception du mois d'ao√ªt (pause estivale oblige),
la progression de l'audience a √©t√© assez r√©guli√®re
gr√¢ce aux √©v√©nements et contenus publi√©s sur le site
du `SSP Hub`. 


```{ojs}
//| echo: false
html`<div>Pendant l'ann√©e 2023, le r√©seau a ainsi connu <span class="underline-big">${events.length}</span> √©v√©nements et publications de contenu (${countEvents("Infolettre")}, ${countEvents("Post de blog")}, ${countEvents("Ev√©nement virtuel ou pr√©sentiel")}, ${countEvents("Masterclass")}).</div><br>`
```


```{ojs}
//| echo: false
html`<div>${lineplot}</div>`
html`<div>${warm_strip}</div>`
md`__Choisir les √©v√©nements du r√©seau √† afficher üëáÔ∏è__`
html`<div>${viewof events_chosen_figure1}</div>`
html`<div>${table_events}</div>`
```

{{< include _snippet_lineplot.qmd >}}


### Du contenu qui int√©resse au-del√† des statisticiens publics

Si les statistiques concernant la composition du r√©seau
parmi les institutions de la statistique publique
sont relativement stables par rapport √† l'an dernier, 
le changement principal ayant eu lieu en 2023 est
l'ouverture progressive √† des publics hors de la
statistique publique (administrations hors du SSP,
chercheurs et √©tudiants...) 

```{ojs}
//| echo: false
html`<div>${barplot_ssp}</div>`
```

<details>

<summary>
Code pour g√©n√©rer la figure
</summary>

```{ojs}
barplot_ssp = Plot.plot({
  marginLeft: 60,
  marginRight: 100,
  x: {label: "Frequency"},
  y: {label: null},
  color: {
    domain: ["Hors du SSP", "Institutions dans Service Statistique Public (SSP)"],
    range: ["forestgreen", "#6886bb"]
    },
  marks: [
    Plot.barX(hors_ssp_data, {y: "SSP", fy: "date", x: "mail", inset: 0.5, fill: "SSP", sort: "mail", tip: true, channels: {share: (d)  => `${100*d.share.toFixed(2)}%`}}),
    Plot.axisY({textAnchor: "start", fill: "black", dx: 14}),
    Plot.ruleX([0])
  ]
})
```

</details>

Les deux derni√®res publications sur le site du r√©seau,
√† savoir
l'[infolettre #15](./infolettre/infolettre_15/index.qmd)
sur le r√©entrainement des mod√®les de langage
et, surtout,
le [_post_ de blog](./blog/parquetRP/index.qmd)
sur la publication du recensement de la population au format `Parquet`
ont connu un √©cho important hors des 
cercles de _data scientist_ du service statistique public
et ont amen√© de nouveaux publics √† suivre les contenus 
propos√©s par le r√©seau.


# Actualit√©s de la _data science_

## La startup Mistral AI publie un mod√®le √† l'√©tat de l'art

Mistral AI, une _startup_ fran√ßaise sp√©cialis√©e dans l'intelligence artificielle,
vient de publier un mod√®le nomm√© [`Mixtral`](https://mistral.ai/news/mixtral-of-experts/)
qui repose sur le principe du [_mixture of experts_](https://huggingface.co/blog/moe).
Cette technique consiste √† privil√©gier une architecture construite √† partir
de sous-mod√®les sp√©cialis√©s plut√¥t qu'un mod√®le g√©n√©raliste qui s'adapte
en fin de proc√©dure √† une question sp√©cialis√©e. Dans ce type
de mod√®les, l'enjeu est ainsi d'interpr√©ter la question pour 
diriger la r√©ponse vers l'expert ad√©quat : si une question porte sur un sujet de cuisine, 
un.e expert.e sp√©cialis√©.e en code sera de peu de secours. 


D'apr√®s les premi√®res √©valuations publi√©es, ce mod√®le surpasserait 
les capacit√©s des autres mod√®les ouverts (notamment `Llama 2`) 
et s'approcherait des performances de GPT 3.5,
le mod√®le derri√®re la version gratuite de ChatGPT. 
Cette annonce a eu lieu en pleine p√©riode de lev√©e de fonds
pour Mistral AI qui aurait obtenu un financement de 385
millions d'euros. 


<details>
<summary>
Tableau des performances (source: [Mistral AI](https://mistral.ai/news/mixtral-of-experts/))
</summary>
![Tableau des performances publi√© par Mistral AI](https://mistral.ai/images/news/mixtral-of-experts/overview.png)
</details>

::: {.callout-note}
## Pour en savoir plus

- Un [article du _Monde_](https://www.lemonde.fr/economie/article/2023/12/11/levee-de-fonds-de-mistral-ai-l-intelligence-artificielle-nous-projette-dans-un-emballement-temporel_6205157_3234.html) sur l'entreprise Mistral AI ;
- Le mod√®le `Mixtral` sur [Huggingface](https://huggingface.co/docs/transformers/model_doc/mixtral) ;
- Le principe des architectures _mixture of experts_: [article Wikipedia](https://en.wikipedia.org/wiki/Mixture_of_experts).

:::


## L'Europe adopte un _"AI Act"_ historique

Dans un accord sign√© le 9 d√©cembre 2023 et nomm√© "Artificial Intelligence Act", les Etats membres et le Parlement europ√©en ont √©tabli
des r√®gles r√©gissant les syst√®mes d‚Äôintelligence artificielle.
Cet accord est un compromis entre une r√©gulation forte
prot√©geant les donn√©es produites quotidiennement
par les citoyens europ√©ens
et une approche plus permissive, d√©fendue
par exemple par la France et l'Allemagne,
pouvant favoriser l'innovation dans le domaine.

D√©but√©es en 2018, avant que les IA g√©n√©ratives ne deviennent
si populaires, ces discussions d√©passent le cadre exclusif de ces
derni√®res. N√©anmoins,
concernant celles-ci, le compromis pr√©voit une approche diff√©renci√©e suivant le contexte de d√©veloppement et l'usage de ces mod√®les. 
Outre le respect des r√®gles europ√©ennes 
de propri√©t√© intellectuelle, les d√©veloppeurs de mod√®les g√©n√©ratifs
devront s'assurer que les produits diffus√©s soient bien identifi√©s comme
artificiels, afin de limiter la
diffusion de [_deepfakes_](https://fr.wikipedia.org/wiki/Deepfake).
Les d√©veloppeurs de ces mod√®les
devront √©galement communiquer sur la qualit√© des donn√©es utilis√©es
pour entra√Æner les mod√®les et sur le co√ªt √©nerg√©tique de ceux-ci. 
Les mod√®les _open source_ et ceux construits √† des fins de recherche b√©n√©ficient
d'exemptions de ces r√®gles. 

Des contraintes renforc√©es s‚Äôappliqueront aux syst√®mes jug√©s √† _"haut risque"_
dans des domaines comme la d√©fense, l'√©ducation, les ressources humaines
ou encore la sant√©. 
Pour ces syst√®mes, il sera n√©cessaire de r√©aliser une analyse d‚Äôimpact avant la mise sur le march√©. Par ailleurs, une obligation de transparence et d‚Äôexplicabilit√© des mod√®les est mise en place
afin d'√™tre en mesure de comprendre les r√®gles de d√©cision de ces IA.

L'AI Act interdit √©galement l'utilisation de l'IA dans quelques domaines, jug√©s trop sensibles. 
Par exemple, la reconnaissance faciale de masse est interdite, hormis lorsque celle-ci
est justifi√©e par des motifs de s√©curit√© nationale.  
D'autres utilisations, porteuses potentiellement de d√©rives, comme
la notation sociale bas√©e sur le comportement ou des caract√©ristiques personnelles
sont interdits. 

::: {.callout-note}
## Pour en savoir plus

- Un [article du _Monde_](https://www.lemonde.fr/economie/article/2023/12/09/ai-act-l-union-europeenne-pionniere-dans-la-regulation-de-l-intelligence-artificielle_6204830_3234.html) (r√©serv√© aux abonn√©s) sur le sujet ;
- L'[avis d'Andrew Ng](https://info.deeplearning.ai/googles-answer-to-gpt-4-europes-restrictions-on-ai-open-sources-new-champion-metas-vision-architecture-1) sur cet accord.

:::


## Nouveau _post_ de blog: diffusion du recensement de la population au format `Parquet`

Chaque ann√©e, l'Insee diffuse des statistiques construites
√† partir du recensement
de la population, l'une des enqu√™tes phares de l'institut.
Pour accompagner ces r√©sultats et permettre √† de nombreux
acteurs de creuser ces donn√©es tr√®s riches dans des dimensions
qui les int√©ressent, l'Insee diffuse √©galement 
des bases de donn√©es d√©taill√©es construites apr√®s
anonymisation de pr√®s de 20 millions de donn√©es individuelles. 

Ces donn√©es, d'une extr√™me richesse, √©taient historiquement
complexes √† manipuler du fait de leur volum√©trie. La diffusion
de celles-ci sous le format `Parquet`, une premi√®re mondiale,
vise √† simplifier leur exploitation.
Pour accompagner cette innovation,
en partenariat avec les services de diffusion de l'Insee, 
le [dernier _post_ de blog](https://ssphub.netlify.app/post/parquetrp/) du r√©seau pr√©sente un guide
pratique d'utilisation de ces donn√©es dans plusieurs
langages de traitement ({{< fa brands r-project >}} , `Python` {{< fa brands python >}} et `Observable` {{< fa brands js-square >}}) par le biais de `DuckDB`. 

Combien d'habitants de Toulouse ont chang√© de logement sur l'ann√©e ? Quels sont les
d√©partements avec le plus de centenaires ? Le [_post_ de blog](https://ssphub.netlify.app/post/parquetrp/) vous montrera comment calculer ces statistiques. Et si vous d√©sirez d√©couvrir
ce format avec des exemples additionnels, ce _post_ d'[Eric Mauvi√®re](https://www.icem7.fr/outils/3-explorations-bluffantes-avec-duckdb-1-interroger-des-fichiers-distants/) vous int√©ressera √©galement.


::: {.callout-note}
## Pour en savoir plus

- Le [_post_ de blog](https://ssphub.netlify.app/post/parquetrp/) ;
- Un [article](https://www.insee.fr/fr/information/7635827?sommaire=7635842) sur le format `Parquet` dans le _Courrier des stats n¬∞9_
√©crit par Alexis Dondon et Pierre Lamarche ;
- Le blog d'[Eric Mauvi√®re](https://www.icem7.fr/outils/3-explorations-bluffantes-avec-duckdb-1-interroger-des-fichiers-distants/) qui pr√©sente
une s√©rie d'articles sur le format `Parquet`;
- La [pr√©sentation](https://www.linkedin.com/feed/update/urn:li:activity:7133760348129505281?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28V2%2Curn%3Ali%3Aactivity%3A7133760348129505281%29
) de Romain Lesur sur le sujet pour l'atelier _Modernisation of Official Statistics_ de l'UNECE.
:::

## Le [SSPCloud](https://datalab.sspcloud.fr) se dote d'un explorateur de fichiers bas√© sur `DuckDB`

`DuckDB` est un outil extr√™mement efficace pour lire des
fichiers `Parquet` et `CSV`. Outre son
efficacit√©, `DuckDB` pr√©sente l'avantage
d'√™tre disponible par le biais de plusieurs
clients: {{< fa brands r-project >}}, `Python` {{< fa brands python >}}
mais aussi un navigateur web gr√¢ce √† `Javascript` {{< fa brands js-square >}} . 
Des acteurs majeurs de l'√©cosyst√®me de
la _data science_, notamment [Observable](https://observablehq.com/documentation/data/databases/database-clients#duckdb) ont
fait de `DuckDB` une pierre angulaire de leurs explorateurs de donn√©es. 
L'avantage de cette approche, typique du _web assembly_,
est que seul `Javascript` {{< fa brands js-square >}}, qui est disponible sur tout navigateur, est
n√©cessaire pour visualiser et effectuer des traitements analytiques
sur des donn√©es. 

Le [`SSPCloud`](https://datalab.sspcloud.fr), la plateforme moderne
de traitement de donn√©es d√©velopp√©e par l'Insee et mise
√† disposition de pr√®s de 3000 agents de l'administration ou √©tudiants, vient
de mettre en oeuvre un [permettant des fonctionnalit√©s similaires](https://datalab.sspcloud.fr/data-explorer?rowsPerPage=25&page=1&columnWidths=%7B%7D&columnVisibility=%7B%7D) üöÄ. 


![Un exemple d'utilisation de cet explorateur sur les donn√©es d√©taill√©es du recensement üëÜÔ∏è](viewer-sspcloud.png)

Celui-ci s'appuie sur `DuckDB` et permet de visualiser de 
mani√®re tr√®s fluide les fichiers
aux formats `Parquet` et `CSV`. Il ne se restreint pas aux donn√©es
disponibles sur les espaces de stockage personnels du `SSPCloud`:
n'importe quel fichier, au format ad√©quat et disponible sur internet,
peut √™tre lu avec
ce visualiseur. Il n'est d'ailleurs pas n√©cessaire d'avoir un compte
sur le [`SSPCloud`](https://datalab.sspcloud.fr) pour l'utiliser, il suffit que le fichier que l'on souhaite lire soit un
fichier _open data _ üòç ! 

::: {.callout-note}
## Pour en savoir plus

- [Des √©l√©ments](https://developer.mozilla.org/fr/docs/WebAssembly) sur le _web assembly_ ;
- [L'explorateur de fichier du `SSPCloud`](https://datalab.sspcloud.fr/data-explorer?rowsPerPage=25&page=1&columnWidths=%7B%7D&columnVisibility=%7B%7D) ;
- [L'explorateur de fichiers de `data.gouv`](https://explore.data.gouv.fr/tableau) bas√© sur la m√™me approche technologique. 
:::

## L'accessibilit√© de `Jupyter` am√©lior√©e avec le concours de l'Insee

Afin de ne pas p√©naliser certains publics, les logiciels
doivent respecter des crit√®res d'accessibilit√©.
Ils doivent notamment avoir de nombreuses
fonctionnalit√©s accessibles sans souris, exclusivement
par le biais du clavier. Cependant, `Jupyter`, 
logiciel bien connu des _data scientists_,
par la structure complexe de son interface,
pr√©sentait plusieurs probl√®mes √† cet √©gard, comme
la difficult√© √† naviguer dans la page pour trouver
le menu n√©cessaire pour √©diter du code. 

Gr√¢ce √† une subvention de l'Insee, des travaux d'am√©lioration
de l'accessibilit√© de `Jupyter` ont pu √™tre men√©s. 
Les prochaines versions du logiciel devraient √™tre plus accessibles,
et, entre autres, plus pratiques d'usage pour les _data scientists_ qui
privil√©gient le clavier √† la souris pour se d√©placer dans un document. 

::: {.callout-note}
## Pour en savoir plus

- L'[annonce](https://blog.jupyter.org/recent-keyboard-navigation-improvements-in-jupyter-4df32f97628d) sur le blog de `Jupyter` ;
- Le principe d'[accessibilit√© clavier](https://www.w3.org/WAI/WCAG21/Understanding/keyboard-accessible) du W3C.
:::




# Annexe pour les curieux: le code `Observable` utilis√© pour cette page

<details>
<summary>
Les librairies ou imports externes utilis√©s
</summary>

```{ojs}
Plot = require('@observablehq/plot@0.6.12/dist/plot.umd.min.js') //<1>
import {disposal} from "@mbostock/disposal"
import {Scrubber} from "@mbostock/scrubber"
```
1. La librairie `Plot` embarqu√©e par d√©faut dans `Quarto` est un peu vieille mais la mettre √† jour est assez simple.

</details>




{{< include _snippet_progress_participants_objects.qmd >}}



{{< include _functions.qmd >}}


{{< include _data.qmd >}}

